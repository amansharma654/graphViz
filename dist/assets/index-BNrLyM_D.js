(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function Ix(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var wf={exports:{}},Wo={},xf={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function zx(){if(mg)return rt;mg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),h=Symbol.iterator;function p(N){return N===null||typeof N!="object"?null:(N=h&&N[h]||N["@@iterator"],typeof N=="function"?N:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,E={};function x(N,F,ee){this.props=N,this.context=F,this.refs=E,this.updater=ee||y}x.prototype.isReactComponent={},x.prototype.setState=function(N,F){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,F,"setState")},x.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function S(){}S.prototype=x.prototype;function b(N,F,ee){this.props=N,this.context=F,this.refs=E,this.updater=ee||y}var k=b.prototype=new S;k.constructor=b,m(k,x.prototype),k.isPureReactComponent=!0;var T=Array.isArray,D=Object.prototype.hasOwnProperty,R={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function B(N,F,ee){var ae,ne={},se=null,fe=null;if(F!=null)for(ae in F.ref!==void 0&&(fe=F.ref),F.key!==void 0&&(se=""+F.key),F)D.call(F,ae)&&!P.hasOwnProperty(ae)&&(ne[ae]=F[ae]);var ge=arguments.length-2;if(ge===1)ne.children=ee;else if(1<ge){for(var le=Array(ge),Q=0;Q<ge;Q++)le[Q]=arguments[Q+2];ne.children=le}if(N&&N.defaultProps)for(ae in ge=N.defaultProps,ge)ne[ae]===void 0&&(ne[ae]=ge[ae]);return{$$typeof:r,type:N,key:se,ref:fe,props:ne,_owner:R.current}}function L(N,F){return{$$typeof:r,type:N.type,key:F,ref:N.ref,props:N.props,_owner:N._owner}}function M(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function z(N){var F={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ee){return F[ee]})}var O=/\/+/g;function _(N,F){return typeof N=="object"&&N!==null&&N.key!=null?z(""+N.key):F.toString(36)}function W(N,F,ee,ae,ne){var se=typeof N;(se==="undefined"||se==="boolean")&&(N=null);var fe=!1;if(N===null)fe=!0;else switch(se){case"string":case"number":fe=!0;break;case"object":switch(N.$$typeof){case r:case e:fe=!0}}if(fe)return fe=N,ne=ne(fe),N=ae===""?"."+_(fe,0):ae,T(ne)?(ee="",N!=null&&(ee=N.replace(O,"$&/")+"/"),W(ne,F,ee,"",function(Q){return Q})):ne!=null&&(M(ne)&&(ne=L(ne,ee+(!ne.key||fe&&fe.key===ne.key?"":(""+ne.key).replace(O,"$&/")+"/")+N)),F.push(ne)),1;if(fe=0,ae=ae===""?".":ae+":",T(N))for(var ge=0;ge<N.length;ge++){se=N[ge];var le=ae+_(se,ge);fe+=W(se,F,ee,le,ne)}else if(le=p(N),typeof le=="function")for(N=le.call(N),ge=0;!(se=N.next()).done;)se=se.value,le=ae+_(se,ge++),fe+=W(se,F,ee,le,ne);else if(se==="object")throw F=String(N),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return fe}function U(N,F,ee){if(N==null)return N;var ae=[],ne=0;return W(N,ae,"","",function(se){return F.call(ee,se,ne++)}),ae}function H(N){if(N._status===-1){var F=N._result;F=F(),F.then(function(ee){(N._status===0||N._status===-1)&&(N._status=1,N._result=ee)},function(ee){(N._status===0||N._status===-1)&&(N._status=2,N._result=ee)}),N._status===-1&&(N._status=0,N._result=F)}if(N._status===1)return N._result.default;throw N._result}var q={current:null},V={transition:null},G={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:V,ReactCurrentOwner:R};function j(){throw Error("act(...) is not supported in production builds of React.")}return rt.Children={map:U,forEach:function(N,F,ee){U(N,function(){F.apply(this,arguments)},ee)},count:function(N){var F=0;return U(N,function(){F++}),F},toArray:function(N){return U(N,function(F){return F})||[]},only:function(N){if(!M(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},rt.Component=x,rt.Fragment=t,rt.Profiler=i,rt.PureComponent=b,rt.StrictMode=n,rt.Suspense=c,rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,rt.act=j,rt.cloneElement=function(N,F,ee){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var ae=m({},N.props),ne=N.key,se=N.ref,fe=N._owner;if(F!=null){if(F.ref!==void 0&&(se=F.ref,fe=R.current),F.key!==void 0&&(ne=""+F.key),N.type&&N.type.defaultProps)var ge=N.type.defaultProps;for(le in F)D.call(F,le)&&!P.hasOwnProperty(le)&&(ae[le]=F[le]===void 0&&ge!==void 0?ge[le]:F[le])}var le=arguments.length-2;if(le===1)ae.children=ee;else if(1<le){ge=Array(le);for(var Q=0;Q<le;Q++)ge[Q]=arguments[Q+2];ae.children=ge}return{$$typeof:r,type:N.type,key:ne,ref:se,props:ae,_owner:fe}},rt.createContext=function(N){return N={$$typeof:l,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:o,_context:N},N.Consumer=N},rt.createElement=B,rt.createFactory=function(N){var F=B.bind(null,N);return F.type=N,F},rt.createRef=function(){return{current:null}},rt.forwardRef=function(N){return{$$typeof:u,render:N}},rt.isValidElement=M,rt.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:H}},rt.memo=function(N,F){return{$$typeof:f,type:N,compare:F===void 0?null:F}},rt.startTransition=function(N){var F=V.transition;V.transition={};try{N()}finally{V.transition=F}},rt.unstable_act=j,rt.useCallback=function(N,F){return q.current.useCallback(N,F)},rt.useContext=function(N){return q.current.useContext(N)},rt.useDebugValue=function(){},rt.useDeferredValue=function(N){return q.current.useDeferredValue(N)},rt.useEffect=function(N,F){return q.current.useEffect(N,F)},rt.useId=function(){return q.current.useId()},rt.useImperativeHandle=function(N,F,ee){return q.current.useImperativeHandle(N,F,ee)},rt.useInsertionEffect=function(N,F){return q.current.useInsertionEffect(N,F)},rt.useLayoutEffect=function(N,F){return q.current.useLayoutEffect(N,F)},rt.useMemo=function(N,F){return q.current.useMemo(N,F)},rt.useReducer=function(N,F,ee){return q.current.useReducer(N,F,ee)},rt.useRef=function(N){return q.current.useRef(N)},rt.useState=function(N){return q.current.useState(N)},rt.useSyncExternalStore=function(N,F,ee){return q.current.useSyncExternalStore(N,F,ee)},rt.useTransition=function(){return q.current.useTransition()},rt.version="18.3.1",rt}var yg;function bv(){return yg||(yg=1,xf.exports=zx()),xf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function Ox(){if(wg)return Wo;wg=1;var r=bv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,c,f){var v,h={},p=null,y=null;f!==void 0&&(p=""+f),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(y=c.ref);for(v in c)n.call(c,v)&&!o.hasOwnProperty(v)&&(h[v]=c[v]);if(u&&u.defaultProps)for(v in c=u.defaultProps,c)h[v]===void 0&&(h[v]=c[v]);return{$$typeof:e,type:u,key:p,ref:y,props:h,_owner:i.current}}return Wo.Fragment=t,Wo.jsx=l,Wo.jsxs=l,Wo}var xg;function _x(){return xg||(xg=1,wf.exports=Ox()),wf.exports}var X=_x(),it=bv();const Pl=Ix(it);var Dl={},bf={exports:{}},Or={},Ef={exports:{}},Sf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function Fx(){return bg||(bg=1,(function(r){function e(V,G){var j=V.length;V.push(G);e:for(;0<j;){var N=j-1>>>1,F=V[N];if(0<i(F,G))V[N]=G,V[j]=F,j=N;else break e}}function t(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var G=V[0],j=V.pop();if(j!==G){V[0]=j;e:for(var N=0,F=V.length,ee=F>>>1;N<ee;){var ae=2*(N+1)-1,ne=V[ae],se=ae+1,fe=V[se];if(0>i(ne,j))se<F&&0>i(fe,ne)?(V[N]=fe,V[se]=j,N=se):(V[N]=ne,V[ae]=j,N=ae);else if(se<F&&0>i(fe,j))V[N]=fe,V[se]=j,N=se;else break e}}return G}function i(V,G){var j=V.sortIndex-G.sortIndex;return j!==0?j:V.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var c=[],f=[],v=1,h=null,p=3,y=!1,m=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(V){for(var G=t(f);G!==null;){if(G.callback===null)n(f);else if(G.startTime<=V)n(f),G.sortIndex=G.expirationTime,e(c,G);else break;G=t(f)}}function T(V){if(E=!1,k(V),!m)if(t(c)!==null)m=!0,H(D);else{var G=t(f);G!==null&&q(T,G.startTime-V)}}function D(V,G){m=!1,E&&(E=!1,S(B),B=-1),y=!0;var j=p;try{for(k(G),h=t(c);h!==null&&(!(h.expirationTime>G)||V&&!z());){var N=h.callback;if(typeof N=="function"){h.callback=null,p=h.priorityLevel;var F=N(h.expirationTime<=G);G=r.unstable_now(),typeof F=="function"?h.callback=F:h===t(c)&&n(c),k(G)}else n(c);h=t(c)}if(h!==null)var ee=!0;else{var ae=t(f);ae!==null&&q(T,ae.startTime-G),ee=!1}return ee}finally{h=null,p=j,y=!1}}var R=!1,P=null,B=-1,L=5,M=-1;function z(){return!(r.unstable_now()-M<L)}function O(){if(P!==null){var V=r.unstable_now();M=V;var G=!0;try{G=P(!0,V)}finally{G?_():(R=!1,P=null)}}else R=!1}var _;if(typeof b=="function")_=function(){b(O)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,U=W.port2;W.port1.onmessage=O,_=function(){U.postMessage(null)}}else _=function(){x(O,0)};function H(V){P=V,R||(R=!0,_())}function q(V,G){B=x(function(){V(r.unstable_now())},G)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(V){V.callback=null},r.unstable_continueExecution=function(){m||y||(m=!0,H(D))},r.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<V?Math.floor(1e3/V):5},r.unstable_getCurrentPriorityLevel=function(){return p},r.unstable_getFirstCallbackNode=function(){return t(c)},r.unstable_next=function(V){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var j=p;p=G;try{return V()}finally{p=j}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var j=p;p=V;try{return G()}finally{p=j}},r.unstable_scheduleCallback=function(V,G,j){var N=r.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?N+j:N):j=N,V){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=j+F,V={id:v++,callback:G,priorityLevel:V,startTime:j,expirationTime:F,sortIndex:-1},j>N?(V.sortIndex=j,e(f,V),t(c)===null&&V===t(f)&&(E?(S(B),B=-1):E=!0,q(T,j-N))):(V.sortIndex=F,e(c,V),m||y||(m=!0,H(D))),V},r.unstable_shouldYield=z,r.unstable_wrapCallback=function(V){var G=p;return function(){var j=p;p=G;try{return V.apply(this,arguments)}finally{p=j}}}})(Sf)),Sf}var Eg;function Vx(){return Eg||(Eg=1,Ef.exports=Fx()),Ef.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg;function qx(){if(Sg)return Or;Sg=1;var r=bv(),e=Vx();function t(a){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)s+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(a,s){l(a,s),l(a+"Capture",s)}function l(a,s){for(i[a]=s,a=0;a<s.length;a++)n.add(s[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},h={};function p(a){return c.call(h,a)?!0:c.call(v,a)?!1:f.test(a)?h[a]=!0:(v[a]=!0,!1)}function y(a,s,d,g){if(d!==null&&d.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function m(a,s,d,g){if(s===null||typeof s>"u"||y(a,s,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function E(a,s,d,g,w,C,A){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=g,this.attributeNamespace=w,this.mustUseProperty=d,this.propertyName=a,this.type=s,this.sanitizeURL=C,this.removeEmptyString=A}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){x[a]=new E(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var s=a[0];x[s]=new E(s,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){x[a]=new E(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){x[a]=new E(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){x[a]=new E(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){x[a]=new E(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){x[a]=new E(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){x[a]=new E(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){x[a]=new E(a,5,!1,a.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function b(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var s=a.replace(S,b);x[s]=new E(s,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var s=a.replace(S,b);x[s]=new E(s,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var s=a.replace(S,b);x[s]=new E(s,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){x[a]=new E(a,1,!1,a.toLowerCase(),null,!1,!1)}),x.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){x[a]=new E(a,1,!1,a.toLowerCase(),null,!0,!0)});function k(a,s,d,g){var w=x.hasOwnProperty(s)?x[s]:null;(w!==null?w.type!==0:g||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(m(s,d,w,g)&&(d=null),g||w===null?p(s)&&(d===null?a.removeAttribute(s):a.setAttribute(s,""+d)):w.mustUseProperty?a[w.propertyName]=d===null?w.type===3?!1:"":d:(s=w.attributeName,g=w.attributeNamespace,d===null?a.removeAttribute(s):(w=w.type,d=w===3||w===4&&d===!0?"":""+d,g?a.setAttributeNS(g,s,d):a.setAttribute(s,d))))}var T=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),R=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),z=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),V=Symbol.iterator;function G(a){return a===null||typeof a!="object"?null:(a=V&&a[V]||a["@@iterator"],typeof a=="function"?a:null)}var j=Object.assign,N;function F(a){if(N===void 0)try{throw Error()}catch(d){var s=d.stack.trim().match(/\n( *(at )?)/);N=s&&s[1]||""}return`
`+N+a}var ee=!1;function ae(a,s){if(!a||ee)return"";ee=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(oe){var g=oe}Reflect.construct(a,[],s)}else{try{s.call()}catch(oe){g=oe}a.call(s.prototype)}else{try{throw Error()}catch(oe){g=oe}a()}}catch(oe){if(oe&&g&&typeof oe.stack=="string"){for(var w=oe.stack.split(`
`),C=g.stack.split(`
`),A=w.length-1,$=C.length-1;1<=A&&0<=$&&w[A]!==C[$];)$--;for(;1<=A&&0<=$;A--,$--)if(w[A]!==C[$]){if(A!==1||$!==1)do if(A--,$--,0>$||w[A]!==C[$]){var K=`
`+w[A].replace(" at new "," at ");return a.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",a.displayName)),K}while(1<=A&&0<=$);break}}}finally{ee=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?F(a):""}function ne(a){switch(a.tag){case 5:return F(a.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return a=ae(a.type,!1),a;case 11:return a=ae(a.type.render,!1),a;case 1:return a=ae(a.type,!0),a;default:return""}}function se(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case P:return"Fragment";case R:return"Portal";case L:return"Profiler";case B:return"StrictMode";case _:return"Suspense";case W:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case z:return(a.displayName||"Context")+".Consumer";case M:return(a._context.displayName||"Context")+".Provider";case O:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case U:return s=a.displayName||null,s!==null?s:se(a.type)||"Memo";case H:s=a._payload,a=a._init;try{return se(a(s))}catch{}}return null}function fe(a){var s=a.type;switch(a.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=s.render,a=a.displayName||a.name||"",s.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(s);case 8:return s===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ge(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function le(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Q(a){var s=le(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),g=""+a[s];if(!a.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var w=d.get,C=d.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return w.call(this)},set:function(A){g=""+A,C.call(this,A)}}),Object.defineProperty(a,s,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(A){g=""+A},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Z(a){a._valueTracker||(a._valueTracker=Q(a))}function ie(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var d=s.getValue(),g="";return a&&(g=le(a)?a.checked?"true":"false":a.value),a=g,a!==d?(s.setValue(a),!0):!1}function de(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function be(a,s){var d=s.checked;return j({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function Ie(a,s){var d=s.defaultValue==null?"":s.defaultValue,g=s.checked!=null?s.checked:s.defaultChecked;d=ge(s.value!=null?s.value:d),a._wrapperState={initialChecked:g,initialValue:d,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function nt(a,s){s=s.checked,s!=null&&k(a,"checked",s,!1)}function Ge(a,s){nt(a,s);var d=ge(s.value),g=s.type;if(d!=null)g==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}s.hasOwnProperty("value")?Ve(a,s.type,d):s.hasOwnProperty("defaultValue")&&Ve(a,s.type,ge(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(a.defaultChecked=!!s.defaultChecked)}function We(a,s,d){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var g=s.type;if(!(g!=="submit"&&g!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+a._wrapperState.initialValue,d||s===a.value||(a.value=s),a.defaultValue=s}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function Ve(a,s,d){(s!=="number"||de(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var Se=Array.isArray;function Be(a,s,d,g){if(a=a.options,s){s={};for(var w=0;w<d.length;w++)s["$"+d[w]]=!0;for(d=0;d<a.length;d++)w=s.hasOwnProperty("$"+a[d].value),a[d].selected!==w&&(a[d].selected=w),w&&g&&(a[d].defaultSelected=!0)}else{for(d=""+ge(d),s=null,w=0;w<a.length;w++){if(a[w].value===d){a[w].selected=!0,g&&(a[w].defaultSelected=!0);return}s!==null||a[w].disabled||(s=a[w])}s!==null&&(s.selected=!0)}}function ze(a,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return j({},s,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Ke(a,s){var d=s.value;if(d==null){if(d=s.children,s=s.defaultValue,d!=null){if(s!=null)throw Error(t(92));if(Se(d)){if(1<d.length)throw Error(t(93));d=d[0]}s=d}s==null&&(s=""),d=s}a._wrapperState={initialValue:ge(d)}}function Fe(a,s){var d=ge(s.value),g=ge(s.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),s.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),g!=null&&(a.defaultValue=""+g)}function Qe(a){var s=a.textContent;s===a._wrapperState.initialValue&&s!==""&&s!==null&&(a.value=s)}function at(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function st(a,s){return a==null||a==="http://www.w3.org/1999/xhtml"?at(s):a==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var ot,lt=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,d,g,w){MSApp.execUnsafeLocalFunction(function(){return a(s,d,g,w)})}:a})(function(a,s){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=s;else{for(ot=ot||document.createElement("div"),ot.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ot.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;s.firstChild;)a.appendChild(s.firstChild)}});function $e(a,s){if(s){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=s;return}}a.textContent=s}var Ce={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];Object.keys(Ce).forEach(function(a){ve.forEach(function(s){s=s+a.charAt(0).toUpperCase()+a.substring(1),Ce[s]=Ce[a]})});function I(a,s,d){return s==null||typeof s=="boolean"||s===""?"":d||typeof s!="number"||s===0||Ce.hasOwnProperty(a)&&Ce[a]?(""+s).trim():s+"px"}function te(a,s){a=a.style;for(var d in s)if(s.hasOwnProperty(d)){var g=d.indexOf("--")===0,w=I(d,s[d],g);d==="float"&&(d="cssFloat"),g?a.setProperty(d,w):a[d]=w}}var ue=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ce(a,s){if(s){if(ue[a]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function he(a,s){if(a.indexOf("-")===-1)return typeof s.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pe=null;function pe(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ne=null,ke=null,_e=null;function Ze(a){if(a=Po(a)){if(typeof Ne!="function")throw Error(t(280));var s=a.stateNode;s&&(s=Ws(s),Ne(a.stateNode,a.type,s))}}function Xe(a){ke?_e?_e.push(a):_e=[a]:ke=a}function Me(){if(ke){var a=ke,s=_e;if(_e=ke=null,Ze(a),s)for(a=0;a<s.length;a++)Ze(s[a])}}function et(a,s){return a(s)}function Je(){}var At=!1;function Et(a,s,d){if(At)return a(s,d);At=!0;try{return et(a,s,d)}finally{At=!1,(ke!==null||_e!==null)&&(Je(),Me())}}function qt(a,s){var d=a.stateNode;if(d===null)return null;var g=Ws(d);if(g===null)return null;d=g[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(t(231,s,typeof d));return d}var Pt=!1;if(u)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Pt=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{Pt=!1}function Wt(a,s,d,g,w,C,A,$,K){var oe=Array.prototype.slice.call(arguments,3);try{s.apply(d,oe)}catch(ye){this.onError(ye)}}var Nt=!1,qr=null,St=!1,Wr=null,an={onError:function(a){Nt=!0,qr=a}};function Hn(a,s,d,g,w,C,A,$,K){Nt=!1,qr=null,Wt.apply(an,arguments)}function li(a,s,d,g,w,C,A,$,K){if(Hn.apply(this,arguments),Nt){if(Nt){var oe=qr;Nt=!1,qr=null}else throw Error(t(198));St||(St=!0,Wr=oe)}}function kr(a){var s=a,d=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(d=s.return),a=s.return;while(a)}return s.tag===3?d:null}function ur(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function Kt(a){if(kr(a)!==a)throw Error(t(188))}function gr(a){var s=a.alternate;if(!s){if(s=kr(a),s===null)throw Error(t(188));return s!==a?null:a}for(var d=a,g=s;;){var w=d.return;if(w===null)break;var C=w.alternate;if(C===null){if(g=w.return,g!==null){d=g;continue}break}if(w.child===C.child){for(C=w.child;C;){if(C===d)return Kt(w),a;if(C===g)return Kt(w),s;C=C.sibling}throw Error(t(188))}if(d.return!==g.return)d=w,g=C;else{for(var A=!1,$=w.child;$;){if($===d){A=!0,d=w,g=C;break}if($===g){A=!0,g=w,d=C;break}$=$.sibling}if(!A){for($=C.child;$;){if($===d){A=!0,d=C,g=w;break}if($===g){A=!0,g=C,d=w;break}$=$.sibling}if(!A)throw Error(t(189))}}if(d.alternate!==g)throw Error(t(190))}if(d.tag!==3)throw Error(t(188));return d.stateNode.current===d?a:s}function jn(a){return a=gr(a),a!==null?Tr(a):null}function Tr(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var s=Tr(a);if(s!==null)return s;a=a.sibling}return null}var io=e.unstable_scheduleCallback,Cs=e.unstable_cancelCallback,Iu=e.unstable_shouldYield,zu=e.unstable_requestPaint,Mt=e.unstable_now,Ou=e.unstable_getCurrentPriorityLevel,oo=e.unstable_ImmediatePriority,ks=e.unstable_UserBlockingPriority,gn=e.unstable_NormalPriority,so=e.unstable_LowPriority,Na=e.unstable_IdlePriority,Ma=null,$r=null;function _u(a){if($r&&typeof $r.onCommitFiberRoot=="function")try{$r.onCommitFiberRoot(Ma,a,void 0,(a.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:La,lo=Math.log,Ts=Math.LN2;function La(a){return a>>>=0,a===0?32:31-(lo(a)/Ts|0)|0}var mr=64,ui=4194304;function ci(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function fi(a,s){var d=a.pendingLanes;if(d===0)return 0;var g=0,w=a.suspendedLanes,C=a.pingedLanes,A=d&268435455;if(A!==0){var $=A&~w;$!==0?g=ci($):(C&=A,C!==0&&(g=ci(C)))}else A=d&~w,A!==0?g=ci(A):C!==0&&(g=ci(C));if(g===0)return 0;if(s!==0&&s!==g&&(s&w)===0&&(w=g&-g,C=s&-s,w>=C||w===16&&(C&4194240)!==0))return s;if((g&4)!==0&&(g|=d&16),s=a.entangledLanes,s!==0)for(a=a.entanglements,s&=g;0<s;)d=31-Lt(s),w=1<<d,g|=a[d],s&=~w;return g}function ew(a,s){switch(a){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tw(a,s){for(var d=a.suspendedLanes,g=a.pingedLanes,w=a.expirationTimes,C=a.pendingLanes;0<C;){var A=31-Lt(C),$=1<<A,K=w[A];K===-1?(($&d)===0||($&g)!==0)&&(w[A]=ew($,s)):K<=s&&(a.expiredLanes|=$),C&=~$}}function Fu(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Kv(){var a=mr;return mr<<=1,(mr&4194240)===0&&(mr=64),a}function Vu(a){for(var s=[],d=0;31>d;d++)s.push(a);return s}function uo(a,s,d){a.pendingLanes|=s,s!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,s=31-Lt(s),a[s]=d}function rw(a,s){var d=a.pendingLanes&~s;a.pendingLanes=s,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=s,a.mutableReadLanes&=s,a.entangledLanes&=s,s=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<d;){var w=31-Lt(d),C=1<<w;s[w]=0,g[w]=-1,a[w]=-1,d&=~C}}function qu(a,s){var d=a.entangledLanes|=s;for(a=a.entanglements;d;){var g=31-Lt(d),w=1<<g;w&s|a[g]&s&&(a[g]|=s),d&=~w}}var gt=0;function Yv(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Xv,Wu,Qv,Zv,Jv,$u=!1,Ps=[],Gn=null,Kn=null,Yn=null,co=new Map,fo=new Map,Xn=[],nw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eh(a,s){switch(a){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":co.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(s.pointerId)}}function vo(a,s,d,g,w,C){return a===null||a.nativeEvent!==C?(a={blockedOn:s,domEventName:d,eventSystemFlags:g,nativeEvent:C,targetContainers:[w]},s!==null&&(s=Po(s),s!==null&&Wu(s)),a):(a.eventSystemFlags|=g,s=a.targetContainers,w!==null&&s.indexOf(w)===-1&&s.push(w),a)}function aw(a,s,d,g,w){switch(s){case"focusin":return Gn=vo(Gn,a,s,d,g,w),!0;case"dragenter":return Kn=vo(Kn,a,s,d,g,w),!0;case"mouseover":return Yn=vo(Yn,a,s,d,g,w),!0;case"pointerover":var C=w.pointerId;return co.set(C,vo(co.get(C)||null,a,s,d,g,w)),!0;case"gotpointercapture":return C=w.pointerId,fo.set(C,vo(fo.get(C)||null,a,s,d,g,w)),!0}return!1}function th(a){var s=Ia(a.target);if(s!==null){var d=kr(s);if(d!==null){if(s=d.tag,s===13){if(s=ur(d),s!==null){a.blockedOn=s,Jv(a.priority,function(){Qv(d)});return}}else if(s===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ds(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var d=Hu(a.domEventName,a.eventSystemFlags,s[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);Pe=g,d.target.dispatchEvent(g),Pe=null}else return s=Po(d),s!==null&&Wu(s),a.blockedOn=d,!1;s.shift()}return!0}function rh(a,s,d){Ds(a)&&d.delete(s)}function iw(){$u=!1,Gn!==null&&Ds(Gn)&&(Gn=null),Kn!==null&&Ds(Kn)&&(Kn=null),Yn!==null&&Ds(Yn)&&(Yn=null),co.forEach(rh),fo.forEach(rh)}function ho(a,s){a.blockedOn===s&&(a.blockedOn=null,$u||($u=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,iw)))}function po(a){function s(w){return ho(w,a)}if(0<Ps.length){ho(Ps[0],a);for(var d=1;d<Ps.length;d++){var g=Ps[d];g.blockedOn===a&&(g.blockedOn=null)}}for(Gn!==null&&ho(Gn,a),Kn!==null&&ho(Kn,a),Yn!==null&&ho(Yn,a),co.forEach(s),fo.forEach(s),d=0;d<Xn.length;d++)g=Xn[d],g.blockedOn===a&&(g.blockedOn=null);for(;0<Xn.length&&(d=Xn[0],d.blockedOn===null);)th(d),d.blockedOn===null&&Xn.shift()}var di=T.ReactCurrentBatchConfig,Rs=!0;function ow(a,s,d,g){var w=gt,C=di.transition;di.transition=null;try{gt=1,Uu(a,s,d,g)}finally{gt=w,di.transition=C}}function sw(a,s,d,g){var w=gt,C=di.transition;di.transition=null;try{gt=4,Uu(a,s,d,g)}finally{gt=w,di.transition=C}}function Uu(a,s,d,g){if(Rs){var w=Hu(a,s,d,g);if(w===null)lc(a,s,g,Bs,d),eh(a,g);else if(aw(w,a,s,d,g))g.stopPropagation();else if(eh(a,g),s&4&&-1<nw.indexOf(a)){for(;w!==null;){var C=Po(w);if(C!==null&&Xv(C),C=Hu(a,s,d,g),C===null&&lc(a,s,g,Bs,d),C===w)break;w=C}w!==null&&g.stopPropagation()}else lc(a,s,g,null,d)}}var Bs=null;function Hu(a,s,d,g){if(Bs=null,a=pe(g),a=Ia(a),a!==null)if(s=kr(a),s===null)a=null;else if(d=s.tag,d===13){if(a=ur(s),a!==null)return a;a=null}else if(d===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null);return Bs=a,null}function nh(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ou()){case oo:return 1;case ks:return 4;case gn:case so:return 16;case Na:return 536870912;default:return 16}default:return 16}}var Qn=null,ju=null,As=null;function ah(){if(As)return As;var a,s=ju,d=s.length,g,w="value"in Qn?Qn.value:Qn.textContent,C=w.length;for(a=0;a<d&&s[a]===w[a];a++);var A=d-a;for(g=1;g<=A&&s[d-g]===w[C-g];g++);return As=w.slice(a,1<g?1-g:void 0)}function Ns(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Ms(){return!0}function ih(){return!1}function Ur(a){function s(d,g,w,C,A){this._reactName=d,this._targetInst=w,this.type=g,this.nativeEvent=C,this.target=A,this.currentTarget=null;for(var $ in a)a.hasOwnProperty($)&&(d=a[$],this[$]=d?d(C):C[$]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Ms:ih,this.isPropagationStopped=ih,this}return j(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),s}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gu=Ur(vi),go=j({},vi,{view:0,detail:0}),lw=Ur(go),Ku,Yu,mo,Ls=j({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qu,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==mo&&(mo&&a.type==="mousemove"?(Ku=a.screenX-mo.screenX,Yu=a.screenY-mo.screenY):Yu=Ku=0,mo=a),Ku)},movementY:function(a){return"movementY"in a?a.movementY:Yu}}),oh=Ur(Ls),uw=j({},Ls,{dataTransfer:0}),cw=Ur(uw),fw=j({},go,{relatedTarget:0}),Xu=Ur(fw),dw=j({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),vw=Ur(dw),hw=j({},vi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),pw=Ur(hw),gw=j({},vi,{data:0}),sh=Ur(gw),mw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ww={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xw(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=ww[a])?!!s[a]:!1}function Qu(){return xw}var bw=j({},go,{key:function(a){if(a.key){var s=mw[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Ns(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?yw[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qu,charCode:function(a){return a.type==="keypress"?Ns(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ns(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Ew=Ur(bw),Sw=j({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lh=Ur(Sw),Cw=j({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qu}),kw=Ur(Cw),Tw=j({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pw=Ur(Tw),Dw=j({},Ls,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Rw=Ur(Dw),Bw=[9,13,27,32],Zu=u&&"CompositionEvent"in window,yo=null;u&&"documentMode"in document&&(yo=document.documentMode);var Aw=u&&"TextEvent"in window&&!yo,uh=u&&(!Zu||yo&&8<yo&&11>=yo),ch=" ",fh=!1;function dh(a,s){switch(a){case"keyup":return Bw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vh(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var hi=!1;function Nw(a,s){switch(a){case"compositionend":return vh(s);case"keypress":return s.which!==32?null:(fh=!0,ch);case"textInput":return a=s.data,a===ch&&fh?null:a;default:return null}}function Mw(a,s){if(hi)return a==="compositionend"||!Zu&&dh(a,s)?(a=ah(),As=ju=Qn=null,hi=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return uh&&s.locale!=="ko"?null:s.data;default:return null}}var Lw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hh(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!Lw[a.type]:s==="textarea"}function ph(a,s,d,g){Xe(g),s=Fs(s,"onChange"),0<s.length&&(d=new Gu("onChange","change",null,d,g),a.push({event:d,listeners:s}))}var wo=null,xo=null;function Iw(a){Mh(a,0)}function Is(a){var s=wi(a);if(ie(s))return a}function zw(a,s){if(a==="change")return s}var gh=!1;if(u){var Ju;if(u){var ec="oninput"in document;if(!ec){var mh=document.createElement("div");mh.setAttribute("oninput","return;"),ec=typeof mh.oninput=="function"}Ju=ec}else Ju=!1;gh=Ju&&(!document.documentMode||9<document.documentMode)}function yh(){wo&&(wo.detachEvent("onpropertychange",wh),xo=wo=null)}function wh(a){if(a.propertyName==="value"&&Is(xo)){var s=[];ph(s,xo,a,pe(a)),Et(Iw,s)}}function Ow(a,s,d){a==="focusin"?(yh(),wo=s,xo=d,wo.attachEvent("onpropertychange",wh)):a==="focusout"&&yh()}function _w(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Is(xo)}function Fw(a,s){if(a==="click")return Is(s)}function Vw(a,s){if(a==="input"||a==="change")return Is(s)}function qw(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var on=typeof Object.is=="function"?Object.is:qw;function bo(a,s){if(on(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var d=Object.keys(a),g=Object.keys(s);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var w=d[g];if(!c.call(s,w)||!on(a[w],s[w]))return!1}return!0}function xh(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function bh(a,s){var d=xh(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=s&&g>=s)return{node:d,offset:s-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=xh(d)}}function Eh(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Eh(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Sh(){for(var a=window,s=de();s instanceof a.HTMLIFrameElement;){try{var d=typeof s.contentWindow.location.href=="string"}catch{d=!1}if(d)a=s.contentWindow;else break;s=de(a.document)}return s}function tc(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}function Ww(a){var s=Sh(),d=a.focusedElem,g=a.selectionRange;if(s!==d&&d&&d.ownerDocument&&Eh(d.ownerDocument.documentElement,d)){if(g!==null&&tc(d)){if(s=g.start,a=g.end,a===void 0&&(a=s),"selectionStart"in d)d.selectionStart=s,d.selectionEnd=Math.min(a,d.value.length);else if(a=(s=d.ownerDocument||document)&&s.defaultView||window,a.getSelection){a=a.getSelection();var w=d.textContent.length,C=Math.min(g.start,w);g=g.end===void 0?C:Math.min(g.end,w),!a.extend&&C>g&&(w=g,g=C,C=w),w=bh(d,C);var A=bh(d,g);w&&A&&(a.rangeCount!==1||a.anchorNode!==w.node||a.anchorOffset!==w.offset||a.focusNode!==A.node||a.focusOffset!==A.offset)&&(s=s.createRange(),s.setStart(w.node,w.offset),a.removeAllRanges(),C>g?(a.addRange(s),a.extend(A.node,A.offset)):(s.setEnd(A.node,A.offset),a.addRange(s)))}}for(s=[],a=d;a=a.parentNode;)a.nodeType===1&&s.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<s.length;d++)a=s[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var $w=u&&"documentMode"in document&&11>=document.documentMode,pi=null,rc=null,Eo=null,nc=!1;function Ch(a,s,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;nc||pi==null||pi!==de(g)||(g=pi,"selectionStart"in g&&tc(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Eo&&bo(Eo,g)||(Eo=g,g=Fs(rc,"onSelect"),0<g.length&&(s=new Gu("onSelect","select",null,s,d),a.push({event:s,listeners:g}),s.target=pi)))}function zs(a,s){var d={};return d[a.toLowerCase()]=s.toLowerCase(),d["Webkit"+a]="webkit"+s,d["Moz"+a]="moz"+s,d}var gi={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionend:zs("Transition","TransitionEnd")},ac={},kh={};u&&(kh=document.createElement("div").style,"AnimationEvent"in window||(delete gi.animationend.animation,delete gi.animationiteration.animation,delete gi.animationstart.animation),"TransitionEvent"in window||delete gi.transitionend.transition);function Os(a){if(ac[a])return ac[a];if(!gi[a])return a;var s=gi[a],d;for(d in s)if(s.hasOwnProperty(d)&&d in kh)return ac[a]=s[d];return a}var Th=Os("animationend"),Ph=Os("animationiteration"),Dh=Os("animationstart"),Rh=Os("transitionend"),Bh=new Map,Ah="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zn(a,s){Bh.set(a,s),o(s,[a])}for(var ic=0;ic<Ah.length;ic++){var oc=Ah[ic],Uw=oc.toLowerCase(),Hw=oc[0].toUpperCase()+oc.slice(1);Zn(Uw,"on"+Hw)}Zn(Th,"onAnimationEnd"),Zn(Ph,"onAnimationIteration"),Zn(Dh,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(Rh,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jw=new Set("cancel close invalid load scroll toggle".split(" ").concat(So));function Nh(a,s,d){var g=a.type||"unknown-event";a.currentTarget=d,li(g,s,void 0,a),a.currentTarget=null}function Mh(a,s){s=(s&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],w=g.event;g=g.listeners;e:{var C=void 0;if(s)for(var A=g.length-1;0<=A;A--){var $=g[A],K=$.instance,oe=$.currentTarget;if($=$.listener,K!==C&&w.isPropagationStopped())break e;Nh(w,$,oe),C=K}else for(A=0;A<g.length;A++){if($=g[A],K=$.instance,oe=$.currentTarget,$=$.listener,K!==C&&w.isPropagationStopped())break e;Nh(w,$,oe),C=K}}}if(St)throw a=Wr,St=!1,Wr=null,a}function Ct(a,s){var d=s[hc];d===void 0&&(d=s[hc]=new Set);var g=a+"__bubble";d.has(g)||(Lh(s,a,2,!1),d.add(g))}function sc(a,s,d){var g=0;s&&(g|=4),Lh(d,a,g,s)}var _s="_reactListening"+Math.random().toString(36).slice(2);function Co(a){if(!a[_s]){a[_s]=!0,n.forEach(function(d){d!=="selectionchange"&&(jw.has(d)||sc(d,!1,a),sc(d,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[_s]||(s[_s]=!0,sc("selectionchange",!1,s))}}function Lh(a,s,d,g){switch(nh(s)){case 1:var w=ow;break;case 4:w=sw;break;default:w=Uu}d=w.bind(null,s,d,a),w=void 0,!Pt||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(w=!0),g?w!==void 0?a.addEventListener(s,d,{capture:!0,passive:w}):a.addEventListener(s,d,!0):w!==void 0?a.addEventListener(s,d,{passive:w}):a.addEventListener(s,d,!1)}function lc(a,s,d,g,w){var C=g;if((s&1)===0&&(s&2)===0&&g!==null)e:for(;;){if(g===null)return;var A=g.tag;if(A===3||A===4){var $=g.stateNode.containerInfo;if($===w||$.nodeType===8&&$.parentNode===w)break;if(A===4)for(A=g.return;A!==null;){var K=A.tag;if((K===3||K===4)&&(K=A.stateNode.containerInfo,K===w||K.nodeType===8&&K.parentNode===w))return;A=A.return}for(;$!==null;){if(A=Ia($),A===null)return;if(K=A.tag,K===5||K===6){g=C=A;continue e}$=$.parentNode}}g=g.return}Et(function(){var oe=C,ye=pe(d),we=[];e:{var me=Bh.get(a);if(me!==void 0){var Te=Gu,Ae=a;switch(a){case"keypress":if(Ns(d)===0)break e;case"keydown":case"keyup":Te=Ew;break;case"focusin":Ae="focus",Te=Xu;break;case"focusout":Ae="blur",Te=Xu;break;case"beforeblur":case"afterblur":Te=Xu;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=oh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=cw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=kw;break;case Th:case Ph:case Dh:Te=vw;break;case Rh:Te=Pw;break;case"scroll":Te=lw;break;case"wheel":Te=Rw;break;case"copy":case"cut":case"paste":Te=pw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=lh}var Le=(s&4)!==0,$t=!Le&&a==="scroll",J=Le?me!==null?me+"Capture":null:me;Le=[];for(var Y=oe,re;Y!==null;){re=Y;var xe=re.stateNode;if(re.tag===5&&xe!==null&&(re=xe,J!==null&&(xe=qt(Y,J),xe!=null&&Le.push(ko(Y,xe,re)))),$t)break;Y=Y.return}0<Le.length&&(me=new Te(me,Ae,null,d,ye),we.push({event:me,listeners:Le}))}}if((s&7)===0){e:{if(me=a==="mouseover"||a==="pointerover",Te=a==="mouseout"||a==="pointerout",me&&d!==Pe&&(Ae=d.relatedTarget||d.fromElement)&&(Ia(Ae)||Ae[Rn]))break e;if((Te||me)&&(me=ye.window===ye?ye:(me=ye.ownerDocument)?me.defaultView||me.parentWindow:window,Te?(Ae=d.relatedTarget||d.toElement,Te=oe,Ae=Ae?Ia(Ae):null,Ae!==null&&($t=kr(Ae),Ae!==$t||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(Te=null,Ae=oe),Te!==Ae)){if(Le=oh,xe="onMouseLeave",J="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(Le=lh,xe="onPointerLeave",J="onPointerEnter",Y="pointer"),$t=Te==null?me:wi(Te),re=Ae==null?me:wi(Ae),me=new Le(xe,Y+"leave",Te,d,ye),me.target=$t,me.relatedTarget=re,xe=null,Ia(ye)===oe&&(Le=new Le(J,Y+"enter",Ae,d,ye),Le.target=re,Le.relatedTarget=$t,xe=Le),$t=xe,Te&&Ae)t:{for(Le=Te,J=Ae,Y=0,re=Le;re;re=mi(re))Y++;for(re=0,xe=J;xe;xe=mi(xe))re++;for(;0<Y-re;)Le=mi(Le),Y--;for(;0<re-Y;)J=mi(J),re--;for(;Y--;){if(Le===J||J!==null&&Le===J.alternate)break t;Le=mi(Le),J=mi(J)}Le=null}else Le=null;Te!==null&&Ih(we,me,Te,Le,!1),Ae!==null&&$t!==null&&Ih(we,$t,Ae,Le,!0)}}e:{if(me=oe?wi(oe):window,Te=me.nodeName&&me.nodeName.toLowerCase(),Te==="select"||Te==="input"&&me.type==="file")var Oe=zw;else if(hh(me))if(gh)Oe=Vw;else{Oe=_w;var Ue=Ow}else(Te=me.nodeName)&&Te.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&(Oe=Fw);if(Oe&&(Oe=Oe(a,oe))){ph(we,Oe,d,ye);break e}Ue&&Ue(a,me,oe),a==="focusout"&&(Ue=me._wrapperState)&&Ue.controlled&&me.type==="number"&&Ve(me,"number",me.value)}switch(Ue=oe?wi(oe):window,a){case"focusin":(hh(Ue)||Ue.contentEditable==="true")&&(pi=Ue,rc=oe,Eo=null);break;case"focusout":Eo=rc=pi=null;break;case"mousedown":nc=!0;break;case"contextmenu":case"mouseup":case"dragend":nc=!1,Ch(we,d,ye);break;case"selectionchange":if($w)break;case"keydown":case"keyup":Ch(we,d,ye)}var He;if(Zu)e:{switch(a){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else hi?dh(a,d)&&(Ye="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Ye="onCompositionStart");Ye&&(uh&&d.locale!=="ko"&&(hi||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&hi&&(He=ah()):(Qn=ye,ju="value"in Qn?Qn.value:Qn.textContent,hi=!0)),Ue=Fs(oe,Ye),0<Ue.length&&(Ye=new sh(Ye,a,null,d,ye),we.push({event:Ye,listeners:Ue}),He?Ye.data=He:(He=vh(d),He!==null&&(Ye.data=He)))),(He=Aw?Nw(a,d):Mw(a,d))&&(oe=Fs(oe,"onBeforeInput"),0<oe.length&&(ye=new sh("onBeforeInput","beforeinput",null,d,ye),we.push({event:ye,listeners:oe}),ye.data=He))}Mh(we,s)})}function ko(a,s,d){return{instance:a,listener:s,currentTarget:d}}function Fs(a,s){for(var d=s+"Capture",g=[];a!==null;){var w=a,C=w.stateNode;w.tag===5&&C!==null&&(w=C,C=qt(a,d),C!=null&&g.unshift(ko(a,C,w)),C=qt(a,s),C!=null&&g.push(ko(a,C,w))),a=a.return}return g}function mi(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Ih(a,s,d,g,w){for(var C=s._reactName,A=[];d!==null&&d!==g;){var $=d,K=$.alternate,oe=$.stateNode;if(K!==null&&K===g)break;$.tag===5&&oe!==null&&($=oe,w?(K=qt(d,C),K!=null&&A.unshift(ko(d,K,$))):w||(K=qt(d,C),K!=null&&A.push(ko(d,K,$)))),d=d.return}A.length!==0&&a.push({event:s,listeners:A})}var Gw=/\r\n?/g,Kw=/\u0000|\uFFFD/g;function zh(a){return(typeof a=="string"?a:""+a).replace(Gw,`
`).replace(Kw,"")}function Vs(a,s,d){if(s=zh(s),zh(a)!==s&&d)throw Error(t(425))}function qs(){}var uc=null,cc=null;function fc(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var dc=typeof setTimeout=="function"?setTimeout:void 0,Yw=typeof clearTimeout=="function"?clearTimeout:void 0,Oh=typeof Promise=="function"?Promise:void 0,Xw=typeof queueMicrotask=="function"?queueMicrotask:typeof Oh<"u"?function(a){return Oh.resolve(null).then(a).catch(Qw)}:dc;function Qw(a){setTimeout(function(){throw a})}function vc(a,s){var d=s,g=0;do{var w=d.nextSibling;if(a.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"){if(g===0){a.removeChild(w),po(s);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=w}while(d);po(s)}function Jn(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return a}function _h(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(s===0)return a;s--}else d==="/$"&&s++}a=a.previousSibling}return null}var yi=Math.random().toString(36).slice(2),mn="__reactFiber$"+yi,To="__reactProps$"+yi,Rn="__reactContainer$"+yi,hc="__reactEvents$"+yi,Zw="__reactListeners$"+yi,Jw="__reactHandles$"+yi;function Ia(a){var s=a[mn];if(s)return s;for(var d=a.parentNode;d;){if(s=d[Rn]||d[mn]){if(d=s.alternate,s.child!==null||d!==null&&d.child!==null)for(a=_h(a);a!==null;){if(d=a[mn])return d;a=_h(a)}return s}a=d,d=a.parentNode}return null}function Po(a){return a=a[mn]||a[Rn],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function wi(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function Ws(a){return a[To]||null}var pc=[],xi=-1;function ea(a){return{current:a}}function kt(a){0>xi||(a.current=pc[xi],pc[xi]=null,xi--)}function wt(a,s){xi++,pc[xi]=a.current,a.current=s}var ta={},yr=ea(ta),Nr=ea(!1),za=ta;function bi(a,s){var d=a.type.contextTypes;if(!d)return ta;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===s)return g.__reactInternalMemoizedMaskedChildContext;var w={},C;for(C in d)w[C]=s[C];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=s,a.__reactInternalMemoizedMaskedChildContext=w),w}function Mr(a){return a=a.childContextTypes,a!=null}function $s(){kt(Nr),kt(yr)}function Fh(a,s,d){if(yr.current!==ta)throw Error(t(168));wt(yr,s),wt(Nr,d)}function Vh(a,s,d){var g=a.stateNode;if(s=s.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var w in g)if(!(w in s))throw Error(t(108,fe(a)||"Unknown",w));return j({},d,g)}function Us(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ta,za=yr.current,wt(yr,a),wt(Nr,Nr.current),!0}function qh(a,s,d){var g=a.stateNode;if(!g)throw Error(t(169));d?(a=Vh(a,s,za),g.__reactInternalMemoizedMergedChildContext=a,kt(Nr),kt(yr),wt(yr,a)):kt(Nr),wt(Nr,d)}var Bn=null,Hs=!1,gc=!1;function Wh(a){Bn===null?Bn=[a]:Bn.push(a)}function ex(a){Hs=!0,Wh(a)}function ra(){if(!gc&&Bn!==null){gc=!0;var a=0,s=gt;try{var d=Bn;for(gt=1;a<d.length;a++){var g=d[a];do g=g(!0);while(g!==null)}Bn=null,Hs=!1}catch(w){throw Bn!==null&&(Bn=Bn.slice(a+1)),io(oo,ra),w}finally{gt=s,gc=!1}}return null}var Ei=[],Si=0,js=null,Gs=0,Yr=[],Xr=0,Oa=null,An=1,Nn="";function _a(a,s){Ei[Si++]=Gs,Ei[Si++]=js,js=a,Gs=s}function $h(a,s,d){Yr[Xr++]=An,Yr[Xr++]=Nn,Yr[Xr++]=Oa,Oa=a;var g=An;a=Nn;var w=32-Lt(g)-1;g&=~(1<<w),d+=1;var C=32-Lt(s)+w;if(30<C){var A=w-w%5;C=(g&(1<<A)-1).toString(32),g>>=A,w-=A,An=1<<32-Lt(s)+w|d<<w|g,Nn=C+a}else An=1<<C|d<<w|g,Nn=a}function mc(a){a.return!==null&&(_a(a,1),$h(a,1,0))}function yc(a){for(;a===js;)js=Ei[--Si],Ei[Si]=null,Gs=Ei[--Si],Ei[Si]=null;for(;a===Oa;)Oa=Yr[--Xr],Yr[Xr]=null,Nn=Yr[--Xr],Yr[Xr]=null,An=Yr[--Xr],Yr[Xr]=null}var Hr=null,jr=null,Rt=!1,sn=null;function Uh(a,s){var d=en(5,null,null,0);d.elementType="DELETED",d.stateNode=s,d.return=a,s=a.deletions,s===null?(a.deletions=[d],a.flags|=16):s.push(d)}function Hh(a,s){switch(a.tag){case 5:var d=a.type;return s=s.nodeType!==1||d.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(a.stateNode=s,Hr=a,jr=Jn(s.firstChild),!0):!1;case 6:return s=a.pendingProps===""||s.nodeType!==3?null:s,s!==null?(a.stateNode=s,Hr=a,jr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(d=Oa!==null?{id:An,overflow:Nn}:null,a.memoizedState={dehydrated:s,treeContext:d,retryLane:1073741824},d=en(18,null,null,0),d.stateNode=s,d.return=a,a.child=d,Hr=a,jr=null,!0):!1;default:return!1}}function wc(a){return(a.mode&1)!==0&&(a.flags&128)===0}function xc(a){if(Rt){var s=jr;if(s){var d=s;if(!Hh(a,s)){if(wc(a))throw Error(t(418));s=Jn(d.nextSibling);var g=Hr;s&&Hh(a,s)?Uh(g,d):(a.flags=a.flags&-4097|2,Rt=!1,Hr=a)}}else{if(wc(a))throw Error(t(418));a.flags=a.flags&-4097|2,Rt=!1,Hr=a}}}function jh(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Hr=a}function Ks(a){if(a!==Hr)return!1;if(!Rt)return jh(a),Rt=!0,!1;var s;if((s=a.tag!==3)&&!(s=a.tag!==5)&&(s=a.type,s=s!=="head"&&s!=="body"&&!fc(a.type,a.memoizedProps)),s&&(s=jr)){if(wc(a))throw Gh(),Error(t(418));for(;s;)Uh(a,s),s=Jn(s.nextSibling)}if(jh(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(s===0){jr=Jn(a.nextSibling);break e}s--}else d!=="$"&&d!=="$!"&&d!=="$?"||s++}a=a.nextSibling}jr=null}}else jr=Hr?Jn(a.stateNode.nextSibling):null;return!0}function Gh(){for(var a=jr;a;)a=Jn(a.nextSibling)}function Ci(){jr=Hr=null,Rt=!1}function bc(a){sn===null?sn=[a]:sn.push(a)}var tx=T.ReactCurrentBatchConfig;function Do(a,s,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(t(309));var g=d.stateNode}if(!g)throw Error(t(147,a));var w=g,C=""+a;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===C?s.ref:(s=function(A){var $=w.refs;A===null?delete $[C]:$[C]=A},s._stringRef=C,s)}if(typeof a!="string")throw Error(t(284));if(!d._owner)throw Error(t(290,a))}return a}function Ys(a,s){throw a=Object.prototype.toString.call(s),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a))}function Kh(a){var s=a._init;return s(a._payload)}function Yh(a){function s(J,Y){if(a){var re=J.deletions;re===null?(J.deletions=[Y],J.flags|=16):re.push(Y)}}function d(J,Y){if(!a)return null;for(;Y!==null;)s(J,Y),Y=Y.sibling;return null}function g(J,Y){for(J=new Map;Y!==null;)Y.key!==null?J.set(Y.key,Y):J.set(Y.index,Y),Y=Y.sibling;return J}function w(J,Y){return J=ca(J,Y),J.index=0,J.sibling=null,J}function C(J,Y,re){return J.index=re,a?(re=J.alternate,re!==null?(re=re.index,re<Y?(J.flags|=2,Y):re):(J.flags|=2,Y)):(J.flags|=1048576,Y)}function A(J){return a&&J.alternate===null&&(J.flags|=2),J}function $(J,Y,re,xe){return Y===null||Y.tag!==6?(Y=vf(re,J.mode,xe),Y.return=J,Y):(Y=w(Y,re),Y.return=J,Y)}function K(J,Y,re,xe){var Oe=re.type;return Oe===P?ye(J,Y,re.props.children,xe,re.key):Y!==null&&(Y.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===H&&Kh(Oe)===Y.type)?(xe=w(Y,re.props),xe.ref=Do(J,Y,re),xe.return=J,xe):(xe=wl(re.type,re.key,re.props,null,J.mode,xe),xe.ref=Do(J,Y,re),xe.return=J,xe)}function oe(J,Y,re,xe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==re.containerInfo||Y.stateNode.implementation!==re.implementation?(Y=hf(re,J.mode,xe),Y.return=J,Y):(Y=w(Y,re.children||[]),Y.return=J,Y)}function ye(J,Y,re,xe,Oe){return Y===null||Y.tag!==7?(Y=ja(re,J.mode,xe,Oe),Y.return=J,Y):(Y=w(Y,re),Y.return=J,Y)}function we(J,Y,re){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=vf(""+Y,J.mode,re),Y.return=J,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:return re=wl(Y.type,Y.key,Y.props,null,J.mode,re),re.ref=Do(J,null,Y),re.return=J,re;case R:return Y=hf(Y,J.mode,re),Y.return=J,Y;case H:var xe=Y._init;return we(J,xe(Y._payload),re)}if(Se(Y)||G(Y))return Y=ja(Y,J.mode,re,null),Y.return=J,Y;Ys(J,Y)}return null}function me(J,Y,re,xe){var Oe=Y!==null?Y.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Oe!==null?null:$(J,Y,""+re,xe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case D:return re.key===Oe?K(J,Y,re,xe):null;case R:return re.key===Oe?oe(J,Y,re,xe):null;case H:return Oe=re._init,me(J,Y,Oe(re._payload),xe)}if(Se(re)||G(re))return Oe!==null?null:ye(J,Y,re,xe,null);Ys(J,re)}return null}function Te(J,Y,re,xe,Oe){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return J=J.get(re)||null,$(Y,J,""+xe,Oe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case D:return J=J.get(xe.key===null?re:xe.key)||null,K(Y,J,xe,Oe);case R:return J=J.get(xe.key===null?re:xe.key)||null,oe(Y,J,xe,Oe);case H:var Ue=xe._init;return Te(J,Y,re,Ue(xe._payload),Oe)}if(Se(xe)||G(xe))return J=J.get(re)||null,ye(Y,J,xe,Oe,null);Ys(Y,xe)}return null}function Ae(J,Y,re,xe){for(var Oe=null,Ue=null,He=Y,Ye=Y=0,nr=null;He!==null&&Ye<re.length;Ye++){He.index>Ye?(nr=He,He=null):nr=He.sibling;var dt=me(J,He,re[Ye],xe);if(dt===null){He===null&&(He=nr);break}a&&He&&dt.alternate===null&&s(J,He),Y=C(dt,Y,Ye),Ue===null?Oe=dt:Ue.sibling=dt,Ue=dt,He=nr}if(Ye===re.length)return d(J,He),Rt&&_a(J,Ye),Oe;if(He===null){for(;Ye<re.length;Ye++)He=we(J,re[Ye],xe),He!==null&&(Y=C(He,Y,Ye),Ue===null?Oe=He:Ue.sibling=He,Ue=He);return Rt&&_a(J,Ye),Oe}for(He=g(J,He);Ye<re.length;Ye++)nr=Te(He,J,Ye,re[Ye],xe),nr!==null&&(a&&nr.alternate!==null&&He.delete(nr.key===null?Ye:nr.key),Y=C(nr,Y,Ye),Ue===null?Oe=nr:Ue.sibling=nr,Ue=nr);return a&&He.forEach(function(fa){return s(J,fa)}),Rt&&_a(J,Ye),Oe}function Le(J,Y,re,xe){var Oe=G(re);if(typeof Oe!="function")throw Error(t(150));if(re=Oe.call(re),re==null)throw Error(t(151));for(var Ue=Oe=null,He=Y,Ye=Y=0,nr=null,dt=re.next();He!==null&&!dt.done;Ye++,dt=re.next()){He.index>Ye?(nr=He,He=null):nr=He.sibling;var fa=me(J,He,dt.value,xe);if(fa===null){He===null&&(He=nr);break}a&&He&&fa.alternate===null&&s(J,He),Y=C(fa,Y,Ye),Ue===null?Oe=fa:Ue.sibling=fa,Ue=fa,He=nr}if(dt.done)return d(J,He),Rt&&_a(J,Ye),Oe;if(He===null){for(;!dt.done;Ye++,dt=re.next())dt=we(J,dt.value,xe),dt!==null&&(Y=C(dt,Y,Ye),Ue===null?Oe=dt:Ue.sibling=dt,Ue=dt);return Rt&&_a(J,Ye),Oe}for(He=g(J,He);!dt.done;Ye++,dt=re.next())dt=Te(He,J,Ye,dt.value,xe),dt!==null&&(a&&dt.alternate!==null&&He.delete(dt.key===null?Ye:dt.key),Y=C(dt,Y,Ye),Ue===null?Oe=dt:Ue.sibling=dt,Ue=dt);return a&&He.forEach(function(Lx){return s(J,Lx)}),Rt&&_a(J,Ye),Oe}function $t(J,Y,re,xe){if(typeof re=="object"&&re!==null&&re.type===P&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case D:e:{for(var Oe=re.key,Ue=Y;Ue!==null;){if(Ue.key===Oe){if(Oe=re.type,Oe===P){if(Ue.tag===7){d(J,Ue.sibling),Y=w(Ue,re.props.children),Y.return=J,J=Y;break e}}else if(Ue.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===H&&Kh(Oe)===Ue.type){d(J,Ue.sibling),Y=w(Ue,re.props),Y.ref=Do(J,Ue,re),Y.return=J,J=Y;break e}d(J,Ue);break}else s(J,Ue);Ue=Ue.sibling}re.type===P?(Y=ja(re.props.children,J.mode,xe,re.key),Y.return=J,J=Y):(xe=wl(re.type,re.key,re.props,null,J.mode,xe),xe.ref=Do(J,Y,re),xe.return=J,J=xe)}return A(J);case R:e:{for(Ue=re.key;Y!==null;){if(Y.key===Ue)if(Y.tag===4&&Y.stateNode.containerInfo===re.containerInfo&&Y.stateNode.implementation===re.implementation){d(J,Y.sibling),Y=w(Y,re.children||[]),Y.return=J,J=Y;break e}else{d(J,Y);break}else s(J,Y);Y=Y.sibling}Y=hf(re,J.mode,xe),Y.return=J,J=Y}return A(J);case H:return Ue=re._init,$t(J,Y,Ue(re._payload),xe)}if(Se(re))return Ae(J,Y,re,xe);if(G(re))return Le(J,Y,re,xe);Ys(J,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,Y!==null&&Y.tag===6?(d(J,Y.sibling),Y=w(Y,re),Y.return=J,J=Y):(d(J,Y),Y=vf(re,J.mode,xe),Y.return=J,J=Y),A(J)):d(J,Y)}return $t}var ki=Yh(!0),Xh=Yh(!1),Xs=ea(null),Qs=null,Ti=null,Ec=null;function Sc(){Ec=Ti=Qs=null}function Cc(a){var s=Xs.current;kt(Xs),a._currentValue=s}function kc(a,s,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),a===d)break;a=a.return}}function Pi(a,s){Qs=a,Ec=Ti=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&s)!==0&&(Lr=!0),a.firstContext=null)}function Qr(a){var s=a._currentValue;if(Ec!==a)if(a={context:a,memoizedValue:s,next:null},Ti===null){if(Qs===null)throw Error(t(308));Ti=a,Qs.dependencies={lanes:0,firstContext:a}}else Ti=Ti.next=a;return s}var Fa=null;function Tc(a){Fa===null?Fa=[a]:Fa.push(a)}function Qh(a,s,d,g){var w=s.interleaved;return w===null?(d.next=d,Tc(s)):(d.next=w.next,w.next=d),s.interleaved=d,Mn(a,g)}function Mn(a,s){a.lanes|=s;var d=a.alternate;for(d!==null&&(d.lanes|=s),d=a,a=a.return;a!==null;)a.childLanes|=s,d=a.alternate,d!==null&&(d.childLanes|=s),d=a,a=a.return;return d.tag===3?d.stateNode:null}var na=!1;function Pc(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zh(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ln(a,s){return{eventTime:a,lane:s,tag:0,payload:null,callback:null,next:null}}function aa(a,s,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(ut&2)!==0){var w=g.pending;return w===null?s.next=s:(s.next=w.next,w.next=s),g.pending=s,Mn(a,d)}return w=g.interleaved,w===null?(s.next=s,Tc(g)):(s.next=w.next,w.next=s),g.interleaved=s,Mn(a,d)}function Zs(a,s,d){if(s=s.updateQueue,s!==null&&(s=s.shared,(d&4194240)!==0)){var g=s.lanes;g&=a.pendingLanes,d|=g,s.lanes=d,qu(a,d)}}function Jh(a,s){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var w=null,C=null;if(d=d.firstBaseUpdate,d!==null){do{var A={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};C===null?w=C=A:C=C.next=A,d=d.next}while(d!==null);C===null?w=C=s:C=C.next=s}else w=C=s;d={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:C,shared:g.shared,effects:g.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=s:a.next=s,d.lastBaseUpdate=s}function Js(a,s,d,g){var w=a.updateQueue;na=!1;var C=w.firstBaseUpdate,A=w.lastBaseUpdate,$=w.shared.pending;if($!==null){w.shared.pending=null;var K=$,oe=K.next;K.next=null,A===null?C=oe:A.next=oe,A=K;var ye=a.alternate;ye!==null&&(ye=ye.updateQueue,$=ye.lastBaseUpdate,$!==A&&($===null?ye.firstBaseUpdate=oe:$.next=oe,ye.lastBaseUpdate=K))}if(C!==null){var we=w.baseState;A=0,ye=oe=K=null,$=C;do{var me=$.lane,Te=$.eventTime;if((g&me)===me){ye!==null&&(ye=ye.next={eventTime:Te,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Ae=a,Le=$;switch(me=s,Te=d,Le.tag){case 1:if(Ae=Le.payload,typeof Ae=="function"){we=Ae.call(Te,we,me);break e}we=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Le.payload,me=typeof Ae=="function"?Ae.call(Te,we,me):Ae,me==null)break e;we=j({},we,me);break e;case 2:na=!0}}$.callback!==null&&$.lane!==0&&(a.flags|=64,me=w.effects,me===null?w.effects=[$]:me.push($))}else Te={eventTime:Te,lane:me,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ye===null?(oe=ye=Te,K=we):ye=ye.next=Te,A|=me;if($=$.next,$===null){if($=w.shared.pending,$===null)break;me=$,$=me.next,me.next=null,w.lastBaseUpdate=me,w.shared.pending=null}}while(!0);if(ye===null&&(K=we),w.baseState=K,w.firstBaseUpdate=oe,w.lastBaseUpdate=ye,s=w.shared.interleaved,s!==null){w=s;do A|=w.lane,w=w.next;while(w!==s)}else C===null&&(w.shared.lanes=0);Wa|=A,a.lanes=A,a.memoizedState=we}}function ep(a,s,d){if(a=s.effects,s.effects=null,a!==null)for(s=0;s<a.length;s++){var g=a[s],w=g.callback;if(w!==null){if(g.callback=null,g=d,typeof w!="function")throw Error(t(191,w));w.call(g)}}}var Ro={},yn=ea(Ro),Bo=ea(Ro),Ao=ea(Ro);function Va(a){if(a===Ro)throw Error(t(174));return a}function Dc(a,s){switch(wt(Ao,s),wt(Bo,a),wt(yn,Ro),a=s.nodeType,a){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:st(null,"");break;default:a=a===8?s.parentNode:s,s=a.namespaceURI||null,a=a.tagName,s=st(s,a)}kt(yn),wt(yn,s)}function Di(){kt(yn),kt(Bo),kt(Ao)}function tp(a){Va(Ao.current);var s=Va(yn.current),d=st(s,a.type);s!==d&&(wt(Bo,a),wt(yn,d))}function Rc(a){Bo.current===a&&(kt(yn),kt(Bo))}var It=ea(0);function el(a){for(var s=a;s!==null;){if(s.tag===13){var d=s.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Bc=[];function Ac(){for(var a=0;a<Bc.length;a++)Bc[a]._workInProgressVersionPrimary=null;Bc.length=0}var tl=T.ReactCurrentDispatcher,Nc=T.ReactCurrentBatchConfig,qa=0,zt=null,Yt=null,tr=null,rl=!1,No=!1,Mo=0,rx=0;function wr(){throw Error(t(321))}function Mc(a,s){if(s===null)return!1;for(var d=0;d<s.length&&d<a.length;d++)if(!on(a[d],s[d]))return!1;return!0}function Lc(a,s,d,g,w,C){if(qa=C,zt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,tl.current=a===null||a.memoizedState===null?ox:sx,a=d(g,w),No){C=0;do{if(No=!1,Mo=0,25<=C)throw Error(t(301));C+=1,tr=Yt=null,s.updateQueue=null,tl.current=lx,a=d(g,w)}while(No)}if(tl.current=il,s=Yt!==null&&Yt.next!==null,qa=0,tr=Yt=zt=null,rl=!1,s)throw Error(t(300));return a}function Ic(){var a=Mo!==0;return Mo=0,a}function wn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?zt.memoizedState=tr=a:tr=tr.next=a,tr}function Zr(){if(Yt===null){var a=zt.alternate;a=a!==null?a.memoizedState:null}else a=Yt.next;var s=tr===null?zt.memoizedState:tr.next;if(s!==null)tr=s,Yt=a;else{if(a===null)throw Error(t(310));Yt=a,a={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},tr===null?zt.memoizedState=tr=a:tr=tr.next=a}return tr}function Lo(a,s){return typeof s=="function"?s(a):s}function zc(a){var s=Zr(),d=s.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=a;var g=Yt,w=g.baseQueue,C=d.pending;if(C!==null){if(w!==null){var A=w.next;w.next=C.next,C.next=A}g.baseQueue=w=C,d.pending=null}if(w!==null){C=w.next,g=g.baseState;var $=A=null,K=null,oe=C;do{var ye=oe.lane;if((qa&ye)===ye)K!==null&&(K=K.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),g=oe.hasEagerState?oe.eagerState:a(g,oe.action);else{var we={lane:ye,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};K===null?($=K=we,A=g):K=K.next=we,zt.lanes|=ye,Wa|=ye}oe=oe.next}while(oe!==null&&oe!==C);K===null?A=g:K.next=$,on(g,s.memoizedState)||(Lr=!0),s.memoizedState=g,s.baseState=A,s.baseQueue=K,d.lastRenderedState=g}if(a=d.interleaved,a!==null){w=a;do C=w.lane,zt.lanes|=C,Wa|=C,w=w.next;while(w!==a)}else w===null&&(d.lanes=0);return[s.memoizedState,d.dispatch]}function Oc(a){var s=Zr(),d=s.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=a;var g=d.dispatch,w=d.pending,C=s.memoizedState;if(w!==null){d.pending=null;var A=w=w.next;do C=a(C,A.action),A=A.next;while(A!==w);on(C,s.memoizedState)||(Lr=!0),s.memoizedState=C,s.baseQueue===null&&(s.baseState=C),d.lastRenderedState=C}return[C,g]}function rp(){}function np(a,s){var d=zt,g=Zr(),w=s(),C=!on(g.memoizedState,w);if(C&&(g.memoizedState=w,Lr=!0),g=g.queue,_c(op.bind(null,d,g,a),[a]),g.getSnapshot!==s||C||tr!==null&&tr.memoizedState.tag&1){if(d.flags|=2048,Io(9,ip.bind(null,d,g,w,s),void 0,null),rr===null)throw Error(t(349));(qa&30)!==0||ap(d,s,w)}return w}function ap(a,s,d){a.flags|=16384,a={getSnapshot:s,value:d},s=zt.updateQueue,s===null?(s={lastEffect:null,stores:null},zt.updateQueue=s,s.stores=[a]):(d=s.stores,d===null?s.stores=[a]:d.push(a))}function ip(a,s,d,g){s.value=d,s.getSnapshot=g,sp(s)&&lp(a)}function op(a,s,d){return d(function(){sp(s)&&lp(a)})}function sp(a){var s=a.getSnapshot;a=a.value;try{var d=s();return!on(a,d)}catch{return!0}}function lp(a){var s=Mn(a,1);s!==null&&fn(s,a,1,-1)}function up(a){var s=wn();return typeof a=="function"&&(a=a()),s.memoizedState=s.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:a},s.queue=a,a=a.dispatch=ix.bind(null,zt,a),[s.memoizedState,a]}function Io(a,s,d,g){return a={tag:a,create:s,destroy:d,deps:g,next:null},s=zt.updateQueue,s===null?(s={lastEffect:null,stores:null},zt.updateQueue=s,s.lastEffect=a.next=a):(d=s.lastEffect,d===null?s.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,s.lastEffect=a)),a}function cp(){return Zr().memoizedState}function nl(a,s,d,g){var w=wn();zt.flags|=a,w.memoizedState=Io(1|s,d,void 0,g===void 0?null:g)}function al(a,s,d,g){var w=Zr();g=g===void 0?null:g;var C=void 0;if(Yt!==null){var A=Yt.memoizedState;if(C=A.destroy,g!==null&&Mc(g,A.deps)){w.memoizedState=Io(s,d,C,g);return}}zt.flags|=a,w.memoizedState=Io(1|s,d,C,g)}function fp(a,s){return nl(8390656,8,a,s)}function _c(a,s){return al(2048,8,a,s)}function dp(a,s){return al(4,2,a,s)}function vp(a,s){return al(4,4,a,s)}function hp(a,s){if(typeof s=="function")return a=a(),s(a),function(){s(null)};if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function pp(a,s,d){return d=d!=null?d.concat([a]):null,al(4,4,hp.bind(null,s,a),d)}function Fc(){}function gp(a,s){var d=Zr();s=s===void 0?null:s;var g=d.memoizedState;return g!==null&&s!==null&&Mc(s,g[1])?g[0]:(d.memoizedState=[a,s],a)}function mp(a,s){var d=Zr();s=s===void 0?null:s;var g=d.memoizedState;return g!==null&&s!==null&&Mc(s,g[1])?g[0]:(a=a(),d.memoizedState=[a,s],a)}function yp(a,s,d){return(qa&21)===0?(a.baseState&&(a.baseState=!1,Lr=!0),a.memoizedState=d):(on(d,s)||(d=Kv(),zt.lanes|=d,Wa|=d,a.baseState=!0),s)}function nx(a,s){var d=gt;gt=d!==0&&4>d?d:4,a(!0);var g=Nc.transition;Nc.transition={};try{a(!1),s()}finally{gt=d,Nc.transition=g}}function wp(){return Zr().memoizedState}function ax(a,s,d){var g=la(a);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},xp(a))bp(s,d);else if(d=Qh(a,s,d,g),d!==null){var w=Dr();fn(d,a,g,w),Ep(d,s,g)}}function ix(a,s,d){var g=la(a),w={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(xp(a))bp(s,w);else{var C=a.alternate;if(a.lanes===0&&(C===null||C.lanes===0)&&(C=s.lastRenderedReducer,C!==null))try{var A=s.lastRenderedState,$=C(A,d);if(w.hasEagerState=!0,w.eagerState=$,on($,A)){var K=s.interleaved;K===null?(w.next=w,Tc(s)):(w.next=K.next,K.next=w),s.interleaved=w;return}}catch{}finally{}d=Qh(a,s,w,g),d!==null&&(w=Dr(),fn(d,a,g,w),Ep(d,s,g))}}function xp(a){var s=a.alternate;return a===zt||s!==null&&s===zt}function bp(a,s){No=rl=!0;var d=a.pending;d===null?s.next=s:(s.next=d.next,d.next=s),a.pending=s}function Ep(a,s,d){if((d&4194240)!==0){var g=s.lanes;g&=a.pendingLanes,d|=g,s.lanes=d,qu(a,d)}}var il={readContext:Qr,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useInsertionEffect:wr,useLayoutEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useMutableSource:wr,useSyncExternalStore:wr,useId:wr,unstable_isNewReconciler:!1},ox={readContext:Qr,useCallback:function(a,s){return wn().memoizedState=[a,s===void 0?null:s],a},useContext:Qr,useEffect:fp,useImperativeHandle:function(a,s,d){return d=d!=null?d.concat([a]):null,nl(4194308,4,hp.bind(null,s,a),d)},useLayoutEffect:function(a,s){return nl(4194308,4,a,s)},useInsertionEffect:function(a,s){return nl(4,2,a,s)},useMemo:function(a,s){var d=wn();return s=s===void 0?null:s,a=a(),d.memoizedState=[a,s],a},useReducer:function(a,s,d){var g=wn();return s=d!==void 0?d(s):s,g.memoizedState=g.baseState=s,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:s},g.queue=a,a=a.dispatch=ax.bind(null,zt,a),[g.memoizedState,a]},useRef:function(a){var s=wn();return a={current:a},s.memoizedState=a},useState:up,useDebugValue:Fc,useDeferredValue:function(a){return wn().memoizedState=a},useTransition:function(){var a=up(!1),s=a[0];return a=nx.bind(null,a[1]),wn().memoizedState=a,[s,a]},useMutableSource:function(){},useSyncExternalStore:function(a,s,d){var g=zt,w=wn();if(Rt){if(d===void 0)throw Error(t(407));d=d()}else{if(d=s(),rr===null)throw Error(t(349));(qa&30)!==0||ap(g,s,d)}w.memoizedState=d;var C={value:d,getSnapshot:s};return w.queue=C,fp(op.bind(null,g,C,a),[a]),g.flags|=2048,Io(9,ip.bind(null,g,C,d,s),void 0,null),d},useId:function(){var a=wn(),s=rr.identifierPrefix;if(Rt){var d=Nn,g=An;d=(g&~(1<<32-Lt(g)-1)).toString(32)+d,s=":"+s+"R"+d,d=Mo++,0<d&&(s+="H"+d.toString(32)),s+=":"}else d=rx++,s=":"+s+"r"+d.toString(32)+":";return a.memoizedState=s},unstable_isNewReconciler:!1},sx={readContext:Qr,useCallback:gp,useContext:Qr,useEffect:_c,useImperativeHandle:pp,useInsertionEffect:dp,useLayoutEffect:vp,useMemo:mp,useReducer:zc,useRef:cp,useState:function(){return zc(Lo)},useDebugValue:Fc,useDeferredValue:function(a){var s=Zr();return yp(s,Yt.memoizedState,a)},useTransition:function(){var a=zc(Lo)[0],s=Zr().memoizedState;return[a,s]},useMutableSource:rp,useSyncExternalStore:np,useId:wp,unstable_isNewReconciler:!1},lx={readContext:Qr,useCallback:gp,useContext:Qr,useEffect:_c,useImperativeHandle:pp,useInsertionEffect:dp,useLayoutEffect:vp,useMemo:mp,useReducer:Oc,useRef:cp,useState:function(){return Oc(Lo)},useDebugValue:Fc,useDeferredValue:function(a){var s=Zr();return Yt===null?s.memoizedState=a:yp(s,Yt.memoizedState,a)},useTransition:function(){var a=Oc(Lo)[0],s=Zr().memoizedState;return[a,s]},useMutableSource:rp,useSyncExternalStore:np,useId:wp,unstable_isNewReconciler:!1};function ln(a,s){if(a&&a.defaultProps){s=j({},s),a=a.defaultProps;for(var d in a)s[d]===void 0&&(s[d]=a[d]);return s}return s}function Vc(a,s,d,g){s=a.memoizedState,d=d(g,s),d=d==null?s:j({},s,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var ol={isMounted:function(a){return(a=a._reactInternals)?kr(a)===a:!1},enqueueSetState:function(a,s,d){a=a._reactInternals;var g=Dr(),w=la(a),C=Ln(g,w);C.payload=s,d!=null&&(C.callback=d),s=aa(a,C,w),s!==null&&(fn(s,a,w,g),Zs(s,a,w))},enqueueReplaceState:function(a,s,d){a=a._reactInternals;var g=Dr(),w=la(a),C=Ln(g,w);C.tag=1,C.payload=s,d!=null&&(C.callback=d),s=aa(a,C,w),s!==null&&(fn(s,a,w,g),Zs(s,a,w))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var d=Dr(),g=la(a),w=Ln(d,g);w.tag=2,s!=null&&(w.callback=s),s=aa(a,w,g),s!==null&&(fn(s,a,g,d),Zs(s,a,g))}};function Sp(a,s,d,g,w,C,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,C,A):s.prototype&&s.prototype.isPureReactComponent?!bo(d,g)||!bo(w,C):!0}function Cp(a,s,d){var g=!1,w=ta,C=s.contextType;return typeof C=="object"&&C!==null?C=Qr(C):(w=Mr(s)?za:yr.current,g=s.contextTypes,C=(g=g!=null)?bi(a,w):ta),s=new s(d,C),a.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ol,a.stateNode=s,s._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=w,a.__reactInternalMemoizedMaskedChildContext=C),s}function kp(a,s,d,g){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(d,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(d,g),s.state!==a&&ol.enqueueReplaceState(s,s.state,null)}function qc(a,s,d,g){var w=a.stateNode;w.props=d,w.state=a.memoizedState,w.refs={},Pc(a);var C=s.contextType;typeof C=="object"&&C!==null?w.context=Qr(C):(C=Mr(s)?za:yr.current,w.context=bi(a,C)),w.state=a.memoizedState,C=s.getDerivedStateFromProps,typeof C=="function"&&(Vc(a,s,C,d),w.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(s=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),s!==w.state&&ol.enqueueReplaceState(w,w.state,null),Js(a,d,w,g),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308)}function Ri(a,s){try{var d="",g=s;do d+=ne(g),g=g.return;while(g);var w=d}catch(C){w=`
Error generating stack: `+C.message+`
`+C.stack}return{value:a,source:s,stack:w,digest:null}}function Wc(a,s,d){return{value:a,source:null,stack:d??null,digest:s??null}}function $c(a,s){try{console.error(s.value)}catch(d){setTimeout(function(){throw d})}}var ux=typeof WeakMap=="function"?WeakMap:Map;function Tp(a,s,d){d=Ln(-1,d),d.tag=3,d.payload={element:null};var g=s.value;return d.callback=function(){vl||(vl=!0,af=g),$c(a,s)},d}function Pp(a,s,d){d=Ln(-1,d),d.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var w=s.value;d.payload=function(){return g(w)},d.callback=function(){$c(a,s)}}var C=a.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(d.callback=function(){$c(a,s),typeof g!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var A=s.stack;this.componentDidCatch(s.value,{componentStack:A!==null?A:""})}),d}function Dp(a,s,d){var g=a.pingCache;if(g===null){g=a.pingCache=new ux;var w=new Set;g.set(s,w)}else w=g.get(s),w===void 0&&(w=new Set,g.set(s,w));w.has(d)||(w.add(d),a=Sx.bind(null,a,s,d),s.then(a,a))}function Rp(a){do{var s;if((s=a.tag===13)&&(s=a.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return a;a=a.return}while(a!==null);return null}function Bp(a,s,d,g,w){return(a.mode&1)===0?(a===s?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(s=Ln(-1,1),s.tag=2,aa(d,s,1))),d.lanes|=1),a):(a.flags|=65536,a.lanes=w,a)}var cx=T.ReactCurrentOwner,Lr=!1;function Pr(a,s,d,g){s.child=a===null?Xh(s,null,d,g):ki(s,a.child,d,g)}function Ap(a,s,d,g,w){d=d.render;var C=s.ref;return Pi(s,w),g=Lc(a,s,d,g,C,w),d=Ic(),a!==null&&!Lr?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~w,In(a,s,w)):(Rt&&d&&mc(s),s.flags|=1,Pr(a,s,g,w),s.child)}function Np(a,s,d,g,w){if(a===null){var C=d.type;return typeof C=="function"&&!df(C)&&C.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(s.tag=15,s.type=C,Mp(a,s,C,g,w)):(a=wl(d.type,null,g,s,s.mode,w),a.ref=s.ref,a.return=s,s.child=a)}if(C=a.child,(a.lanes&w)===0){var A=C.memoizedProps;if(d=d.compare,d=d!==null?d:bo,d(A,g)&&a.ref===s.ref)return In(a,s,w)}return s.flags|=1,a=ca(C,g),a.ref=s.ref,a.return=s,s.child=a}function Mp(a,s,d,g,w){if(a!==null){var C=a.memoizedProps;if(bo(C,g)&&a.ref===s.ref)if(Lr=!1,s.pendingProps=g=C,(a.lanes&w)!==0)(a.flags&131072)!==0&&(Lr=!0);else return s.lanes=a.lanes,In(a,s,w)}return Uc(a,s,d,g,w)}function Lp(a,s,d){var g=s.pendingProps,w=g.children,C=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Ai,Gr),Gr|=d;else{if((d&1073741824)===0)return a=C!==null?C.baseLanes|d:d,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:a,cachePool:null,transitions:null},s.updateQueue=null,wt(Ai,Gr),Gr|=a,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=C!==null?C.baseLanes:d,wt(Ai,Gr),Gr|=g}else C!==null?(g=C.baseLanes|d,s.memoizedState=null):g=d,wt(Ai,Gr),Gr|=g;return Pr(a,s,w,d),s.child}function Ip(a,s){var d=s.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(s.flags|=512,s.flags|=2097152)}function Uc(a,s,d,g,w){var C=Mr(d)?za:yr.current;return C=bi(s,C),Pi(s,w),d=Lc(a,s,d,g,C,w),g=Ic(),a!==null&&!Lr?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~w,In(a,s,w)):(Rt&&g&&mc(s),s.flags|=1,Pr(a,s,d,w),s.child)}function zp(a,s,d,g,w){if(Mr(d)){var C=!0;Us(s)}else C=!1;if(Pi(s,w),s.stateNode===null)ll(a,s),Cp(s,d,g),qc(s,d,g,w),g=!0;else if(a===null){var A=s.stateNode,$=s.memoizedProps;A.props=$;var K=A.context,oe=d.contextType;typeof oe=="object"&&oe!==null?oe=Qr(oe):(oe=Mr(d)?za:yr.current,oe=bi(s,oe));var ye=d.getDerivedStateFromProps,we=typeof ye=="function"||typeof A.getSnapshotBeforeUpdate=="function";we||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||($!==g||K!==oe)&&kp(s,A,g,oe),na=!1;var me=s.memoizedState;A.state=me,Js(s,g,A,w),K=s.memoizedState,$!==g||me!==K||Nr.current||na?(typeof ye=="function"&&(Vc(s,d,ye,g),K=s.memoizedState),($=na||Sp(s,d,$,g,me,K,oe))?(we||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(s.flags|=4194308)):(typeof A.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=K),A.props=g,A.state=K,A.context=oe,g=$):(typeof A.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{A=s.stateNode,Zh(a,s),$=s.memoizedProps,oe=s.type===s.elementType?$:ln(s.type,$),A.props=oe,we=s.pendingProps,me=A.context,K=d.contextType,typeof K=="object"&&K!==null?K=Qr(K):(K=Mr(d)?za:yr.current,K=bi(s,K));var Te=d.getDerivedStateFromProps;(ye=typeof Te=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||($!==we||me!==K)&&kp(s,A,g,K),na=!1,me=s.memoizedState,A.state=me,Js(s,g,A,w);var Ae=s.memoizedState;$!==we||me!==Ae||Nr.current||na?(typeof Te=="function"&&(Vc(s,d,Te,g),Ae=s.memoizedState),(oe=na||Sp(s,d,oe,g,me,Ae,K)||!1)?(ye||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,Ae,K),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,Ae,K)),typeof A.componentDidUpdate=="function"&&(s.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof A.componentDidUpdate!="function"||$===a.memoizedProps&&me===a.memoizedState||(s.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||$===a.memoizedProps&&me===a.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=Ae),A.props=g,A.state=Ae,A.context=K,g=oe):(typeof A.componentDidUpdate!="function"||$===a.memoizedProps&&me===a.memoizedState||(s.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||$===a.memoizedProps&&me===a.memoizedState||(s.flags|=1024),g=!1)}return Hc(a,s,d,g,C,w)}function Hc(a,s,d,g,w,C){Ip(a,s);var A=(s.flags&128)!==0;if(!g&&!A)return w&&qh(s,d,!1),In(a,s,C);g=s.stateNode,cx.current=s;var $=A&&typeof d.getDerivedStateFromError!="function"?null:g.render();return s.flags|=1,a!==null&&A?(s.child=ki(s,a.child,null,C),s.child=ki(s,null,$,C)):Pr(a,s,$,C),s.memoizedState=g.state,w&&qh(s,d,!0),s.child}function Op(a){var s=a.stateNode;s.pendingContext?Fh(a,s.pendingContext,s.pendingContext!==s.context):s.context&&Fh(a,s.context,!1),Dc(a,s.containerInfo)}function _p(a,s,d,g,w){return Ci(),bc(w),s.flags|=256,Pr(a,s,d,g),s.child}var jc={dehydrated:null,treeContext:null,retryLane:0};function Gc(a){return{baseLanes:a,cachePool:null,transitions:null}}function Fp(a,s,d){var g=s.pendingProps,w=It.current,C=!1,A=(s.flags&128)!==0,$;if(($=A)||($=a!==null&&a.memoizedState===null?!1:(w&2)!==0),$?(C=!0,s.flags&=-129):(a===null||a.memoizedState!==null)&&(w|=1),wt(It,w&1),a===null)return xc(s),a=s.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((s.mode&1)===0?s.lanes=1:a.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(A=g.children,a=g.fallback,C?(g=s.mode,C=s.child,A={mode:"hidden",children:A},(g&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=A):C=xl(A,g,0,null),a=ja(a,g,d,null),C.return=s,a.return=s,C.sibling=a,s.child=C,s.child.memoizedState=Gc(d),s.memoizedState=jc,a):Kc(s,A));if(w=a.memoizedState,w!==null&&($=w.dehydrated,$!==null))return fx(a,s,A,g,$,w,d);if(C){C=g.fallback,A=s.mode,w=a.child,$=w.sibling;var K={mode:"hidden",children:g.children};return(A&1)===0&&s.child!==w?(g=s.child,g.childLanes=0,g.pendingProps=K,s.deletions=null):(g=ca(w,K),g.subtreeFlags=w.subtreeFlags&14680064),$!==null?C=ca($,C):(C=ja(C,A,d,null),C.flags|=2),C.return=s,g.return=s,g.sibling=C,s.child=g,g=C,C=s.child,A=a.child.memoizedState,A=A===null?Gc(d):{baseLanes:A.baseLanes|d,cachePool:null,transitions:A.transitions},C.memoizedState=A,C.childLanes=a.childLanes&~d,s.memoizedState=jc,g}return C=a.child,a=C.sibling,g=ca(C,{mode:"visible",children:g.children}),(s.mode&1)===0&&(g.lanes=d),g.return=s,g.sibling=null,a!==null&&(d=s.deletions,d===null?(s.deletions=[a],s.flags|=16):d.push(a)),s.child=g,s.memoizedState=null,g}function Kc(a,s){return s=xl({mode:"visible",children:s},a.mode,0,null),s.return=a,a.child=s}function sl(a,s,d,g){return g!==null&&bc(g),ki(s,a.child,null,d),a=Kc(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function fx(a,s,d,g,w,C,A){if(d)return s.flags&256?(s.flags&=-257,g=Wc(Error(t(422))),sl(a,s,A,g)):s.memoizedState!==null?(s.child=a.child,s.flags|=128,null):(C=g.fallback,w=s.mode,g=xl({mode:"visible",children:g.children},w,0,null),C=ja(C,w,A,null),C.flags|=2,g.return=s,C.return=s,g.sibling=C,s.child=g,(s.mode&1)!==0&&ki(s,a.child,null,A),s.child.memoizedState=Gc(A),s.memoizedState=jc,C);if((s.mode&1)===0)return sl(a,s,A,null);if(w.data==="$!"){if(g=w.nextSibling&&w.nextSibling.dataset,g)var $=g.dgst;return g=$,C=Error(t(419)),g=Wc(C,g,void 0),sl(a,s,A,g)}if($=(A&a.childLanes)!==0,Lr||$){if(g=rr,g!==null){switch(A&-A){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(g.suspendedLanes|A))!==0?0:w,w!==0&&w!==C.retryLane&&(C.retryLane=w,Mn(a,w),fn(g,a,w,-1))}return ff(),g=Wc(Error(t(421))),sl(a,s,A,g)}return w.data==="$?"?(s.flags|=128,s.child=a.child,s=Cx.bind(null,a),w._reactRetry=s,null):(a=C.treeContext,jr=Jn(w.nextSibling),Hr=s,Rt=!0,sn=null,a!==null&&(Yr[Xr++]=An,Yr[Xr++]=Nn,Yr[Xr++]=Oa,An=a.id,Nn=a.overflow,Oa=s),s=Kc(s,g.children),s.flags|=4096,s)}function Vp(a,s,d){a.lanes|=s;var g=a.alternate;g!==null&&(g.lanes|=s),kc(a.return,s,d)}function Yc(a,s,d,g,w){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:w}:(C.isBackwards=s,C.rendering=null,C.renderingStartTime=0,C.last=g,C.tail=d,C.tailMode=w)}function qp(a,s,d){var g=s.pendingProps,w=g.revealOrder,C=g.tail;if(Pr(a,s,g.children,d),g=It.current,(g&2)!==0)g=g&1|2,s.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Vp(a,d,s);else if(a.tag===19)Vp(a,d,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(wt(It,g),(s.mode&1)===0)s.memoizedState=null;else switch(w){case"forwards":for(d=s.child,w=null;d!==null;)a=d.alternate,a!==null&&el(a)===null&&(w=d),d=d.sibling;d=w,d===null?(w=s.child,s.child=null):(w=d.sibling,d.sibling=null),Yc(s,!1,w,d,C);break;case"backwards":for(d=null,w=s.child,s.child=null;w!==null;){if(a=w.alternate,a!==null&&el(a)===null){s.child=w;break}a=w.sibling,w.sibling=d,d=w,w=a}Yc(s,!0,d,null,C);break;case"together":Yc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ll(a,s){(s.mode&1)===0&&a!==null&&(a.alternate=null,s.alternate=null,s.flags|=2)}function In(a,s,d){if(a!==null&&(s.dependencies=a.dependencies),Wa|=s.lanes,(d&s.childLanes)===0)return null;if(a!==null&&s.child!==a.child)throw Error(t(153));if(s.child!==null){for(a=s.child,d=ca(a,a.pendingProps),s.child=d,d.return=s;a.sibling!==null;)a=a.sibling,d=d.sibling=ca(a,a.pendingProps),d.return=s;d.sibling=null}return s.child}function dx(a,s,d){switch(s.tag){case 3:Op(s),Ci();break;case 5:tp(s);break;case 1:Mr(s.type)&&Us(s);break;case 4:Dc(s,s.stateNode.containerInfo);break;case 10:var g=s.type._context,w=s.memoizedProps.value;wt(Xs,g._currentValue),g._currentValue=w;break;case 13:if(g=s.memoizedState,g!==null)return g.dehydrated!==null?(wt(It,It.current&1),s.flags|=128,null):(d&s.child.childLanes)!==0?Fp(a,s,d):(wt(It,It.current&1),a=In(a,s,d),a!==null?a.sibling:null);wt(It,It.current&1);break;case 19:if(g=(d&s.childLanes)!==0,(a.flags&128)!==0){if(g)return qp(a,s,d);s.flags|=128}if(w=s.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),wt(It,It.current),g)break;return null;case 22:case 23:return s.lanes=0,Lp(a,s,d)}return In(a,s,d)}var Wp,Xc,$p,Up;Wp=function(a,s){for(var d=s.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break;for(;d.sibling===null;){if(d.return===null||d.return===s)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Xc=function(){},$p=function(a,s,d,g){var w=a.memoizedProps;if(w!==g){a=s.stateNode,Va(yn.current);var C=null;switch(d){case"input":w=be(a,w),g=be(a,g),C=[];break;case"select":w=j({},w,{value:void 0}),g=j({},g,{value:void 0}),C=[];break;case"textarea":w=ze(a,w),g=ze(a,g),C=[];break;default:typeof w.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=qs)}ce(d,g);var A;d=null;for(oe in w)if(!g.hasOwnProperty(oe)&&w.hasOwnProperty(oe)&&w[oe]!=null)if(oe==="style"){var $=w[oe];for(A in $)$.hasOwnProperty(A)&&(d||(d={}),d[A]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(i.hasOwnProperty(oe)?C||(C=[]):(C=C||[]).push(oe,null));for(oe in g){var K=g[oe];if($=w!=null?w[oe]:void 0,g.hasOwnProperty(oe)&&K!==$&&(K!=null||$!=null))if(oe==="style")if($){for(A in $)!$.hasOwnProperty(A)||K&&K.hasOwnProperty(A)||(d||(d={}),d[A]="");for(A in K)K.hasOwnProperty(A)&&$[A]!==K[A]&&(d||(d={}),d[A]=K[A])}else d||(C||(C=[]),C.push(oe,d)),d=K;else oe==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,$=$?$.__html:void 0,K!=null&&$!==K&&(C=C||[]).push(oe,K)):oe==="children"?typeof K!="string"&&typeof K!="number"||(C=C||[]).push(oe,""+K):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(oe)?(K!=null&&oe==="onScroll"&&Ct("scroll",a),C||$===K||(C=[])):(C=C||[]).push(oe,K))}d&&(C=C||[]).push("style",d);var oe=C;(s.updateQueue=oe)&&(s.flags|=4)}},Up=function(a,s,d,g){d!==g&&(s.flags|=4)};function zo(a,s){if(!Rt)switch(a.tailMode){case"hidden":s=a.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function xr(a){var s=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(s)for(var w=a.child;w!==null;)d|=w.lanes|w.childLanes,g|=w.subtreeFlags&14680064,g|=w.flags&14680064,w.return=a,w=w.sibling;else for(w=a.child;w!==null;)d|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=a,w=w.sibling;return a.subtreeFlags|=g,a.childLanes=d,s}function vx(a,s,d){var g=s.pendingProps;switch(yc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(s),null;case 1:return Mr(s.type)&&$s(),xr(s),null;case 3:return g=s.stateNode,Di(),kt(Nr),kt(yr),Ac(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Ks(s)?s.flags|=4:a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,sn!==null&&(lf(sn),sn=null))),Xc(a,s),xr(s),null;case 5:Rc(s);var w=Va(Ao.current);if(d=s.type,a!==null&&s.stateNode!=null)$p(a,s,d,g,w),a.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!g){if(s.stateNode===null)throw Error(t(166));return xr(s),null}if(a=Va(yn.current),Ks(s)){g=s.stateNode,d=s.type;var C=s.memoizedProps;switch(g[mn]=s,g[To]=C,a=(s.mode&1)!==0,d){case"dialog":Ct("cancel",g),Ct("close",g);break;case"iframe":case"object":case"embed":Ct("load",g);break;case"video":case"audio":for(w=0;w<So.length;w++)Ct(So[w],g);break;case"source":Ct("error",g);break;case"img":case"image":case"link":Ct("error",g),Ct("load",g);break;case"details":Ct("toggle",g);break;case"input":Ie(g,C),Ct("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!C.multiple},Ct("invalid",g);break;case"textarea":Ke(g,C),Ct("invalid",g)}ce(d,C),w=null;for(var A in C)if(C.hasOwnProperty(A)){var $=C[A];A==="children"?typeof $=="string"?g.textContent!==$&&(C.suppressHydrationWarning!==!0&&Vs(g.textContent,$,a),w=["children",$]):typeof $=="number"&&g.textContent!==""+$&&(C.suppressHydrationWarning!==!0&&Vs(g.textContent,$,a),w=["children",""+$]):i.hasOwnProperty(A)&&$!=null&&A==="onScroll"&&Ct("scroll",g)}switch(d){case"input":Z(g),We(g,C,!0);break;case"textarea":Z(g),Qe(g);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(g.onclick=qs)}g=w,s.updateQueue=g,g!==null&&(s.flags|=4)}else{A=w.nodeType===9?w:w.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=at(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=A.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=A.createElement(d,{is:g.is}):(a=A.createElement(d),d==="select"&&(A=a,g.multiple?A.multiple=!0:g.size&&(A.size=g.size))):a=A.createElementNS(a,d),a[mn]=s,a[To]=g,Wp(a,s,!1,!1),s.stateNode=a;e:{switch(A=he(d,g),d){case"dialog":Ct("cancel",a),Ct("close",a),w=g;break;case"iframe":case"object":case"embed":Ct("load",a),w=g;break;case"video":case"audio":for(w=0;w<So.length;w++)Ct(So[w],a);w=g;break;case"source":Ct("error",a),w=g;break;case"img":case"image":case"link":Ct("error",a),Ct("load",a),w=g;break;case"details":Ct("toggle",a),w=g;break;case"input":Ie(a,g),w=be(a,g),Ct("invalid",a);break;case"option":w=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},w=j({},g,{value:void 0}),Ct("invalid",a);break;case"textarea":Ke(a,g),w=ze(a,g),Ct("invalid",a);break;default:w=g}ce(d,w),$=w;for(C in $)if($.hasOwnProperty(C)){var K=$[C];C==="style"?te(a,K):C==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&lt(a,K)):C==="children"?typeof K=="string"?(d!=="textarea"||K!=="")&&$e(a,K):typeof K=="number"&&$e(a,""+K):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(i.hasOwnProperty(C)?K!=null&&C==="onScroll"&&Ct("scroll",a):K!=null&&k(a,C,K,A))}switch(d){case"input":Z(a),We(a,g,!1);break;case"textarea":Z(a),Qe(a);break;case"option":g.value!=null&&a.setAttribute("value",""+ge(g.value));break;case"select":a.multiple=!!g.multiple,C=g.value,C!=null?Be(a,!!g.multiple,C,!1):g.defaultValue!=null&&Be(a,!!g.multiple,g.defaultValue,!0);break;default:typeof w.onClick=="function"&&(a.onclick=qs)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return xr(s),null;case 6:if(a&&s.stateNode!=null)Up(a,s,a.memoizedProps,g);else{if(typeof g!="string"&&s.stateNode===null)throw Error(t(166));if(d=Va(Ao.current),Va(yn.current),Ks(s)){if(g=s.stateNode,d=s.memoizedProps,g[mn]=s,(C=g.nodeValue!==d)&&(a=Hr,a!==null))switch(a.tag){case 3:Vs(g.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Vs(g.nodeValue,d,(a.mode&1)!==0)}C&&(s.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[mn]=s,s.stateNode=g}return xr(s),null;case 13:if(kt(It),g=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Rt&&jr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Gh(),Ci(),s.flags|=98560,C=!1;else if(C=Ks(s),g!==null&&g.dehydrated!==null){if(a===null){if(!C)throw Error(t(318));if(C=s.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(t(317));C[mn]=s}else Ci(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;xr(s),C=!1}else sn!==null&&(lf(sn),sn=null),C=!0;if(!C)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=d,s):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(s.child.flags|=8192,(s.mode&1)!==0&&(a===null||(It.current&1)!==0?Xt===0&&(Xt=3):ff())),s.updateQueue!==null&&(s.flags|=4),xr(s),null);case 4:return Di(),Xc(a,s),a===null&&Co(s.stateNode.containerInfo),xr(s),null;case 10:return Cc(s.type._context),xr(s),null;case 17:return Mr(s.type)&&$s(),xr(s),null;case 19:if(kt(It),C=s.memoizedState,C===null)return xr(s),null;if(g=(s.flags&128)!==0,A=C.rendering,A===null)if(g)zo(C,!1);else{if(Xt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(A=el(a),A!==null){for(s.flags|=128,zo(C,!1),g=A.updateQueue,g!==null&&(s.updateQueue=g,s.flags|=4),s.subtreeFlags=0,g=d,d=s.child;d!==null;)C=d,a=g,C.flags&=14680066,A=C.alternate,A===null?(C.childLanes=0,C.lanes=a,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=A.childLanes,C.lanes=A.lanes,C.child=A.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=A.memoizedProps,C.memoizedState=A.memoizedState,C.updateQueue=A.updateQueue,C.type=A.type,a=A.dependencies,C.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return wt(It,It.current&1|2),s.child}a=a.sibling}C.tail!==null&&Mt()>Ni&&(s.flags|=128,g=!0,zo(C,!1),s.lanes=4194304)}else{if(!g)if(a=el(A),a!==null){if(s.flags|=128,g=!0,d=a.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),zo(C,!0),C.tail===null&&C.tailMode==="hidden"&&!A.alternate&&!Rt)return xr(s),null}else 2*Mt()-C.renderingStartTime>Ni&&d!==1073741824&&(s.flags|=128,g=!0,zo(C,!1),s.lanes=4194304);C.isBackwards?(A.sibling=s.child,s.child=A):(d=C.last,d!==null?d.sibling=A:s.child=A,C.last=A)}return C.tail!==null?(s=C.tail,C.rendering=s,C.tail=s.sibling,C.renderingStartTime=Mt(),s.sibling=null,d=It.current,wt(It,g?d&1|2:d&1),s):(xr(s),null);case 22:case 23:return cf(),g=s.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(s.flags|=8192),g&&(s.mode&1)!==0?(Gr&1073741824)!==0&&(xr(s),s.subtreeFlags&6&&(s.flags|=8192)):xr(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function hx(a,s){switch(yc(s),s.tag){case 1:return Mr(s.type)&&$s(),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Di(),kt(Nr),kt(yr),Ac(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 5:return Rc(s),null;case 13:if(kt(It),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Ci()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return kt(It),null;case 4:return Di(),null;case 10:return Cc(s.type._context),null;case 22:case 23:return cf(),null;case 24:return null;default:return null}}var ul=!1,br=!1,px=typeof WeakSet=="function"?WeakSet:Set,De=null;function Bi(a,s){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Ft(a,s,g)}else d.current=null}function Qc(a,s,d){try{d()}catch(g){Ft(a,s,g)}}var Hp=!1;function gx(a,s){if(uc=Rs,a=Sh(),tc(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var w=g.anchorOffset,C=g.focusNode;g=g.focusOffset;try{d.nodeType,C.nodeType}catch{d=null;break e}var A=0,$=-1,K=-1,oe=0,ye=0,we=a,me=null;t:for(;;){for(var Te;we!==d||w!==0&&we.nodeType!==3||($=A+w),we!==C||g!==0&&we.nodeType!==3||(K=A+g),we.nodeType===3&&(A+=we.nodeValue.length),(Te=we.firstChild)!==null;)me=we,we=Te;for(;;){if(we===a)break t;if(me===d&&++oe===w&&($=A),me===C&&++ye===g&&(K=A),(Te=we.nextSibling)!==null)break;we=me,me=we.parentNode}we=Te}d=$===-1||K===-1?null:{start:$,end:K}}else d=null}d=d||{start:0,end:0}}else d=null;for(cc={focusedElem:a,selectionRange:d},Rs=!1,De=s;De!==null;)if(s=De,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,De=a;else for(;De!==null;){s=De;try{var Ae=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var Le=Ae.memoizedProps,$t=Ae.memoizedState,J=s.stateNode,Y=J.getSnapshotBeforeUpdate(s.elementType===s.type?Le:ln(s.type,Le),$t);J.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var re=s.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(xe){Ft(s,s.return,xe)}if(a=s.sibling,a!==null){a.return=s.return,De=a;break}De=s.return}return Ae=Hp,Hp=!1,Ae}function Oo(a,s,d){var g=s.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var w=g=g.next;do{if((w.tag&a)===a){var C=w.destroy;w.destroy=void 0,C!==void 0&&Qc(s,d,C)}w=w.next}while(w!==g)}}function cl(a,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var d=s=s.next;do{if((d.tag&a)===a){var g=d.create;d.destroy=g()}d=d.next}while(d!==s)}}function Zc(a){var s=a.ref;if(s!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof s=="function"?s(a):s.current=a}}function jp(a){var s=a.alternate;s!==null&&(a.alternate=null,jp(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&(delete s[mn],delete s[To],delete s[hc],delete s[Zw],delete s[Jw])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Gp(a){return a.tag===5||a.tag===3||a.tag===4}function Kp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Gp(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Jc(a,s,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,s?d.nodeType===8?d.parentNode.insertBefore(a,s):d.insertBefore(a,s):(d.nodeType===8?(s=d.parentNode,s.insertBefore(a,d)):(s=d,s.appendChild(a)),d=d._reactRootContainer,d!=null||s.onclick!==null||(s.onclick=qs));else if(g!==4&&(a=a.child,a!==null))for(Jc(a,s,d),a=a.sibling;a!==null;)Jc(a,s,d),a=a.sibling}function ef(a,s,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,s?d.insertBefore(a,s):d.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(ef(a,s,d),a=a.sibling;a!==null;)ef(a,s,d),a=a.sibling}var cr=null,un=!1;function ia(a,s,d){for(d=d.child;d!==null;)Yp(a,s,d),d=d.sibling}function Yp(a,s,d){if($r&&typeof $r.onCommitFiberUnmount=="function")try{$r.onCommitFiberUnmount(Ma,d)}catch{}switch(d.tag){case 5:br||Bi(d,s);case 6:var g=cr,w=un;cr=null,ia(a,s,d),cr=g,un=w,cr!==null&&(un?(a=cr,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):cr.removeChild(d.stateNode));break;case 18:cr!==null&&(un?(a=cr,d=d.stateNode,a.nodeType===8?vc(a.parentNode,d):a.nodeType===1&&vc(a,d),po(a)):vc(cr,d.stateNode));break;case 4:g=cr,w=un,cr=d.stateNode.containerInfo,un=!0,ia(a,s,d),cr=g,un=w;break;case 0:case 11:case 14:case 15:if(!br&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){w=g=g.next;do{var C=w,A=C.destroy;C=C.tag,A!==void 0&&((C&2)!==0||(C&4)!==0)&&Qc(d,s,A),w=w.next}while(w!==g)}ia(a,s,d);break;case 1:if(!br&&(Bi(d,s),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch($){Ft(d,s,$)}ia(a,s,d);break;case 21:ia(a,s,d);break;case 22:d.mode&1?(br=(g=br)||d.memoizedState!==null,ia(a,s,d),br=g):ia(a,s,d);break;default:ia(a,s,d)}}function Xp(a){var s=a.updateQueue;if(s!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new px),s.forEach(function(g){var w=kx.bind(null,a,g);d.has(g)||(d.add(g),g.then(w,w))})}}function cn(a,s){var d=s.deletions;if(d!==null)for(var g=0;g<d.length;g++){var w=d[g];try{var C=a,A=s,$=A;e:for(;$!==null;){switch($.tag){case 5:cr=$.stateNode,un=!1;break e;case 3:cr=$.stateNode.containerInfo,un=!0;break e;case 4:cr=$.stateNode.containerInfo,un=!0;break e}$=$.return}if(cr===null)throw Error(t(160));Yp(C,A,w),cr=null,un=!1;var K=w.alternate;K!==null&&(K.return=null),w.return=null}catch(oe){Ft(w,s,oe)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Qp(s,a),s=s.sibling}function Qp(a,s){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(cn(s,a),xn(a),g&4){try{Oo(3,a,a.return),cl(3,a)}catch(Le){Ft(a,a.return,Le)}try{Oo(5,a,a.return)}catch(Le){Ft(a,a.return,Le)}}break;case 1:cn(s,a),xn(a),g&512&&d!==null&&Bi(d,d.return);break;case 5:if(cn(s,a),xn(a),g&512&&d!==null&&Bi(d,d.return),a.flags&32){var w=a.stateNode;try{$e(w,"")}catch(Le){Ft(a,a.return,Le)}}if(g&4&&(w=a.stateNode,w!=null)){var C=a.memoizedProps,A=d!==null?d.memoizedProps:C,$=a.type,K=a.updateQueue;if(a.updateQueue=null,K!==null)try{$==="input"&&C.type==="radio"&&C.name!=null&&nt(w,C),he($,A);var oe=he($,C);for(A=0;A<K.length;A+=2){var ye=K[A],we=K[A+1];ye==="style"?te(w,we):ye==="dangerouslySetInnerHTML"?lt(w,we):ye==="children"?$e(w,we):k(w,ye,we,oe)}switch($){case"input":Ge(w,C);break;case"textarea":Fe(w,C);break;case"select":var me=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!C.multiple;var Te=C.value;Te!=null?Be(w,!!C.multiple,Te,!1):me!==!!C.multiple&&(C.defaultValue!=null?Be(w,!!C.multiple,C.defaultValue,!0):Be(w,!!C.multiple,C.multiple?[]:"",!1))}w[To]=C}catch(Le){Ft(a,a.return,Le)}}break;case 6:if(cn(s,a),xn(a),g&4){if(a.stateNode===null)throw Error(t(162));w=a.stateNode,C=a.memoizedProps;try{w.nodeValue=C}catch(Le){Ft(a,a.return,Le)}}break;case 3:if(cn(s,a),xn(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{po(s.containerInfo)}catch(Le){Ft(a,a.return,Le)}break;case 4:cn(s,a),xn(a);break;case 13:cn(s,a),xn(a),w=a.child,w.flags&8192&&(C=w.memoizedState!==null,w.stateNode.isHidden=C,!C||w.alternate!==null&&w.alternate.memoizedState!==null||(nf=Mt())),g&4&&Xp(a);break;case 22:if(ye=d!==null&&d.memoizedState!==null,a.mode&1?(br=(oe=br)||ye,cn(s,a),br=oe):cn(s,a),xn(a),g&8192){if(oe=a.memoizedState!==null,(a.stateNode.isHidden=oe)&&!ye&&(a.mode&1)!==0)for(De=a,ye=a.child;ye!==null;){for(we=De=ye;De!==null;){switch(me=De,Te=me.child,me.tag){case 0:case 11:case 14:case 15:Oo(4,me,me.return);break;case 1:Bi(me,me.return);var Ae=me.stateNode;if(typeof Ae.componentWillUnmount=="function"){g=me,d=me.return;try{s=g,Ae.props=s.memoizedProps,Ae.state=s.memoizedState,Ae.componentWillUnmount()}catch(Le){Ft(g,d,Le)}}break;case 5:Bi(me,me.return);break;case 22:if(me.memoizedState!==null){eg(we);continue}}Te!==null?(Te.return=me,De=Te):eg(we)}ye=ye.sibling}e:for(ye=null,we=a;;){if(we.tag===5){if(ye===null){ye=we;try{w=we.stateNode,oe?(C=w.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):($=we.stateNode,K=we.memoizedProps.style,A=K!=null&&K.hasOwnProperty("display")?K.display:null,$.style.display=I("display",A))}catch(Le){Ft(a,a.return,Le)}}}else if(we.tag===6){if(ye===null)try{we.stateNode.nodeValue=oe?"":we.memoizedProps}catch(Le){Ft(a,a.return,Le)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===a)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===a)break e;for(;we.sibling===null;){if(we.return===null||we.return===a)break e;ye===we&&(ye=null),we=we.return}ye===we&&(ye=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:cn(s,a),xn(a),g&4&&Xp(a);break;case 21:break;default:cn(s,a),xn(a)}}function xn(a){var s=a.flags;if(s&2){try{e:{for(var d=a.return;d!==null;){if(Gp(d)){var g=d;break e}d=d.return}throw Error(t(160))}switch(g.tag){case 5:var w=g.stateNode;g.flags&32&&($e(w,""),g.flags&=-33);var C=Kp(a);ef(a,C,w);break;case 3:case 4:var A=g.stateNode.containerInfo,$=Kp(a);Jc(a,$,A);break;default:throw Error(t(161))}}catch(K){Ft(a,a.return,K)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function mx(a,s,d){De=a,Zp(a)}function Zp(a,s,d){for(var g=(a.mode&1)!==0;De!==null;){var w=De,C=w.child;if(w.tag===22&&g){var A=w.memoizedState!==null||ul;if(!A){var $=w.alternate,K=$!==null&&$.memoizedState!==null||br;$=ul;var oe=br;if(ul=A,(br=K)&&!oe)for(De=w;De!==null;)A=De,K=A.child,A.tag===22&&A.memoizedState!==null?tg(w):K!==null?(K.return=A,De=K):tg(w);for(;C!==null;)De=C,Zp(C),C=C.sibling;De=w,ul=$,br=oe}Jp(a)}else(w.subtreeFlags&8772)!==0&&C!==null?(C.return=w,De=C):Jp(a)}}function Jp(a){for(;De!==null;){var s=De;if((s.flags&8772)!==0){var d=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:br||cl(5,s);break;case 1:var g=s.stateNode;if(s.flags&4&&!br)if(d===null)g.componentDidMount();else{var w=s.elementType===s.type?d.memoizedProps:ln(s.type,d.memoizedProps);g.componentDidUpdate(w,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var C=s.updateQueue;C!==null&&ep(s,C,g);break;case 3:var A=s.updateQueue;if(A!==null){if(d=null,s.child!==null)switch(s.child.tag){case 5:d=s.child.stateNode;break;case 1:d=s.child.stateNode}ep(s,A,d)}break;case 5:var $=s.stateNode;if(d===null&&s.flags&4){d=$;var K=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&d.focus();break;case"img":K.src&&(d.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var oe=s.alternate;if(oe!==null){var ye=oe.memoizedState;if(ye!==null){var we=ye.dehydrated;we!==null&&po(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}br||s.flags&512&&Zc(s)}catch(me){Ft(s,s.return,me)}}if(s===a){De=null;break}if(d=s.sibling,d!==null){d.return=s.return,De=d;break}De=s.return}}function eg(a){for(;De!==null;){var s=De;if(s===a){De=null;break}var d=s.sibling;if(d!==null){d.return=s.return,De=d;break}De=s.return}}function tg(a){for(;De!==null;){var s=De;try{switch(s.tag){case 0:case 11:case 15:var d=s.return;try{cl(4,s)}catch(K){Ft(s,d,K)}break;case 1:var g=s.stateNode;if(typeof g.componentDidMount=="function"){var w=s.return;try{g.componentDidMount()}catch(K){Ft(s,w,K)}}var C=s.return;try{Zc(s)}catch(K){Ft(s,C,K)}break;case 5:var A=s.return;try{Zc(s)}catch(K){Ft(s,A,K)}}}catch(K){Ft(s,s.return,K)}if(s===a){De=null;break}var $=s.sibling;if($!==null){$.return=s.return,De=$;break}De=s.return}}var yx=Math.ceil,fl=T.ReactCurrentDispatcher,tf=T.ReactCurrentOwner,Jr=T.ReactCurrentBatchConfig,ut=0,rr=null,Ut=null,fr=0,Gr=0,Ai=ea(0),Xt=0,_o=null,Wa=0,dl=0,rf=0,Fo=null,Ir=null,nf=0,Ni=1/0,zn=null,vl=!1,af=null,oa=null,hl=!1,sa=null,pl=0,Vo=0,of=null,gl=-1,ml=0;function Dr(){return(ut&6)!==0?Mt():gl!==-1?gl:gl=Mt()}function la(a){return(a.mode&1)===0?1:(ut&2)!==0&&fr!==0?fr&-fr:tx.transition!==null?(ml===0&&(ml=Kv()),ml):(a=gt,a!==0||(a=window.event,a=a===void 0?16:nh(a.type)),a)}function fn(a,s,d,g){if(50<Vo)throw Vo=0,of=null,Error(t(185));uo(a,d,g),((ut&2)===0||a!==rr)&&(a===rr&&((ut&2)===0&&(dl|=d),Xt===4&&ua(a,fr)),zr(a,g),d===1&&ut===0&&(s.mode&1)===0&&(Ni=Mt()+500,Hs&&ra()))}function zr(a,s){var d=a.callbackNode;tw(a,s);var g=fi(a,a===rr?fr:0);if(g===0)d!==null&&Cs(d),a.callbackNode=null,a.callbackPriority=0;else if(s=g&-g,a.callbackPriority!==s){if(d!=null&&Cs(d),s===1)a.tag===0?ex(ng.bind(null,a)):Wh(ng.bind(null,a)),Xw(function(){(ut&6)===0&&ra()}),d=null;else{switch(Yv(g)){case 1:d=oo;break;case 4:d=ks;break;case 16:d=gn;break;case 536870912:d=Na;break;default:d=gn}d=fg(d,rg.bind(null,a))}a.callbackPriority=s,a.callbackNode=d}}function rg(a,s){if(gl=-1,ml=0,(ut&6)!==0)throw Error(t(327));var d=a.callbackNode;if(Mi()&&a.callbackNode!==d)return null;var g=fi(a,a===rr?fr:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||s)s=yl(a,g);else{s=g;var w=ut;ut|=2;var C=ig();(rr!==a||fr!==s)&&(zn=null,Ni=Mt()+500,Ua(a,s));do try{bx();break}catch($){ag(a,$)}while(!0);Sc(),fl.current=C,ut=w,Ut!==null?s=0:(rr=null,fr=0,s=Xt)}if(s!==0){if(s===2&&(w=Fu(a),w!==0&&(g=w,s=sf(a,w))),s===1)throw d=_o,Ua(a,0),ua(a,g),zr(a,Mt()),d;if(s===6)ua(a,g);else{if(w=a.current.alternate,(g&30)===0&&!wx(w)&&(s=yl(a,g),s===2&&(C=Fu(a),C!==0&&(g=C,s=sf(a,C))),s===1))throw d=_o,Ua(a,0),ua(a,g),zr(a,Mt()),d;switch(a.finishedWork=w,a.finishedLanes=g,s){case 0:case 1:throw Error(t(345));case 2:Ha(a,Ir,zn);break;case 3:if(ua(a,g),(g&130023424)===g&&(s=nf+500-Mt(),10<s)){if(fi(a,0)!==0)break;if(w=a.suspendedLanes,(w&g)!==g){Dr(),a.pingedLanes|=a.suspendedLanes&w;break}a.timeoutHandle=dc(Ha.bind(null,a,Ir,zn),s);break}Ha(a,Ir,zn);break;case 4:if(ua(a,g),(g&4194240)===g)break;for(s=a.eventTimes,w=-1;0<g;){var A=31-Lt(g);C=1<<A,A=s[A],A>w&&(w=A),g&=~C}if(g=w,g=Mt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*yx(g/1960))-g,10<g){a.timeoutHandle=dc(Ha.bind(null,a,Ir,zn),g);break}Ha(a,Ir,zn);break;case 5:Ha(a,Ir,zn);break;default:throw Error(t(329))}}}return zr(a,Mt()),a.callbackNode===d?rg.bind(null,a):null}function sf(a,s){var d=Fo;return a.current.memoizedState.isDehydrated&&(Ua(a,s).flags|=256),a=yl(a,s),a!==2&&(s=Ir,Ir=d,s!==null&&lf(s)),a}function lf(a){Ir===null?Ir=a:Ir.push.apply(Ir,a)}function wx(a){for(var s=a;;){if(s.flags&16384){var d=s.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var w=d[g],C=w.getSnapshot;w=w.value;try{if(!on(C(),w))return!1}catch{return!1}}}if(d=s.child,s.subtreeFlags&16384&&d!==null)d.return=s,s=d;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ua(a,s){for(s&=~rf,s&=~dl,a.suspendedLanes|=s,a.pingedLanes&=~s,a=a.expirationTimes;0<s;){var d=31-Lt(s),g=1<<d;a[d]=-1,s&=~g}}function ng(a){if((ut&6)!==0)throw Error(t(327));Mi();var s=fi(a,0);if((s&1)===0)return zr(a,Mt()),null;var d=yl(a,s);if(a.tag!==0&&d===2){var g=Fu(a);g!==0&&(s=g,d=sf(a,g))}if(d===1)throw d=_o,Ua(a,0),ua(a,s),zr(a,Mt()),d;if(d===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=s,Ha(a,Ir,zn),zr(a,Mt()),null}function uf(a,s){var d=ut;ut|=1;try{return a(s)}finally{ut=d,ut===0&&(Ni=Mt()+500,Hs&&ra())}}function $a(a){sa!==null&&sa.tag===0&&(ut&6)===0&&Mi();var s=ut;ut|=1;var d=Jr.transition,g=gt;try{if(Jr.transition=null,gt=1,a)return a()}finally{gt=g,Jr.transition=d,ut=s,(ut&6)===0&&ra()}}function cf(){Gr=Ai.current,kt(Ai)}function Ua(a,s){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,Yw(d)),Ut!==null)for(d=Ut.return;d!==null;){var g=d;switch(yc(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&$s();break;case 3:Di(),kt(Nr),kt(yr),Ac();break;case 5:Rc(g);break;case 4:Di();break;case 13:kt(It);break;case 19:kt(It);break;case 10:Cc(g.type._context);break;case 22:case 23:cf()}d=d.return}if(rr=a,Ut=a=ca(a.current,null),fr=Gr=s,Xt=0,_o=null,rf=dl=Wa=0,Ir=Fo=null,Fa!==null){for(s=0;s<Fa.length;s++)if(d=Fa[s],g=d.interleaved,g!==null){d.interleaved=null;var w=g.next,C=d.pending;if(C!==null){var A=C.next;C.next=w,g.next=A}d.pending=g}Fa=null}return a}function ag(a,s){do{var d=Ut;try{if(Sc(),tl.current=il,rl){for(var g=zt.memoizedState;g!==null;){var w=g.queue;w!==null&&(w.pending=null),g=g.next}rl=!1}if(qa=0,tr=Yt=zt=null,No=!1,Mo=0,tf.current=null,d===null||d.return===null){Xt=1,_o=s,Ut=null;break}e:{var C=a,A=d.return,$=d,K=s;if(s=fr,$.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var oe=K,ye=$,we=ye.tag;if((ye.mode&1)===0&&(we===0||we===11||we===15)){var me=ye.alternate;me?(ye.updateQueue=me.updateQueue,ye.memoizedState=me.memoizedState,ye.lanes=me.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Te=Rp(A);if(Te!==null){Te.flags&=-257,Bp(Te,A,$,C,s),Te.mode&1&&Dp(C,oe,s),s=Te,K=oe;var Ae=s.updateQueue;if(Ae===null){var Le=new Set;Le.add(K),s.updateQueue=Le}else Ae.add(K);break e}else{if((s&1)===0){Dp(C,oe,s),ff();break e}K=Error(t(426))}}else if(Rt&&$.mode&1){var $t=Rp(A);if($t!==null){($t.flags&65536)===0&&($t.flags|=256),Bp($t,A,$,C,s),bc(Ri(K,$));break e}}C=K=Ri(K,$),Xt!==4&&(Xt=2),Fo===null?Fo=[C]:Fo.push(C),C=A;do{switch(C.tag){case 3:C.flags|=65536,s&=-s,C.lanes|=s;var J=Tp(C,K,s);Jh(C,J);break e;case 1:$=K;var Y=C.type,re=C.stateNode;if((C.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(oa===null||!oa.has(re)))){C.flags|=65536,s&=-s,C.lanes|=s;var xe=Pp(C,$,s);Jh(C,xe);break e}}C=C.return}while(C!==null)}sg(d)}catch(Oe){s=Oe,Ut===d&&d!==null&&(Ut=d=d.return);continue}break}while(!0)}function ig(){var a=fl.current;return fl.current=il,a===null?il:a}function ff(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),rr===null||(Wa&268435455)===0&&(dl&268435455)===0||ua(rr,fr)}function yl(a,s){var d=ut;ut|=2;var g=ig();(rr!==a||fr!==s)&&(zn=null,Ua(a,s));do try{xx();break}catch(w){ag(a,w)}while(!0);if(Sc(),ut=d,fl.current=g,Ut!==null)throw Error(t(261));return rr=null,fr=0,Xt}function xx(){for(;Ut!==null;)og(Ut)}function bx(){for(;Ut!==null&&!Iu();)og(Ut)}function og(a){var s=cg(a.alternate,a,Gr);a.memoizedProps=a.pendingProps,s===null?sg(a):Ut=s,tf.current=null}function sg(a){var s=a;do{var d=s.alternate;if(a=s.return,(s.flags&32768)===0){if(d=vx(d,s,Gr),d!==null){Ut=d;return}}else{if(d=hx(d,s),d!==null){d.flags&=32767,Ut=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Xt=6,Ut=null;return}}if(s=s.sibling,s!==null){Ut=s;return}Ut=s=a}while(s!==null);Xt===0&&(Xt=5)}function Ha(a,s,d){var g=gt,w=Jr.transition;try{Jr.transition=null,gt=1,Ex(a,s,d,g)}finally{Jr.transition=w,gt=g}return null}function Ex(a,s,d,g){do Mi();while(sa!==null);if((ut&6)!==0)throw Error(t(327));d=a.finishedWork;var w=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var C=d.lanes|d.childLanes;if(rw(a,C),a===rr&&(Ut=rr=null,fr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||hl||(hl=!0,fg(gn,function(){return Mi(),null})),C=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||C){C=Jr.transition,Jr.transition=null;var A=gt;gt=1;var $=ut;ut|=4,tf.current=null,gx(a,d),Qp(d,a),Ww(cc),Rs=!!uc,cc=uc=null,a.current=d,mx(d),zu(),ut=$,gt=A,Jr.transition=C}else a.current=d;if(hl&&(hl=!1,sa=a,pl=w),C=a.pendingLanes,C===0&&(oa=null),_u(d.stateNode),zr(a,Mt()),s!==null)for(g=a.onRecoverableError,d=0;d<s.length;d++)w=s[d],g(w.value,{componentStack:w.stack,digest:w.digest});if(vl)throw vl=!1,a=af,af=null,a;return(pl&1)!==0&&a.tag!==0&&Mi(),C=a.pendingLanes,(C&1)!==0?a===of?Vo++:(Vo=0,of=a):Vo=0,ra(),null}function Mi(){if(sa!==null){var a=Yv(pl),s=Jr.transition,d=gt;try{if(Jr.transition=null,gt=16>a?16:a,sa===null)var g=!1;else{if(a=sa,sa=null,pl=0,(ut&6)!==0)throw Error(t(331));var w=ut;for(ut|=4,De=a.current;De!==null;){var C=De,A=C.child;if((De.flags&16)!==0){var $=C.deletions;if($!==null){for(var K=0;K<$.length;K++){var oe=$[K];for(De=oe;De!==null;){var ye=De;switch(ye.tag){case 0:case 11:case 15:Oo(8,ye,C)}var we=ye.child;if(we!==null)we.return=ye,De=we;else for(;De!==null;){ye=De;var me=ye.sibling,Te=ye.return;if(jp(ye),ye===oe){De=null;break}if(me!==null){me.return=Te,De=me;break}De=Te}}}var Ae=C.alternate;if(Ae!==null){var Le=Ae.child;if(Le!==null){Ae.child=null;do{var $t=Le.sibling;Le.sibling=null,Le=$t}while(Le!==null)}}De=C}}if((C.subtreeFlags&2064)!==0&&A!==null)A.return=C,De=A;else e:for(;De!==null;){if(C=De,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:Oo(9,C,C.return)}var J=C.sibling;if(J!==null){J.return=C.return,De=J;break e}De=C.return}}var Y=a.current;for(De=Y;De!==null;){A=De;var re=A.child;if((A.subtreeFlags&2064)!==0&&re!==null)re.return=A,De=re;else e:for(A=Y;De!==null;){if($=De,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:cl(9,$)}}catch(Oe){Ft($,$.return,Oe)}if($===A){De=null;break e}var xe=$.sibling;if(xe!==null){xe.return=$.return,De=xe;break e}De=$.return}}if(ut=w,ra(),$r&&typeof $r.onPostCommitFiberRoot=="function")try{$r.onPostCommitFiberRoot(Ma,a)}catch{}g=!0}return g}finally{gt=d,Jr.transition=s}}return!1}function lg(a,s,d){s=Ri(d,s),s=Tp(a,s,1),a=aa(a,s,1),s=Dr(),a!==null&&(uo(a,1,s),zr(a,s))}function Ft(a,s,d){if(a.tag===3)lg(a,a,d);else for(;s!==null;){if(s.tag===3){lg(s,a,d);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(oa===null||!oa.has(g))){a=Ri(d,a),a=Pp(s,a,1),s=aa(s,a,1),a=Dr(),s!==null&&(uo(s,1,a),zr(s,a));break}}s=s.return}}function Sx(a,s,d){var g=a.pingCache;g!==null&&g.delete(s),s=Dr(),a.pingedLanes|=a.suspendedLanes&d,rr===a&&(fr&d)===d&&(Xt===4||Xt===3&&(fr&130023424)===fr&&500>Mt()-nf?Ua(a,0):rf|=d),zr(a,s)}function ug(a,s){s===0&&((a.mode&1)===0?s=1:(s=ui,ui<<=1,(ui&130023424)===0&&(ui=4194304)));var d=Dr();a=Mn(a,s),a!==null&&(uo(a,s,d),zr(a,d))}function Cx(a){var s=a.memoizedState,d=0;s!==null&&(d=s.retryLane),ug(a,d)}function kx(a,s){var d=0;switch(a.tag){case 13:var g=a.stateNode,w=a.memoizedState;w!==null&&(d=w.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(s),ug(a,d)}var cg;cg=function(a,s,d){if(a!==null)if(a.memoizedProps!==s.pendingProps||Nr.current)Lr=!0;else{if((a.lanes&d)===0&&(s.flags&128)===0)return Lr=!1,dx(a,s,d);Lr=(a.flags&131072)!==0}else Lr=!1,Rt&&(s.flags&1048576)!==0&&$h(s,Gs,s.index);switch(s.lanes=0,s.tag){case 2:var g=s.type;ll(a,s),a=s.pendingProps;var w=bi(s,yr.current);Pi(s,d),w=Lc(null,s,g,a,w,d);var C=Ic();return s.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Mr(g)?(C=!0,Us(s)):C=!1,s.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Pc(s),w.updater=ol,s.stateNode=w,w._reactInternals=s,qc(s,g,a,d),s=Hc(null,s,g,!0,C,d)):(s.tag=0,Rt&&C&&mc(s),Pr(null,s,w,d),s=s.child),s;case 16:g=s.elementType;e:{switch(ll(a,s),a=s.pendingProps,w=g._init,g=w(g._payload),s.type=g,w=s.tag=Px(g),a=ln(g,a),w){case 0:s=Uc(null,s,g,a,d);break e;case 1:s=zp(null,s,g,a,d);break e;case 11:s=Ap(null,s,g,a,d);break e;case 14:s=Np(null,s,g,ln(g.type,a),d);break e}throw Error(t(306,g,""))}return s;case 0:return g=s.type,w=s.pendingProps,w=s.elementType===g?w:ln(g,w),Uc(a,s,g,w,d);case 1:return g=s.type,w=s.pendingProps,w=s.elementType===g?w:ln(g,w),zp(a,s,g,w,d);case 3:e:{if(Op(s),a===null)throw Error(t(387));g=s.pendingProps,C=s.memoizedState,w=C.element,Zh(a,s),Js(s,g,null,d);var A=s.memoizedState;if(g=A.element,C.isDehydrated)if(C={element:g,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},s.updateQueue.baseState=C,s.memoizedState=C,s.flags&256){w=Ri(Error(t(423)),s),s=_p(a,s,g,d,w);break e}else if(g!==w){w=Ri(Error(t(424)),s),s=_p(a,s,g,d,w);break e}else for(jr=Jn(s.stateNode.containerInfo.firstChild),Hr=s,Rt=!0,sn=null,d=Xh(s,null,g,d),s.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Ci(),g===w){s=In(a,s,d);break e}Pr(a,s,g,d)}s=s.child}return s;case 5:return tp(s),a===null&&xc(s),g=s.type,w=s.pendingProps,C=a!==null?a.memoizedProps:null,A=w.children,fc(g,w)?A=null:C!==null&&fc(g,C)&&(s.flags|=32),Ip(a,s),Pr(a,s,A,d),s.child;case 6:return a===null&&xc(s),null;case 13:return Fp(a,s,d);case 4:return Dc(s,s.stateNode.containerInfo),g=s.pendingProps,a===null?s.child=ki(s,null,g,d):Pr(a,s,g,d),s.child;case 11:return g=s.type,w=s.pendingProps,w=s.elementType===g?w:ln(g,w),Ap(a,s,g,w,d);case 7:return Pr(a,s,s.pendingProps,d),s.child;case 8:return Pr(a,s,s.pendingProps.children,d),s.child;case 12:return Pr(a,s,s.pendingProps.children,d),s.child;case 10:e:{if(g=s.type._context,w=s.pendingProps,C=s.memoizedProps,A=w.value,wt(Xs,g._currentValue),g._currentValue=A,C!==null)if(on(C.value,A)){if(C.children===w.children&&!Nr.current){s=In(a,s,d);break e}}else for(C=s.child,C!==null&&(C.return=s);C!==null;){var $=C.dependencies;if($!==null){A=C.child;for(var K=$.firstContext;K!==null;){if(K.context===g){if(C.tag===1){K=Ln(-1,d&-d),K.tag=2;var oe=C.updateQueue;if(oe!==null){oe=oe.shared;var ye=oe.pending;ye===null?K.next=K:(K.next=ye.next,ye.next=K),oe.pending=K}}C.lanes|=d,K=C.alternate,K!==null&&(K.lanes|=d),kc(C.return,d,s),$.lanes|=d;break}K=K.next}}else if(C.tag===10)A=C.type===s.type?null:C.child;else if(C.tag===18){if(A=C.return,A===null)throw Error(t(341));A.lanes|=d,$=A.alternate,$!==null&&($.lanes|=d),kc(A,d,s),A=C.sibling}else A=C.child;if(A!==null)A.return=C;else for(A=C;A!==null;){if(A===s){A=null;break}if(C=A.sibling,C!==null){C.return=A.return,A=C;break}A=A.return}C=A}Pr(a,s,w.children,d),s=s.child}return s;case 9:return w=s.type,g=s.pendingProps.children,Pi(s,d),w=Qr(w),g=g(w),s.flags|=1,Pr(a,s,g,d),s.child;case 14:return g=s.type,w=ln(g,s.pendingProps),w=ln(g.type,w),Np(a,s,g,w,d);case 15:return Mp(a,s,s.type,s.pendingProps,d);case 17:return g=s.type,w=s.pendingProps,w=s.elementType===g?w:ln(g,w),ll(a,s),s.tag=1,Mr(g)?(a=!0,Us(s)):a=!1,Pi(s,d),Cp(s,g,w),qc(s,g,w,d),Hc(null,s,g,!0,a,d);case 19:return qp(a,s,d);case 22:return Lp(a,s,d)}throw Error(t(156,s.tag))};function fg(a,s){return io(a,s)}function Tx(a,s,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(a,s,d,g){return new Tx(a,s,d,g)}function df(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Px(a){if(typeof a=="function")return df(a)?1:0;if(a!=null){if(a=a.$$typeof,a===O)return 11;if(a===U)return 14}return 2}function ca(a,s){var d=a.alternate;return d===null?(d=en(a.tag,s,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=s,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,s=a.dependencies,d.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function wl(a,s,d,g,w,C){var A=2;if(g=a,typeof a=="function")df(a)&&(A=1);else if(typeof a=="string")A=5;else e:switch(a){case P:return ja(d.children,w,C,s);case B:A=8,w|=8;break;case L:return a=en(12,d,s,w|2),a.elementType=L,a.lanes=C,a;case _:return a=en(13,d,s,w),a.elementType=_,a.lanes=C,a;case W:return a=en(19,d,s,w),a.elementType=W,a.lanes=C,a;case q:return xl(d,w,C,s);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case M:A=10;break e;case z:A=9;break e;case O:A=11;break e;case U:A=14;break e;case H:A=16,g=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return s=en(A,d,s,w),s.elementType=a,s.type=g,s.lanes=C,s}function ja(a,s,d,g){return a=en(7,a,g,s),a.lanes=d,a}function xl(a,s,d,g){return a=en(22,a,g,s),a.elementType=q,a.lanes=d,a.stateNode={isHidden:!1},a}function vf(a,s,d){return a=en(6,a,null,s),a.lanes=d,a}function hf(a,s,d){return s=en(4,a.children!==null?a.children:[],a.key,s),s.lanes=d,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}function Dx(a,s,d,g,w){this.tag=s,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vu(0),this.expirationTimes=Vu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vu(0),this.identifierPrefix=g,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function pf(a,s,d,g,w,C,A,$,K){return a=new Dx(a,s,d,$,K),s===1?(s=1,C===!0&&(s|=8)):s=0,C=en(3,null,null,s),a.current=C,C.stateNode=a,C.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pc(C),a}function Rx(a,s,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:g==null?null:""+g,children:a,containerInfo:s,implementation:d}}function dg(a){if(!a)return ta;a=a._reactInternals;e:{if(kr(a)!==a||a.tag!==1)throw Error(t(170));var s=a;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Mr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(a.tag===1){var d=a.type;if(Mr(d))return Vh(a,d,s)}return s}function vg(a,s,d,g,w,C,A,$,K){return a=pf(d,g,!0,a,w,C,A,$,K),a.context=dg(null),d=a.current,g=Dr(),w=la(d),C=Ln(g,w),C.callback=s??null,aa(d,C,w),a.current.lanes=w,uo(a,w,g),zr(a,g),a}function bl(a,s,d,g){var w=s.current,C=Dr(),A=la(w);return d=dg(d),s.context===null?s.context=d:s.pendingContext=d,s=Ln(C,A),s.payload={element:a},g=g===void 0?null:g,g!==null&&(s.callback=g),a=aa(w,s,A),a!==null&&(fn(a,w,A,C),Zs(a,w,A)),A}function El(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hg(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<s?d:s}}function gf(a,s){hg(a,s),(a=a.alternate)&&hg(a,s)}function Bx(){return null}var pg=typeof reportError=="function"?reportError:function(a){console.error(a)};function mf(a){this._internalRoot=a}Sl.prototype.render=mf.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(t(409));bl(a,s,null,null)},Sl.prototype.unmount=mf.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;$a(function(){bl(null,a,null,null)}),s[Rn]=null}};function Sl(a){this._internalRoot=a}Sl.prototype.unstable_scheduleHydration=function(a){if(a){var s=Zv();a={blockedOn:null,target:a,priority:s};for(var d=0;d<Xn.length&&s!==0&&s<Xn[d].priority;d++);Xn.splice(d,0,a),d===0&&th(a)}};function yf(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Cl(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function gg(){}function Ax(a,s,d,g,w){if(w){if(typeof g=="function"){var C=g;g=function(){var oe=El(A);C.call(oe)}}var A=vg(s,g,a,0,null,!1,!1,"",gg);return a._reactRootContainer=A,a[Rn]=A.current,Co(a.nodeType===8?a.parentNode:a),$a(),A}for(;w=a.lastChild;)a.removeChild(w);if(typeof g=="function"){var $=g;g=function(){var oe=El(K);$.call(oe)}}var K=pf(a,0,!1,null,null,!1,!1,"",gg);return a._reactRootContainer=K,a[Rn]=K.current,Co(a.nodeType===8?a.parentNode:a),$a(function(){bl(s,K,d,g)}),K}function kl(a,s,d,g,w){var C=d._reactRootContainer;if(C){var A=C;if(typeof w=="function"){var $=w;w=function(){var K=El(A);$.call(K)}}bl(s,A,a,w)}else A=Ax(d,s,a,w,g);return El(A)}Xv=function(a){switch(a.tag){case 3:var s=a.stateNode;if(s.current.memoizedState.isDehydrated){var d=ci(s.pendingLanes);d!==0&&(qu(s,d|1),zr(s,Mt()),(ut&6)===0&&(Ni=Mt()+500,ra()))}break;case 13:$a(function(){var g=Mn(a,1);if(g!==null){var w=Dr();fn(g,a,1,w)}}),gf(a,1)}},Wu=function(a){if(a.tag===13){var s=Mn(a,134217728);if(s!==null){var d=Dr();fn(s,a,134217728,d)}gf(a,134217728)}},Qv=function(a){if(a.tag===13){var s=la(a),d=Mn(a,s);if(d!==null){var g=Dr();fn(d,a,s,g)}gf(a,s)}},Zv=function(){return gt},Jv=function(a,s){var d=gt;try{return gt=a,s()}finally{gt=d}},Ne=function(a,s,d){switch(s){case"input":if(Ge(a,d),s=d.name,d.type==="radio"&&s!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<d.length;s++){var g=d[s];if(g!==a&&g.form===a.form){var w=Ws(g);if(!w)throw Error(t(90));ie(g),Ge(g,w)}}}break;case"textarea":Fe(a,d);break;case"select":s=d.value,s!=null&&Be(a,!!d.multiple,s,!1)}},et=uf,Je=$a;var Nx={usingClientEntryPoint:!1,Events:[Po,wi,Ws,Xe,Me,uf]},qo={findFiberByHostInstance:Ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mx={bundleType:qo.bundleType,version:qo.version,rendererPackageName:qo.rendererPackageName,rendererConfig:qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=jn(a),a===null?null:a.stateNode},findFiberByHostInstance:qo.findFiberByHostInstance||Bx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tl.isDisabled&&Tl.supportsFiber)try{Ma=Tl.inject(Mx),$r=Tl}catch{}}return Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nx,Or.createPortal=function(a,s){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yf(s))throw Error(t(200));return Rx(a,s,null,d)},Or.createRoot=function(a,s){if(!yf(a))throw Error(t(299));var d=!1,g="",w=pg;return s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=pf(a,1,!1,null,null,d,!1,g,w),a[Rn]=s.current,Co(a.nodeType===8?a.parentNode:a),new mf(s)},Or.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=jn(s),a=a===null?null:a.stateNode,a},Or.flushSync=function(a){return $a(a)},Or.hydrate=function(a,s,d){if(!Cl(s))throw Error(t(200));return kl(null,a,s,!0,d)},Or.hydrateRoot=function(a,s,d){if(!yf(a))throw Error(t(405));var g=d!=null&&d.hydratedSources||null,w=!1,C="",A=pg;if(d!=null&&(d.unstable_strictMode===!0&&(w=!0),d.identifierPrefix!==void 0&&(C=d.identifierPrefix),d.onRecoverableError!==void 0&&(A=d.onRecoverableError)),s=vg(s,null,a,1,d??null,w,!1,C,A),a[Rn]=s.current,Co(a),g)for(a=0;a<g.length;a++)d=g[a],w=d._getVersion,w=w(d._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[d,w]:s.mutableSourceEagerHydrationData.push(d,w);return new Sl(s)},Or.render=function(a,s,d){if(!Cl(s))throw Error(t(200));return kl(null,a,s,!1,d)},Or.unmountComponentAtNode=function(a){if(!Cl(a))throw Error(t(40));return a._reactRootContainer?($a(function(){kl(null,null,a,!1,function(){a._reactRootContainer=null,a[Rn]=null})}),!0):!1},Or.unstable_batchedUpdates=uf,Or.unstable_renderSubtreeIntoContainer=function(a,s,d,g){if(!Cl(d))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return kl(a,s,d,!1,g)},Or.version="18.3.1-next-f1338f8080-20240426",Or}var Cg;function Wx(){if(Cg)return bf.exports;Cg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bf.exports=qx(),bf.exports}var kg;function $x(){if(kg)return Dl;kg=1;var r=Wx();return Dl.createRoot=r.createRoot,Dl.hydrateRoot=r.hydrateRoot,Dl}var Ux=$x();const Tg=r=>{let e;const t=new Set,n=(f,v)=>{const h=typeof f=="function"?f(e):f;if(!Object.is(h,e)){const p=e;e=v??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(y=>y(e,p))}},i=()=>e,u={setState:n,getState:i,getInitialState:()=>c,subscribe:f=>(t.add(f),()=>t.delete(f))},c=e=r(n,i,u);return u},Hx=(r=>r?Tg(r):Tg),jx=r=>r;function Gx(r,e=jx){const t=Pl.useSyncExternalStore(r.subscribe,Pl.useCallback(()=>e(r.getState()),[r,e]),Pl.useCallback(()=>e(r.getInitialState()),[r,e]));return Pl.useDebugValue(t),t}const Pg=r=>{const e=Hx(r),t=n=>Gx(e,n);return Object.assign(t,e),t},gu=(r=>r?Pg(r):Pg),vn=gu(r=>({appMode:"sandbox",setAppMode:e=>r({appMode:e}),editMode:"select",setEditMode:e=>r({editMode:e,edgeSourceNode:null}),edgeSourceNode:null,setEdgeSourceNode:e=>r({edgeSourceNode:e}),sidebarOpen:!0,toggleSidebar:()=>r(e=>({sidebarOpen:!e.sidebarOpen})),algorithmPickerOpen:!1,setAlgorithmPickerOpen:e=>r({algorithmPickerOpen:e}),stepInspectorOpen:!1,setStepInspectorOpen:e=>r({stepInspectorOpen:e})})),Kx="_header_5hd5g_1",Yx="_left_5hd5g_11",Xx="_menuButton_5hd5g_17",Qx="_brand_5hd5g_35",Zx="_title_5hd5g_41",Jx="_nav_5hd5g_49",eb="_navButton_5hd5g_58",tb="_active_5hd5g_75",rb="_right_5hd5g_87",On={header:Kx,left:Yx,menuButton:Xx,brand:Qx,title:Zx,nav:Jx,navButton:eb,active:tb,right:rb},nb=[{mode:"sandbox",label:"Sandbox"},{mode:"race",label:"Race"},{mode:"maps",label:"Maps",disabled:!0}];function ab(){return X.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[X.jsx("line",{x1:"3",y1:"5",x2:"17",y2:"5"}),X.jsx("line",{x1:"3",y1:"10",x2:"17",y2:"10"}),X.jsx("line",{x1:"3",y1:"15",x2:"17",y2:"15"})]})}function ib(){const r=vn(n=>n.appMode),e=vn(n=>n.setAppMode),t=vn(n=>n.toggleSidebar);return X.jsxs("header",{className:On.header,children:[X.jsxs("div",{className:On.left,children:[X.jsx("button",{className:On.menuButton,onClick:t,"aria-label":"Toggle sidebar",children:X.jsx(ab,{})}),X.jsx("div",{className:On.brand,children:X.jsx("h1",{className:On.title,children:"Graph Algorithms"})})]}),X.jsx("nav",{className:On.nav,children:nb.map(({mode:n,label:i,disabled:o})=>X.jsx("button",{className:`${On.navButton} ${r===n?On.active:""}`,onClick:()=>!o&&e(n),disabled:o,title:o?"Coming soon":void 0,children:i},n))}),X.jsx("div",{className:On.right})]})}const ei=gu((r,e)=>({algorithm:null,params:{},steps:[],currentStepIndex:-1,status:"idle",speed:200,selectAlgorithm:t=>{r({algorithm:t,steps:[],currentStepIndex:-1,status:"idle"})},setParams:t=>{r(n=>({params:{...n.params,...t}}))},setSteps:t=>{r({steps:t,currentStepIndex:t.length>0?0:-1})},setCurrentStep:t=>{const{steps:n}=e();t>=-1&&t<n.length&&r({currentStepIndex:t})},setStatus:t=>{r({status:t})},setSpeed:t=>{r({speed:Math.max(50,Math.min(2e3,t))})},stepForward:()=>{const{currentStepIndex:t,steps:n}=e();return t<n.length-1?(r({currentStepIndex:t+1}),!0):!1},stepBackward:()=>{const{currentStepIndex:t}=e();return t>0?(r({currentStepIndex:t-1}),!0):!1},goToStart:()=>{const{steps:t}=e();t.length>0&&r({currentStepIndex:0})},goToEnd:()=>{const{steps:t}=e();t.length>0&&r({currentStepIndex:t.length-1})},reset:()=>{r({steps:[],currentStepIndex:-1,status:"idle"})},currentStep:()=>{const{steps:t,currentStepIndex:n}=e();return n>=0?t[n]:null},progress:()=>{const{steps:t,currentStepIndex:n}=e();return t.length===0?0:(n+1)/t.length*100},isAtStart:()=>e().currentStepIndex<=0,isAtEnd:()=>{const{currentStepIndex:t,steps:n}=e();return t>=n.length-1}}));function Dg(){return{nodes:[],edges:[],directed:!1,weighted:!1}}let ob=0;function sb(){return`n${Date.now()}-${++ob}-${Math.random().toString(36).slice(2,7)}`}function lb(r,e){return`e-${r}-${e}`}let ub=0;const jt=gu((r,e)=>({graph:Dg(),selectedNodes:[],selectedEdges:[],addNode:t=>{const n=(t==null?void 0:t.id)||sb(),i={id:n,label:(t==null?void 0:t.label)||String(++ub),x:t==null?void 0:t.x,y:t==null?void 0:t.y,color:t==null?void 0:t.color,data:(t==null?void 0:t.data)||{}};return r(o=>({graph:{...o.graph,nodes:[...o.graph.nodes,i]}})),n},removeNode:t=>{r(n=>({graph:{...n.graph,nodes:n.graph.nodes.filter(i=>i.id!==t),edges:n.graph.edges.filter(i=>i.source!==t&&i.target!==t)},selectedNodes:n.selectedNodes.filter(i=>i!==t)}))},updateNode:(t,n)=>{r(i=>({graph:{...i.graph,nodes:i.graph.nodes.map(o=>o.id===t?{...o,...n}:o)}}))},addEdge:(t,n,i)=>{const{hasEdge:o}=e();if(t===n||o(t,n))return null;const l=lb(t,n),u={id:l,source:t,target:n,weight:i??1,data:{}};return r(c=>({graph:{...c.graph,edges:[...c.graph.edges,u]}})),l},removeEdge:t=>{r(n=>({graph:{...n.graph,edges:n.graph.edges.filter(i=>i.id!==t)},selectedEdges:n.selectedEdges.filter(i=>i!==t)}))},updateEdge:(t,n)=>{r(i=>({graph:{...i.graph,edges:i.graph.edges.map(o=>o.id===t?{...o,...n}:o)}}))},selectNode:(t,n=!1)=>{r(i=>({selectedNodes:n?[...i.selectedNodes,t]:[t],selectedEdges:n?i.selectedEdges:[]}))},selectEdge:(t,n=!1)=>{r(i=>({selectedEdges:n?[...i.selectedEdges,t]:[t],selectedNodes:n?i.selectedNodes:[]}))},clearSelection:()=>{r({selectedNodes:[],selectedEdges:[]})},loadGraph:t=>{r({graph:t,selectedNodes:[],selectedEdges:[]})},clear:()=>{r({graph:Dg(),selectedNodes:[],selectedEdges:[]})},setDirected:t=>{r(n=>({graph:{...n.graph,directed:t}}))},setWeighted:t=>{r(n=>({graph:{...n.graph,weighted:t}}))},getNode:t=>e().graph.nodes.find(n=>n.id===t),getEdge:t=>e().graph.edges.find(n=>n.id===t),getAdjacentNodes:t=>{const{graph:n}=e(),i=[];for(const o of n.edges)o.source===t&&i.push(o.target),!n.directed&&o.target===t&&i.push(o.source);return[...new Set(i)]},hasEdge:(t,n)=>{const{graph:i}=e();return i.edges.some(o=>o.source===t&&o.target===n||!i.directed&&o.source===n&&o.target===t)}}));function s0(){const r=jt(T=>T.graph),{steps:e,currentStepIndex:t,status:n,speed:i,setSteps:o,setCurrentStep:l,setStatus:u,stepForward:c,reset:f}=ei(),v=it.useRef(null);it.useEffect(()=>()=>{v.current&&clearInterval(v.current)},[]),it.useEffect(()=>(n==="running"?v.current=window.setInterval(()=>{c()||(u("complete"),v.current&&(clearInterval(v.current),v.current=null))},i):v.current&&(clearInterval(v.current),v.current=null),()=>{v.current&&(clearInterval(v.current),v.current=null)}),[n,i,c,u]);const h=it.useCallback((T,D={})=>{f();const R=T.run(r,D),P=[];let B=R.next();for(;!B.done;)P.push(B.value),B=R.next();P.length!==0&&(o(P),u("paused"))},[r,f,o,u]),p=it.useCallback(()=>{e.length!==0&&(t>=e.length-1&&l(0),u("running"))},[e.length,t,l,u]),y=it.useCallback(()=>{u("paused")},[u]),m=it.useCallback(()=>{f()},[f]),E=n==="running",x=n==="paused",S=n==="complete",b=n==="idle",k=e.length>0;return{runAlgorithm:h,play:p,pause:y,stop:m,isRunning:E,isPaused:x,isComplete:S,isIdle:b,hasSteps:k}}const Rg=["#E53935","#43A047","#1E88E5","#FB8C00","#8E24AA","#00ACC1","#D81B60","#FFB300","#546E7A","#F06292"];function cb(r){var t,n;const e=new Map;for(const i of r.nodes)e.set(i.id,new Set);for(const i of r.edges)(t=e.get(i.source))==null||t.add(i.target),r.directed||(n=e.get(i.target))==null||n.add(i.source);return e}function fb(r){return Rg[r%Rg.length]}const db={id:"dsatur",name:"DSATUR",category:"coloring",description:"Degree of Saturation - colors nodes by prioritizing those with most differently-colored neighbors",complexity:{time:"O(n)",space:"O(n)"},*run(r,e){var f,v,h;if(r.nodes.length===0)return;const t=cb(r),n=new Map,i=new Map,o=new Map;for(const p of r.nodes)n.set(p.id,-1),i.set(p.id,0),o.set(p.id,((f=t.get(p.id))==null?void 0:f.size)||0);const l=new Set(r.nodes.map(p=>p.id));let u=0,c=-1;for(yield{stepNumber:u++,description:"Initialize: all nodes uncolored, saturation = 0",highlightNodes:[],highlightEdges:[],nodeStyles:new Map,edgeStyles:new Map,state:{phase:"init",colors:Object.fromEntries(n),saturation:Object.fromEntries(i)}};l.size>0;){let p=null,y=-1,m=-1;for(const S of l){const b=i.get(S)||0,k=o.get(S)||0;(b>y||b===y&&k>m)&&(y=b,m=k,p=S)}if(!p)break;yield{stepNumber:u++,description:`Select node "${((v=r.nodes.find(S=>S.id===p))==null?void 0:v.label)||p}" (saturation: ${y}, degree: ${m})`,highlightNodes:[p],highlightEdges:[],nodeStyles:Rl(n,p),edgeStyles:new Map,state:{phase:"select",selectedNode:p,saturation:y,degree:m}};const E=new Set;for(const S of t.get(p)||[]){const b=n.get(S);b!==void 0&&b>=0&&E.add(b)}let x=0;for(;E.has(x);)x++;if(e.maxColors&&x>=e.maxColors){yield{stepNumber:u++,description:`Failed: Cannot color with ${e.maxColors} colors`,highlightNodes:[p],highlightEdges:[],nodeStyles:Rl(n,p),edgeStyles:new Map,state:{phase:"failed",reason:"exceeded max colors"}};return}n.set(p,x),l.delete(p),c=Math.max(c,x);for(const S of t.get(p)||[])if(l.has(S)){const b=new Set;for(const k of t.get(S)||[]){const T=n.get(k);T!==void 0&&T>=0&&b.add(T)}i.set(S,b.size)}yield{stepNumber:u++,description:`Assign color ${x+1} to "${((h=r.nodes.find(S=>S.id===p))==null?void 0:h.label)||p}"`,highlightNodes:[p],highlightEdges:[],nodeStyles:Rl(n),edgeStyles:new Map,state:{phase:"assign",node:p,color:x,colorsUsed:c+1,remaining:l.size}}}yield{stepNumber:u++,description:`Complete! Graph colored with ${c+1} colors`,highlightNodes:[],highlightEdges:[],nodeStyles:Rl(n),edgeStyles:new Map,state:{phase:"complete",colorsUsed:c+1,colors:Object.fromEntries(n)}}},execute(r,e){var o;const t=[];for(const l of this.run(r,e))t.push(l);const n=t[t.length-1];return{success:((o=n==null?void 0:n.state)==null?void 0:o.phase)!=="failed",steps:t,finalState:(n==null?void 0:n.state)||{},message:(n==null?void 0:n.description)||"No steps generated"}}};function Rl(r,e){const t=new Map;for(const[n,i]of r)i>=0&&t.set(n,{backgroundColor:fb(i)});if(e){const n=t.get(e)||{};t.set(e,{...n,borderColor:"#FFC107",borderWidth:4})}return t}function vb(r){var t,n;const e=new Map;for(const i of r.nodes)e.set(i.id,[]);for(const i of r.edges)(t=e.get(i.source))==null||t.push({nodeId:i.target,edgeId:i.id,weight:i.weight??1}),r.directed||(n=e.get(i.target))==null||n.push({nodeId:i.source,edgeId:i.id,weight:i.weight??1});return e}function hb(r,e){const t=[],n=[];let i=e;for(;i;){t.unshift(i);const o=r.get(i);if(o)n.unshift(o.edge),i=o.node;else break}return{nodes:t,edges:n}}const pb={id:"dijkstra",name:"Dijkstra's",category:"pathfinding",description:"Finds the shortest path between two nodes using Dijkstra's algorithm with a priority queue",complexity:{time:"O((V+E) log V)",space:"O(V)"},*run(r,e){var m;const{startNode:t,endNode:n}=e;if(!t||!n||r.nodes.length===0)return;const i=vb(r),o=new Map,l=new Map,u=new Set;let c=0;for(const E of r.nodes)o.set(E.id,E.id===t?0:1/0),l.set(E.id,null);const f=new Map;for(f.set(t,{backgroundColor:"#4CAF50",borderColor:"#388E3C",borderWidth:4}),f.set(n,{backgroundColor:"#F44336",borderColor:"#D32F2F",borderWidth:4}),yield{stepNumber:c++,description:"Initialize: set distance of start node to 0, all others to infinity",highlightNodes:[t,n],highlightEdges:[],nodeStyles:new Map(f),edgeStyles:new Map,state:{phase:"init",distances:Object.fromEntries(o)}};;){let E=null,x=1/0;for(const[D,R]of o)!u.has(D)&&R<x&&(x=R,E=D);if(E===null||x===1/0)break;const S=new Map;for(const D of u)S.set(D,{backgroundColor:"#42A5F5",borderColor:"#1E88E5",borderWidth:2});S.set(t,{backgroundColor:"#4CAF50",borderColor:"#388E3C",borderWidth:4}),S.set(n,{backgroundColor:"#F44336",borderColor:"#D32F2F",borderWidth:4}),S.set(E,{backgroundColor:"#FFC107",borderColor:"#F57F17",borderWidth:4});const b=((m=r.nodes.find(D=>D.id===E))==null?void 0:m.label)||E;if(yield{stepNumber:c++,description:`Select node "${b}" with distance ${x}`,highlightNodes:[E],highlightEdges:[],nodeStyles:S,edgeStyles:new Map,state:{phase:"select",currentNode:E,currentDistance:x,distances:Object.fromEntries(o)}},E===n){u.add(E);break}u.add(E);const k=i.get(E)||[],T=[];for(const{nodeId:D,edgeId:R,weight:P}of k){if(u.has(D))continue;const B=x+P,L=o.get(D)??1/0;B<L&&(o.set(D,B),l.set(D,{node:E,edge:R}),T.push(R))}if(T.length>0){const D=new Map;for(const P of u)D.set(P,{backgroundColor:"#42A5F5",borderColor:"#1E88E5",borderWidth:2});D.set(t,{backgroundColor:"#4CAF50",borderColor:"#388E3C",borderWidth:4}),D.set(n,{backgroundColor:"#F44336",borderColor:"#D32F2F",borderWidth:4}),D.set(E,{backgroundColor:"#FFC107",borderColor:"#F57F17",borderWidth:4});const R=new Map;for(const P of T)R.set(P,{lineColor:"#FFC107",lineWidth:5});yield{stepNumber:c++,description:`Relax ${T.length} neighbor(s) of "${b}"`,highlightNodes:[E],highlightEdges:T,nodeStyles:D,edgeStyles:R,state:{phase:"relax",currentNode:E,relaxedCount:T.length,distances:Object.fromEntries(o)}}}}const v=o.get(n)??1/0;if(v===1/0){yield{stepNumber:c++,description:"No path found from start to end node",highlightNodes:[t,n],highlightEdges:[],nodeStyles:new Map([[t,{backgroundColor:"#4CAF50",borderColor:"#388E3C",borderWidth:4}],[n,{backgroundColor:"#F44336",borderColor:"#D32F2F",borderWidth:4}]]),edgeStyles:new Map,state:{phase:"complete",found:!1}};return}const h=hb(l,n),p=new Map;for(const E of u)p.set(E,{backgroundColor:"#42A5F5",borderColor:"#1E88E5",borderWidth:2});for(const E of h.nodes)p.set(E,{backgroundColor:"#4CAF50",borderColor:"#2E7D32",borderWidth:4});p.set(t,{backgroundColor:"#4CAF50",borderColor:"#1B5E20",borderWidth:4}),p.set(n,{backgroundColor:"#F44336",borderColor:"#B71C1C",borderWidth:4});const y=new Map;for(const E of h.edges)y.set(E,{lineColor:"#4CAF50",lineWidth:6});yield{stepNumber:c++,description:`Shortest path found! Distance: ${v}, Path length: ${h.nodes.length} nodes`,highlightNodes:h.nodes,highlightEdges:h.edges,nodeStyles:p,edgeStyles:y,state:{phase:"complete",found:!0,distance:v,pathLength:h.nodes.length,path:h.nodes,nodesVisited:u.size}}},execute(r,e){var o;const t=[];for(const l of this.run(r,e))t.push(l);const n=t[t.length-1];return{success:((o=n==null?void 0:n.state)==null?void 0:o.found)===!0,steps:t,finalState:(n==null?void 0:n.state)||{},message:(n==null?void 0:n.description)||"No steps generated"}}};function gb(r){var t,n;const e=new Map;for(const i of r.nodes)e.set(i.id,[]);for(const i of r.edges)(t=e.get(i.source))==null||t.push({nodeId:i.target,edgeId:i.id,weight:i.weight??1}),r.directed||(n=e.get(i.target))==null||n.push({nodeId:i.source,edgeId:i.id,weight:i.weight??1});return e}function Bg(r,e,t){const n=r.nodes.find(u=>u.id===e),i=r.nodes.find(u=>u.id===t);if(!n||!i||n.x===void 0||n.y===void 0||i.x===void 0||i.y===void 0)return 0;const o=n.x-i.x,l=n.y-i.y;return Math.sqrt(o*o+l*l)/100}function mb(r,e){const t=[],n=[];let i=e;for(;i;){t.unshift(i);const o=r.get(i);if(o)n.unshift(o.edge),i=o.node;else break}return{nodes:t,edges:n}}const yb={id:"astar",name:"A*",category:"pathfinding",description:"A* search uses a heuristic (Euclidean distance) to guide pathfinding, often visiting fewer nodes than Dijkstra",complexity:{time:"O((V+E) log V)",space:"O(V)"},*run(r,e){var S;const{startNode:t,endNode:n}=e;if(!t||!n||r.nodes.length===0)return;const i=gb(r),o=new Map,l=new Map,u=new Map,c=new Set,f=new Set;let v=0;for(const b of r.nodes)o.set(b.id,1/0),l.set(b.id,1/0),u.set(b.id,null);o.set(t,0);const h=Bg(r,t,n);l.set(t,h),c.add(t);const p=new Map;for(p.set(t,{backgroundColor:"#4CAF50",borderColor:"#388E3C",borderWidth:4}),p.set(n,{backgroundColor:"#F44336",borderColor:"#D32F2F",borderWidth:4}),yield{stepNumber:v++,description:`Initialize: start node g=0, h=${h.toFixed(1)}, f=${h.toFixed(1)}`,highlightNodes:[t,n],highlightEdges:[],nodeStyles:new Map(p),edgeStyles:new Map,state:{phase:"init",openSetSize:1,closedSetSize:0}};c.size>0;){let b=null,k=1/0;for(const M of c){const z=l.get(M)??1/0;z<k&&(k=z,b=M)}if(b===null)break;const T=o.get(b)??1/0,D=k-T,R=((S=r.nodes.find(M=>M.id===b))==null?void 0:S.label)||b,P=new Map;for(const M of f)P.set(M,{backgroundColor:"#42A5F5",borderColor:"#1E88E5",borderWidth:2});for(const M of c)M!==b&&P.set(M,{backgroundColor:"#CE93D8",borderColor:"#8E24AA",borderWidth:2});if(P.set(t,{backgroundColor:"#4CAF50",borderColor:"#388E3C",borderWidth:4}),P.set(n,{backgroundColor:"#F44336",borderColor:"#D32F2F",borderWidth:4}),P.set(b,{backgroundColor:"#FFC107",borderColor:"#F57F17",borderWidth:4}),yield{stepNumber:v++,description:`Select "${R}"  g=${T.toFixed(1)}, h=${D.toFixed(1)}, f=${k.toFixed(1)}`,highlightNodes:[b],highlightEdges:[],nodeStyles:P,edgeStyles:new Map,state:{phase:"select",currentNode:b,g:T,h:D,f:k,openSetSize:c.size,closedSetSize:f.size}},b===n){f.add(b),c.delete(b);break}c.delete(b),f.add(b);const B=i.get(b)||[],L=[];for(const{nodeId:M,edgeId:z,weight:O}of B){if(f.has(M))continue;const _=T+O;if(_<(o.get(M)??1/0)){u.set(M,{node:b,edge:z}),o.set(M,_);const W=Bg(r,M,n);l.set(M,_+W),c.add(M),L.push(z)}}if(L.length>0){const M=new Map;for(const O of f)M.set(O,{backgroundColor:"#42A5F5",borderColor:"#1E88E5",borderWidth:2});for(const O of c)M.set(O,{backgroundColor:"#CE93D8",borderColor:"#8E24AA",borderWidth:2});M.set(t,{backgroundColor:"#4CAF50",borderColor:"#388E3C",borderWidth:4}),M.set(n,{backgroundColor:"#F44336",borderColor:"#D32F2F",borderWidth:4}),M.set(b,{backgroundColor:"#FFC107",borderColor:"#F57F17",borderWidth:4});const z=new Map;for(const O of L)z.set(O,{lineColor:"#CE93D8",lineWidth:5});yield{stepNumber:v++,description:`Explore ${L.length} neighbor(s) of "${R}"`,highlightNodes:[b],highlightEdges:L,nodeStyles:M,edgeStyles:z,state:{phase:"explore",currentNode:b,neighborsExplored:L.length,openSetSize:c.size,closedSetSize:f.size}}}}const y=o.get(n)??1/0;if(y===1/0){yield{stepNumber:v++,description:"No path found from start to end node",highlightNodes:[t,n],highlightEdges:[],nodeStyles:new Map([[t,{backgroundColor:"#4CAF50",borderColor:"#388E3C",borderWidth:4}],[n,{backgroundColor:"#F44336",borderColor:"#D32F2F",borderWidth:4}]]),edgeStyles:new Map,state:{phase:"complete",found:!1}};return}const m=mb(u,n),E=new Map;for(const b of f)E.set(b,{backgroundColor:"#42A5F5",borderColor:"#1E88E5",borderWidth:2});for(const b of m.nodes)E.set(b,{backgroundColor:"#4CAF50",borderColor:"#2E7D32",borderWidth:4});E.set(t,{backgroundColor:"#4CAF50",borderColor:"#1B5E20",borderWidth:4}),E.set(n,{backgroundColor:"#F44336",borderColor:"#B71C1C",borderWidth:4});const x=new Map;for(const b of m.edges)x.set(b,{lineColor:"#4CAF50",lineWidth:6});yield{stepNumber:v++,description:`Path found! Distance: ${y.toFixed(1)}, Path: ${m.nodes.length} nodes, Visited: ${f.size} nodes`,highlightNodes:m.nodes,highlightEdges:m.edges,nodeStyles:E,edgeStyles:x,state:{phase:"complete",found:!0,distance:y,pathLength:m.nodes.length,path:m.nodes,nodesVisited:f.size}}},execute(r,e){var o;const t=[];for(const l of this.run(r,e))t.push(l);const n=t[t.length-1];return{success:((o=n==null?void 0:n.state)==null?void 0:o.found)===!0,steps:t,finalState:(n==null?void 0:n.state)||{},message:(n==null?void 0:n.description)||"No steps generated"}}},l0=[db,pb,yb];function wb(r){return l0.filter(e=>e.category===r)}function xb(){const r={coloring:"Graph Coloring",pathfinding:"Pathfinding",traversal:"Traversal",mst:"Minimum Spanning Tree"};return["coloring","pathfinding","traversal","mst"].map(t=>({category:t,name:r[t],algorithms:wb(t)})).filter(t=>t.algorithms.length>0)}const bb="_container_1270f_1",Eb="_section_1270f_7",Sb="_sectionTitle_1270f_13",Cb="_modeButtons_1270f_22",kb="_modeButton_1270f_22",Tb="_active_1270f_44",Pb="_buttons_1270f_50",Db="_stats_1270f_56",ar={container:bb,section:Eb,sectionTitle:Sb,modeButtons:Cb,modeButton:kb,active:Tb,buttons:Pb,stats:Db};function Rb(){const r=jt(u=>u.graph),e=jt(u=>u.clear),t=vn(u=>u.editMode),n=vn(u=>u.setEditMode),i=u=>{n(u===t?"select":u)},o=()=>{e();const u=8,c=[];for(let f=0;f<u;f++){const v=2*Math.PI*f/u,h=200,p=jt.getState().addNode({label:String(f+1),x:300+h*Math.cos(v),y:300+h*Math.sin(v)});c.push(p)}for(let f=0;f<u;f++)for(let v=f+1;v<u;v++)Math.random()<.4&&jt.getState().addEdge(c[f],c[v])},l=()=>{const u=parseInt(prompt("Enter k for complete graph K_k:","5")||"0");if(u<2||u>20)return;e();const c=[];for(let f=0;f<u;f++){const v=2*Math.PI*f/u,h=150+u*10,p=jt.getState().addNode({label:String(f+1),x:300+h*Math.cos(v),y:300+h*Math.sin(v)});c.push(p)}for(let f=0;f<u;f++)for(let v=f+1;v<u;v++)jt.getState().addEdge(c[f],c[v])};return X.jsxs("div",{className:ar.container,children:[X.jsxs("div",{className:ar.section,children:[X.jsx("h3",{className:ar.sectionTitle,children:"Edit Mode"}),X.jsxs("div",{className:ar.modeButtons,children:[X.jsx("button",{className:`${ar.modeButton} ${t==="select"?ar.active:""}`,onClick:()=>i("select"),children:"Select"}),X.jsx("button",{className:`${ar.modeButton} ${t==="addNode"?ar.active:""}`,onClick:()=>i("addNode"),children:"Add Node"}),X.jsx("button",{className:`${ar.modeButton} ${t==="addEdge"?ar.active:""}`,onClick:()=>i("addEdge"),children:"Add Edge"}),X.jsx("button",{className:`${ar.modeButton} ${t==="delete"?ar.active:""}`,onClick:()=>i("delete"),children:"Delete"})]})]}),X.jsxs("div",{className:ar.section,children:[X.jsx("h3",{className:ar.sectionTitle,children:"Generate"}),X.jsxs("div",{className:ar.buttons,children:[X.jsx("button",{className:"btn-secondary",onClick:o,children:"Random Graph"}),X.jsx("button",{className:"btn-secondary",onClick:l,children:"Complete Graph"})]})]}),X.jsxs("div",{className:ar.section,children:[X.jsx("h3",{className:ar.sectionTitle,children:"Graph"}),X.jsxs("div",{className:ar.stats,children:[X.jsxs("span",{children:["Nodes: ",r.nodes.length]}),X.jsxs("span",{children:["Edges: ",r.edges.length]})]}),X.jsx("button",{className:"btn-secondary",onClick:e,children:"Clear All"})]})]})}const Bb="_sidebar_1nib6_1",Ab="_content_1nib6_9",Nb="_section_1nib6_16",Mb="_sectionTitle_1nib6_22",Lb="_algorithmButton_1nib6_32",Ib="_algorithmButtonActive_1nib6_51",zb="_algorithmName_1nib6_56",Ob="_algorithmComplexity_1nib6_63",_b="_configPanel_1nib6_70",Fb="_configRadio_1nib6_82",Vb="_configInput_1nib6_96",qb="_configSelect_1nib6_121",Wb="_configHint_1nib6_147",$b="_runButton_1nib6_153",Ub="_currentAlgorithm_1nib6_176",Hb="_algorithmLabel_1nib6_188",jb="_algorithmStatus_1nib6_195",Ot={sidebar:Bb,content:Ab,section:Nb,sectionTitle:Mb,algorithmButton:Lb,algorithmButtonActive:Ib,algorithmName:zb,algorithmComplexity:Ob,configPanel:_b,configRadio:Fb,configInput:Vb,configSelect:qb,configHint:Wb,runButton:$b,currentAlgorithm:Ub,algorithmLabel:Hb,algorithmStatus:jb};function Gb(){const r=vn(D=>D.sidebarOpen),e=ei(D=>D.selectAlgorithm),t=ei(D=>D.algorithm),n=ei(D=>D.status),i=jt(D=>D.graph),{runAlgorithm:o}=s0(),[l,u]=it.useState(null),[c,f]=it.useState("minimum"),[v,h]=it.useState(3),[p,y]=it.useState(""),[m,E]=it.useState(""),x=xb(),S=D=>{D.category==="coloring"||D.category==="pathfinding"?u((l==null?void 0:l.id)===D.id?null:D):(e(D),o(D))},b=()=>{if(!l)return;const D={};c==="k-coloring"&&(D.maxColors=v),e(l),o(l,D),u(null)},k=()=>{!l||!p||!m||p===m||(e(l),o(l,{startNode:p,endNode:m}),u(null),y(""),E(""))};if(!r)return null;const T=p&&m&&p!==m;return X.jsx("aside",{className:Ot.sidebar,children:X.jsxs("div",{className:Ot.content,children:[X.jsx(Rb,{}),x.map(D=>X.jsxs("div",{className:Ot.section,children:[X.jsx("h3",{className:Ot.sectionTitle,children:D.name}),D.algorithms.map(R=>X.jsxs("div",{children:[X.jsxs("button",{className:`${Ot.algorithmButton} ${(t==null?void 0:t.id)===R.id?Ot.algorithmButtonActive:""}`,onClick:()=>S(R),children:[X.jsx("span",{className:Ot.algorithmName,children:R.name}),X.jsx("span",{className:Ot.algorithmComplexity,children:R.complexity.time})]}),(l==null?void 0:l.id)===R.id&&R.category==="coloring"&&X.jsxs("div",{className:Ot.configPanel,children:[X.jsxs("label",{className:Ot.configRadio,children:[X.jsx("input",{type:"radio",name:"coloringMode",checked:c==="minimum",onChange:()=>f("minimum")}),X.jsx("span",{children:"Minimum coloring"})]}),X.jsxs("label",{className:Ot.configRadio,children:[X.jsx("input",{type:"radio",name:"coloringMode",checked:c==="k-coloring",onChange:()=>f("k-coloring")}),X.jsx("span",{children:"k-Coloring"})]}),c==="k-coloring"&&X.jsxs("div",{className:Ot.configInput,children:[X.jsx("label",{children:"k ="}),X.jsx("input",{type:"number",min:1,max:10,value:v,onChange:P=>h(Math.max(1,Math.min(10,parseInt(P.target.value)||1)))})]}),X.jsx("button",{className:Ot.runButton,onClick:b,children:"Run"})]}),(l==null?void 0:l.id)===R.id&&R.category==="pathfinding"&&X.jsxs("div",{className:Ot.configPanel,children:[X.jsxs("div",{className:Ot.configSelect,children:[X.jsx("label",{children:"Start"}),X.jsxs("select",{value:p,onChange:P=>y(P.target.value),children:[X.jsx("option",{value:"",children:"Select..."}),i.nodes.map(P=>X.jsx("option",{value:P.id,disabled:P.id===m,children:P.label||P.id},P.id))]})]}),X.jsxs("div",{className:Ot.configSelect,children:[X.jsx("label",{children:"End"}),X.jsxs("select",{value:m,onChange:P=>E(P.target.value),children:[X.jsx("option",{value:"",children:"Select..."}),i.nodes.map(P=>X.jsx("option",{value:P.id,disabled:P.id===p,children:P.label||P.id},P.id))]})]}),i.nodes.length<2&&X.jsx("span",{className:Ot.configHint,children:"Add at least 2 nodes first"}),X.jsx("button",{className:Ot.runButton,onClick:k,disabled:!T,style:{opacity:T?1:.5},children:"Run"})]})]},R.id))]},D.category)),t&&X.jsx("div",{className:Ot.section,children:X.jsxs("div",{className:Ot.currentAlgorithm,children:[X.jsx("span",{className:Ot.algorithmLabel,children:"Running"}),X.jsx("span",{className:Ot.algorithmName,children:t.name}),X.jsx("span",{className:Ot.algorithmStatus,children:n})]})})]})})}function tv(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function Kb(r){if(Array.isArray(r))return r}function Yb(r){if(Array.isArray(r))return tv(r)}function Pa(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Xb(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,c0(n.key),n)}}function Da(r,e,t){return e&&Xb(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function Vr(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=Ev(r))||e){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,l=!0,u=!1;return{s:function(){t=t.call(r)},n:function(){var c=t.next();return l=c.done,c},e:function(c){u=!0,o=c},f:function(){try{l||t.return==null||t.return()}finally{if(u)throw o}}}}function u0(r,e,t){return(e=c0(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Qb(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Zb(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,o,l,u=[],c=!0,f=!1;try{if(o=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=o.call(t)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(v){f=!0,i=v}finally{try{if(!c&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function Jb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gt(r,e){return Kb(r)||Zb(r,e)||Ev(r,e)||Jb()}function ru(r){return Yb(r)||Qb(r)||Ev(r)||eE()}function tE(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function c0(r){var e=tE(r,"string");return typeof e=="symbol"?e:e+""}function Jt(r){"@babel/helpers - typeof";return Jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jt(r)}function Ev(r,e){if(r){if(typeof r=="string")return tv(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?tv(r,e):void 0}}var Qt=typeof window>"u"?null:window,Ag=Qt?Qt.navigator:null;Qt&&Qt.document;var rE=Jt(""),f0=Jt({}),nE=Jt(function(){}),aE=typeof HTMLElement>"u"?"undefined":Jt(HTMLElement),ds=function(e){return e&&e.instanceString&&_t(e.instanceString)?e.instanceString():null},qe=function(e){return e!=null&&Jt(e)==rE},_t=function(e){return e!=null&&Jt(e)===nE},yt=function(e){return!Kr(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},ft=function(e){return e!=null&&Jt(e)===f0&&!yt(e)&&e.constructor===Object},iE=function(e){return e!=null&&Jt(e)===f0},Ee=function(e){return e!=null&&Jt(e)===Jt(1)&&!isNaN(e)},oE=function(e){return Ee(e)&&Math.floor(e)===e},nu=function(e){if(aE!=="undefined")return e!=null&&e instanceof HTMLElement},Kr=function(e){return vs(e)||d0(e)},vs=function(e){return ds(e)==="collection"&&e._private.single},d0=function(e){return ds(e)==="collection"&&!e._private.single},Sv=function(e){return ds(e)==="core"},v0=function(e){return ds(e)==="stylesheet"},sE=function(e){return ds(e)==="event"},xa=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},lE=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},uE=function(e){return ft(e)&&Ee(e.x1)&&Ee(e.x2)&&Ee(e.y1)&&Ee(e.y2)},cE=function(e){return iE(e)&&_t(e.then)},fE=function(){return Ag&&Ag.userAgent.match(/msie|trident|edge/i)},Xi=function(e,t){t||(t=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var o=[],l=0;l<arguments.length;l++)o.push(arguments[l]);return o.join("$")});var n=function(){var o=this,l=arguments,u,c=t.apply(o,l),f=n.cache;return(u=f[c])||(u=f[c]=e.apply(o,l)),u};return n.cache={},n},Cv=Xi(function(r){return r.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),mu=Xi(function(r){return r.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),h0=Xi(function(r,e){return r+e[0].toUpperCase()+e.substring(1)},function(r,e){return r+"$"+e}),Ng=function(e){return xa(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},pa=function(e,t){return e.slice(-1*t.length)===t},Zt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",dE="rgb[a]?\\(("+Zt+"[%]?)\\s*,\\s*("+Zt+"[%]?)\\s*,\\s*("+Zt+"[%]?)(?:\\s*,\\s*("+Zt+"))?\\)",vE="rgb[a]?\\((?:"+Zt+"[%]?)\\s*,\\s*(?:"+Zt+"[%]?)\\s*,\\s*(?:"+Zt+"[%]?)(?:\\s*,\\s*(?:"+Zt+"))?\\)",hE="hsl[a]?\\(("+Zt+")\\s*,\\s*("+Zt+"[%])\\s*,\\s*("+Zt+"[%])(?:\\s*,\\s*("+Zt+"))?\\)",pE="hsl[a]?\\((?:"+Zt+")\\s*,\\s*(?:"+Zt+"[%])\\s*,\\s*(?:"+Zt+"[%])(?:\\s*,\\s*(?:"+Zt+"))?\\)",gE="\\#[0-9a-fA-F]{3}",mE="\\#[0-9a-fA-F]{6}",p0=function(e,t){return e<t?-1:e>t?1:0},yE=function(e,t){return-1*p0(e,t)},je=Object.assign!=null?Object.assign.bind(Object):function(r){for(var e=arguments,t=1;t<e.length;t++){var n=e[t];if(n!=null)for(var i=Object.keys(n),o=0;o<i.length;o++){var l=i[o];r[l]=n[l]}}return r},wE=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var t=e.length===4,n,i,o,l=16;return t?(n=parseInt(e[1]+e[1],l),i=parseInt(e[2]+e[2],l),o=parseInt(e[3]+e[3],l)):(n=parseInt(e[1]+e[2],l),i=parseInt(e[3]+e[4],l),o=parseInt(e[5]+e[6],l)),[n,i,o]}},xE=function(e){var t,n,i,o,l,u,c,f;function v(m,E,x){return x<0&&(x+=1),x>1&&(x-=1),x<1/6?m+(E-m)*6*x:x<1/2?E:x<2/3?m+(E-m)*(2/3-x)*6:m}var h=new RegExp("^"+hE+"$").exec(e);if(h){if(n=parseInt(h[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,i=parseFloat(h[2]),i<0||i>100||(i=i/100,o=parseFloat(h[3]),o<0||o>100)||(o=o/100,l=h[4],l!==void 0&&(l=parseFloat(l),l<0||l>1)))return;if(i===0)u=c=f=Math.round(o*255);else{var p=o<.5?o*(1+i):o+i-o*i,y=2*o-p;u=Math.round(255*v(y,p,n+1/3)),c=Math.round(255*v(y,p,n)),f=Math.round(255*v(y,p,n-1/3))}t=[u,c,f,l]}return t},bE=function(e){var t,n=new RegExp("^"+dE+"$").exec(e);if(n){t=[];for(var i=[],o=1;o<=3;o++){var l=n[o];if(l[l.length-1]==="%"&&(i[o]=!0),l=parseFloat(l),i[o]&&(l=l/100*255),l<0||l>255)return;t.push(Math.floor(l))}var u=i[1]||i[2]||i[3],c=i[1]&&i[2]&&i[3];if(u&&!c)return;var f=n[4];if(f!==void 0){if(f=parseFloat(f),f<0||f>1)return;t.push(f)}}return t},EE=function(e){return SE[e.toLowerCase()]},g0=function(e){return(yt(e)?e:null)||EE(e)||wE(e)||bE(e)||xE(e)},SE={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},m0=function(e){for(var t=e.map,n=e.keys,i=n.length,o=0;o<i;o++){var l=n[o];if(ft(l))throw Error("Tried to set map with object key");o<n.length-1?(t[l]==null&&(t[l]={}),t=t[l]):t[l]=e.value}},y0=function(e){for(var t=e.map,n=e.keys,i=n.length,o=0;o<i;o++){var l=n[o];if(ft(l))throw Error("Tried to get map with object key");if(t=t[l],t==null)return t}return t},Bl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Cf,Mg;function ps(){if(Mg)return Cf;Mg=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return Cf=r,Cf}var kf,Lg;function CE(){if(Lg)return kf;Lg=1;var r=typeof Bl=="object"&&Bl&&Bl.Object===Object&&Bl;return kf=r,kf}var Tf,Ig;function yu(){if(Ig)return Tf;Ig=1;var r=CE(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return Tf=t,Tf}var Pf,zg;function kE(){if(zg)return Pf;zg=1;var r=yu(),e=function(){return r.Date.now()};return Pf=e,Pf}var Df,Og;function TE(){if(Og)return Df;Og=1;var r=/\s/;function e(t){for(var n=t.length;n--&&r.test(t.charAt(n)););return n}return Df=e,Df}var Rf,_g;function PE(){if(_g)return Rf;_g=1;var r=TE(),e=/^\s+/;function t(n){return n&&n.slice(0,r(n)+1).replace(e,"")}return Rf=t,Rf}var Bf,Fg;function kv(){if(Fg)return Bf;Fg=1;var r=yu(),e=r.Symbol;return Bf=e,Bf}var Af,Vg;function DE(){if(Vg)return Af;Vg=1;var r=kv(),e=Object.prototype,t=e.hasOwnProperty,n=e.toString,i=r?r.toStringTag:void 0;function o(l){var u=t.call(l,i),c=l[i];try{l[i]=void 0;var f=!0}catch{}var v=n.call(l);return f&&(u?l[i]=c:delete l[i]),v}return Af=o,Af}var Nf,qg;function RE(){if(qg)return Nf;qg=1;var r=Object.prototype,e=r.toString;function t(n){return e.call(n)}return Nf=t,Nf}var Mf,Wg;function w0(){if(Wg)return Mf;Wg=1;var r=kv(),e=DE(),t=RE(),n="[object Null]",i="[object Undefined]",o=r?r.toStringTag:void 0;function l(u){return u==null?u===void 0?i:n:o&&o in Object(u)?e(u):t(u)}return Mf=l,Mf}var Lf,$g;function BE(){if($g)return Lf;$g=1;function r(e){return e!=null&&typeof e=="object"}return Lf=r,Lf}var If,Ug;function gs(){if(Ug)return If;Ug=1;var r=w0(),e=BE(),t="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&r(i)==t}return If=n,If}var zf,Hg;function AE(){if(Hg)return zf;Hg=1;var r=PE(),e=ps(),t=gs(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function c(f){if(typeof f=="number")return f;if(t(f))return n;if(e(f)){var v=typeof f.valueOf=="function"?f.valueOf():f;f=e(v)?v+"":v}if(typeof f!="string")return f===0?f:+f;f=r(f);var h=o.test(f);return h||l.test(f)?u(f.slice(2),h?2:8):i.test(f)?n:+f}return zf=c,zf}var Of,jg;function NE(){if(jg)return Of;jg=1;var r=ps(),e=kE(),t=AE(),n="Expected a function",i=Math.max,o=Math.min;function l(u,c,f){var v,h,p,y,m,E,x=0,S=!1,b=!1,k=!0;if(typeof u!="function")throw new TypeError(n);c=t(c)||0,r(f)&&(S=!!f.leading,b="maxWait"in f,p=b?i(t(f.maxWait)||0,c):p,k="trailing"in f?!!f.trailing:k);function T(_){var W=v,U=h;return v=h=void 0,x=_,y=u.apply(U,W),y}function D(_){return x=_,m=setTimeout(B,c),S?T(_):y}function R(_){var W=_-E,U=_-x,H=c-W;return b?o(H,p-U):H}function P(_){var W=_-E,U=_-x;return E===void 0||W>=c||W<0||b&&U>=p}function B(){var _=e();if(P(_))return L(_);m=setTimeout(B,R(_))}function L(_){return m=void 0,k&&v?T(_):(v=h=void 0,y)}function M(){m!==void 0&&clearTimeout(m),x=0,v=E=h=m=void 0}function z(){return m===void 0?y:L(e())}function O(){var _=e(),W=P(_);if(v=arguments,h=this,E=_,W){if(m===void 0)return D(E);if(b)return clearTimeout(m),m=setTimeout(B,c),T(E)}return m===void 0&&(m=setTimeout(B,c)),y}return O.cancel=M,O.flush=z,O}return Of=l,Of}var ME=NE(),ms=hs(ME),_f=Qt?Qt.performance:null,x0=_f&&_f.now?function(){return _f.now()}:function(){return Date.now()},LE=(function(){if(Qt){if(Qt.requestAnimationFrame)return function(r){Qt.requestAnimationFrame(r)};if(Qt.mozRequestAnimationFrame)return function(r){Qt.mozRequestAnimationFrame(r)};if(Qt.webkitRequestAnimationFrame)return function(r){Qt.webkitRequestAnimationFrame(r)};if(Qt.msRequestAnimationFrame)return function(r){Qt.msRequestAnimationFrame(r)}}return function(r){r&&setTimeout(function(){r(x0())},1e3/60)}})(),au=function(e){return LE(e)},qn=x0,Qa=9261,b0=65599,Wi=5381,E0=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa,n=t,i;i=e.next(),!i.done;)n=n*b0+i.value|0;return n},rs=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa;return t*b0+e|0},ns=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wi;return(t<<5)+t+e|0},IE=function(e,t){return e*2097152+t},da=function(e){return e[0]*2097152+e[1]},Al=function(e,t){return[rs(e[0],t[0]),ns(e[1],t[1])]},Gg=function(e,t){var n={value:0,done:!1},i=0,o=e.length,l={next:function(){return i<o?n.value=e[i++]:n.done=!0,n}};return E0(l,t)},ti=function(e,t){var n={value:0,done:!1},i=0,o=e.length,l={next:function(){return i<o?n.value=e.charCodeAt(i++):n.done=!0,n}};return E0(l,t)},S0=function(){return zE(arguments)},zE=function(e){for(var t,n=0;n<e.length;n++){var i=e[n];n===0?t=ti(i):t=ti(i,t)}return t};function OE(r,e,t,n,i){var o=i*Math.PI/180,l=Math.cos(o)*(r-t)-Math.sin(o)*(e-n)+t,u=Math.sin(o)*(r-t)+Math.cos(o)*(e-n)+n;return{x:l,y:u}}var _E=function(e,t,n,i,o,l){return{x:(e-n)*o+n,y:(t-i)*l+i}};function FE(r,e,t){if(t===0)return r;var n=(e.x1+e.x2)/2,i=(e.y1+e.y2)/2,o=e.w/e.h,l=1/o,u=OE(r.x,r.y,n,i,t),c=_E(u.x,u.y,n,i,o,l);return{x:c.x,y:c.y}}var Kg=!0,VE=console.warn!=null,qE=console.trace!=null,Tv=Number.MAX_SAFE_INTEGER||9007199254740991,C0=function(){return!0},iu=function(){return!1},Yg=function(){return 0},Pv=function(){},Bt=function(e){throw new Error(e)},k0=function(e){if(e!==void 0)Kg=!!e;else return Kg},pt=function(e){k0()&&(VE?console.warn(e):(console.log(e),qE&&console.trace()))},WE=function(e){return je({},e)},kn=function(e){return e==null?e:yt(e)?e.slice():ft(e)?WE(e):e},$E=function(e){return e.slice()},T0=function(e,t){for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t},UE={},P0=function(){return UE},hr=function(e){var t=Object.keys(e);return function(n){for(var i={},o=0;o<t.length;o++){var l=t[o],u=n==null?void 0:n[l];i[l]=u===void 0?e[l]:u}return i}},ba=function(e,t,n){for(var i=e.length-1;i>=0;i--)e[i]===t&&e.splice(i,1)},Dv=function(e){e.splice(0,e.length)},HE=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];e.push(i)}},_r=function(e,t,n){return n&&(t=h0(n,t)),e[t]},Fn=function(e,t,n,i){n&&(t=h0(n,t)),e[t]=i},jE=(function(){function r(){Pa(this,r),this._obj={}}return Da(r,[{key:"set",value:function(t,n){return this._obj[t]=n,this}},{key:"delete",value:function(t){return this._obj[t]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(t){return this._obj[t]!==void 0}},{key:"get",value:function(t){return this._obj[t]}}])})(),Vn=typeof Map<"u"?Map:jE,GE="undefined",KE=(function(){function r(e){if(Pa(this,r),this._obj=Object.create(null),this.size=0,e!=null){var t;e.instanceString!=null&&e.instanceString()===this.instanceString()?t=e.toArray():t=e;for(var n=0;n<t.length;n++)this.add(t[n])}}return Da(r,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){var n=this._obj;n[t]!==1&&(n[t]=1,this.size++)}},{key:"delete",value:function(t){var n=this._obj;n[t]===1&&(n[t]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return this._obj[t]===1}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter(function(n){return t.has(n)})}},{key:"forEach",value:function(t,n){return this.toArray().forEach(t,n)}}])})(),Ji=(typeof Set>"u"?"undefined":Jt(Set))!==GE?Set:KE,wu=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||t===void 0||!Sv(e)){Bt("An element must have a core reference and parameters set");return}var i=t.group;if(i==null&&(t.data&&t.data.source!=null&&t.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){Bt("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var o=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:t.selectable===void 0?!0:!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:t.grabbable===void 0?!0:!!t.grabbable,pannable:t.pannable===void 0?i==="edges":!!t.pannable,active:!1,classes:new Ji,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(o.position.x==null&&(o.position.x=0),o.position.y==null&&(o.position.y=0),t.renderedPosition){var l=t.renderedPosition,u=e.pan(),c=e.zoom();o.position={x:(l.x-u.x)/c,y:(l.y-u.y)/c}}var f=[];yt(t.classes)?f=t.classes:qe(t.classes)&&(f=t.classes.split(/\s+/));for(var v=0,h=f.length;v<h;v++){var p=f[v];!p||p===""||o.classes.add(p)}this.createEmitter(),(n===void 0||n)&&this.restore();var y=t.style||t.css;y&&(pt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(y))},Xg=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,i,o){var l;ft(n)&&!Kr(n)&&(l=n,n=l.roots||l.root,i=l.visit,o=l.directed),o=arguments.length===2&&!_t(i)?i:o,i=_t(i)?i:function(){};for(var u=this._private.cy,c=n=qe(n)?this.filter(n):n,f=[],v=[],h={},p={},y={},m=0,E,x=this.byGroup(),S=x.nodes,b=x.edges,k=0;k<c.length;k++){var T=c[k],D=T.id();T.isNode()&&(f.unshift(T),e.bfs&&(y[D]=!0,v.push(T)),p[D]=0)}for(var R=function(){var _=e.bfs?f.shift():f.pop(),W=_.id();if(e.dfs){if(y[W])return 0;y[W]=!0,v.push(_)}var U=p[W],H=h[W],q=H!=null?H.source():null,V=H!=null?H.target():null,G=H==null?void 0:_.same(q)?V[0]:q[0],j;if(j=i(_,H,G,m++,U),j===!0)return E=_,1;if(j===!1)return 1;for(var N=_.connectedEdges().filter(function(se){return(!o||se.source().same(_))&&b.has(se)}),F=0;F<N.length;F++){var ee=N[F],ae=ee.connectedNodes().filter(function(se){return!se.same(_)&&S.has(se)}),ne=ae.id();ae.length!==0&&!y[ne]&&(ae=ae[0],f.push(ae),e.bfs&&(y[ne]=!0,v.push(ae)),h[ne]=ee,p[ne]=p[W]+1)}},P;f.length!==0&&(P=R(),!(P!==0&&P===1)););for(var B=u.collection(),L=0;L<v.length;L++){var M=v[L],z=h[M.id()];z!=null&&B.push(z),B.push(M)}return{path:u.collection(B),found:u.collection(E)}}},as={breadthFirstSearch:Xg({bfs:!0}),depthFirstSearch:Xg({dfs:!0})};as.bfs=as.breadthFirstSearch;as.dfs=as.depthFirstSearch;var Hl={exports:{}},YE=Hl.exports,Qg;function XE(){return Qg||(Qg=1,(function(r,e){(function(){var t,n,i,o,l,u,c,f,v,h,p,y,m,E,x;i=Math.floor,h=Math.min,n=function(S,b){return S<b?-1:S>b?1:0},v=function(S,b,k,T,D){var R;if(k==null&&(k=0),D==null&&(D=n),k<0)throw new Error("lo must be non-negative");for(T==null&&(T=S.length);k<T;)R=i((k+T)/2),D(b,S[R])<0?T=R:k=R+1;return[].splice.apply(S,[k,k-k].concat(b)),b},u=function(S,b,k){return k==null&&(k=n),S.push(b),E(S,0,S.length-1,k)},l=function(S,b){var k,T;return b==null&&(b=n),k=S.pop(),S.length?(T=S[0],S[0]=k,x(S,0,b)):T=k,T},f=function(S,b,k){var T;return k==null&&(k=n),T=S[0],S[0]=b,x(S,0,k),T},c=function(S,b,k){var T;return k==null&&(k=n),S.length&&k(S[0],b)<0&&(T=[S[0],b],b=T[0],S[0]=T[1],x(S,0,k)),b},o=function(S,b){var k,T,D,R,P,B;for(b==null&&(b=n),R=(function(){B=[];for(var L=0,M=i(S.length/2);0<=M?L<M:L>M;0<=M?L++:L--)B.push(L);return B}).apply(this).reverse(),P=[],T=0,D=R.length;T<D;T++)k=R[T],P.push(x(S,k,b));return P},m=function(S,b,k){var T;if(k==null&&(k=n),T=S.indexOf(b),T!==-1)return E(S,0,T,k),x(S,T,k)},p=function(S,b,k){var T,D,R,P,B;if(k==null&&(k=n),D=S.slice(0,b),!D.length)return D;for(o(D,k),B=S.slice(b),R=0,P=B.length;R<P;R++)T=B[R],c(D,T,k);return D.sort(k).reverse()},y=function(S,b,k){var T,D,R,P,B,L,M,z,O;if(k==null&&(k=n),b*10<=S.length){if(R=S.slice(0,b).sort(k),!R.length)return R;for(D=R[R.length-1],M=S.slice(b),P=0,L=M.length;P<L;P++)T=M[P],k(T,D)<0&&(v(R,T,0,null,k),R.pop(),D=R[R.length-1]);return R}for(o(S,k),O=[],B=0,z=h(b,S.length);0<=z?B<z:B>z;0<=z?++B:--B)O.push(l(S,k));return O},E=function(S,b,k,T){var D,R,P;for(T==null&&(T=n),D=S[k];k>b;){if(P=k-1>>1,R=S[P],T(D,R)<0){S[k]=R,k=P;continue}break}return S[k]=D},x=function(S,b,k){var T,D,R,P,B;for(k==null&&(k=n),D=S.length,B=b,R=S[b],T=2*b+1;T<D;)P=T+1,P<D&&!(k(S[T],S[P])<0)&&(T=P),S[b]=S[T],b=T,T=2*b+1;return S[b]=R,E(S,B,b,k)},t=(function(){S.push=u,S.pop=l,S.replace=f,S.pushpop=c,S.heapify=o,S.updateItem=m,S.nlargest=p,S.nsmallest=y;function S(b){this.cmp=b??n,this.nodes=[]}return S.prototype.push=function(b){return u(this.nodes,b,this.cmp)},S.prototype.pop=function(){return l(this.nodes,this.cmp)},S.prototype.peek=function(){return this.nodes[0]},S.prototype.contains=function(b){return this.nodes.indexOf(b)!==-1},S.prototype.replace=function(b){return f(this.nodes,b,this.cmp)},S.prototype.pushpop=function(b){return c(this.nodes,b,this.cmp)},S.prototype.heapify=function(){return o(this.nodes,this.cmp)},S.prototype.updateItem=function(b){return m(this.nodes,b,this.cmp)},S.prototype.clear=function(){return this.nodes=[]},S.prototype.empty=function(){return this.nodes.length===0},S.prototype.size=function(){return this.nodes.length},S.prototype.clone=function(){var b;return b=new S,b.nodes=this.nodes.slice(0),b},S.prototype.toArray=function(){return this.nodes.slice(0)},S.prototype.insert=S.prototype.push,S.prototype.top=S.prototype.peek,S.prototype.front=S.prototype.peek,S.prototype.has=S.prototype.contains,S.prototype.copy=S.prototype.clone,S})(),(function(S,b){return r.exports=b()})(this,function(){return t})}).call(YE)})(Hl)),Hl.exports}var Ff,Zg;function QE(){return Zg||(Zg=1,Ff=XE()),Ff}var ZE=QE(),ys=hs(ZE),JE=hr({root:null,weight:function(e){return 1},directed:!1}),eS={dijkstra:function(e){if(!ft(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var n=JE(e),i=n.root,o=n.weight,l=n.directed,u=this,c=o,f=qe(i)?this.filter(i)[0]:i[0],v={},h={},p={},y=this.byGroup(),m=y.nodes,E=y.edges;E.unmergeBy(function(U){return U.isLoop()});for(var x=function(H){return v[H.id()]},S=function(H,q){v[H.id()]=q,b.updateItem(H)},b=new ys(function(U,H){return x(U)-x(H)}),k=0;k<m.length;k++){var T=m[k];v[T.id()]=T.same(f)?0:1/0,b.push(T)}for(var D=function(H,q){for(var V=(l?H.edgesTo(q):H.edgesWith(q)).intersect(E),G=1/0,j,N=0;N<V.length;N++){var F=V[N],ee=c(F);(ee<G||!j)&&(G=ee,j=F)}return{edge:j,dist:G}};b.size()>0;){var R=b.pop(),P=x(R),B=R.id();if(p[B]=P,P!==1/0)for(var L=R.neighborhood().intersect(m),M=0;M<L.length;M++){var z=L[M],O=z.id(),_=D(R,z),W=P+_.dist;W<x(z)&&(S(z,W),h[O]={node:R,edge:_.edge})}}return{distanceTo:function(H){var q=qe(H)?m.filter(H)[0]:H[0];return p[q.id()]},pathTo:function(H){var q=qe(H)?m.filter(H)[0]:H[0],V=[],G=q,j=G.id();if(q.length>0)for(V.unshift(q);h[j];){var N=h[j];V.unshift(N.edge),V.unshift(N.node),G=N.node,j=G.id()}return u.spawn(V)}}}},tS={kruskal:function(e){e=e||function(k){return 1};for(var t=this.byGroup(),n=t.nodes,i=t.edges,o=n.length,l=new Array(o),u=n,c=function(T){for(var D=0;D<l.length;D++){var R=l[D];if(R.has(T))return D}},f=0;f<o;f++)l[f]=this.spawn(n[f]);for(var v=i.sort(function(k,T){return e(k)-e(T)}),h=0;h<v.length;h++){var p=v[h],y=p.source()[0],m=p.target()[0],E=c(y),x=c(m),S=l[E],b=l[x];E!==x&&(u.merge(p),S.merge(b),l.splice(x,1))}return u}},rS=hr({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),nS={aStar:function(e){var t=this.cy(),n=rS(e),i=n.root,o=n.goal,l=n.heuristic,u=n.directed,c=n.weight;i=t.collection(i)[0],o=t.collection(o)[0];var f=i.id(),v=o.id(),h={},p={},y={},m=new ys(function(j,N){return p[j.id()]-p[N.id()]}),E=new Ji,x={},S={},b=function(N,F){m.push(N),E.add(F)},k,T,D=function(){k=m.pop(),T=k.id(),E.delete(T)},R=function(N){return E.has(N)};b(i,f),h[f]=0,p[f]=l(i);for(var P=0;m.size()>0;){if(D(),P++,T===v){for(var B=[],L=o,M=v,z=S[M];B.unshift(L),z!=null&&B.unshift(z),L=x[M],L!=null;)M=L.id(),z=S[M];return{found:!0,distance:h[T],path:this.spawn(B),steps:P}}y[T]=!0;for(var O=k._private.edges,_=0;_<O.length;_++){var W=O[_];if(this.hasElementWithId(W.id())&&!(u&&W.data("source")!==T)){var U=W.source(),H=W.target(),q=U.id()!==T?U:H,V=q.id();if(this.hasElementWithId(V)&&!y[V]){var G=h[T]+c(W);if(!R(V)){h[V]=G,p[V]=G+l(q),b(q,V),x[V]=k,S[V]=W;continue}G<h[V]&&(h[V]=G,p[V]=G+l(q),x[V]=k,S[V]=W)}}}}return{found:!1,distance:void 0,path:void 0,steps:P}}},aS=hr({weight:function(e){return 1},directed:!1}),iS={floydWarshall:function(e){for(var t=this.cy(),n=aS(e),i=n.weight,o=n.directed,l=i,u=this.byGroup(),c=u.nodes,f=u.edges,v=c.length,h=v*v,p=function(ee){return c.indexOf(ee)},y=function(ee){return c[ee]},m=new Array(h),E=0;E<h;E++){var x=E%v,S=(E-x)/v;S===x?m[E]=0:m[E]=1/0}for(var b=new Array(h),k=new Array(h),T=0;T<f.length;T++){var D=f[T],R=D.source()[0],P=D.target()[0];if(R!==P){var B=p(R),L=p(P),M=B*v+L,z=l(D);if(m[M]>z&&(m[M]=z,b[M]=L,k[M]=D),!o){var O=L*v+B;!o&&m[O]>z&&(m[O]=z,b[O]=B,k[O]=D)}}}for(var _=0;_<v;_++)for(var W=0;W<v;W++)for(var U=W*v+_,H=0;H<v;H++){var q=W*v+H,V=_*v+H;m[U]+m[V]<m[q]&&(m[q]=m[U]+m[V],b[q]=b[U])}var G=function(ee){return(qe(ee)?t.filter(ee):ee)[0]},j=function(ee){return p(G(ee))},N={distance:function(ee,ae){var ne=j(ee),se=j(ae);return m[ne*v+se]},path:function(ee,ae){var ne=j(ee),se=j(ae),fe=y(ne);if(ne===se)return fe.collection();if(b[ne*v+se]==null)return t.collection();var ge=t.collection(),le=ne,Q;for(ge.merge(fe);ne!==se;)le=ne,ne=b[ne*v+se],Q=k[le*v+ne],ge.merge(Q),ge.merge(y(ne));return ge}};return N}},oS=hr({weight:function(e){return 1},directed:!1,root:null}),sS={bellmanFord:function(e){var t=this,n=oS(e),i=n.weight,o=n.directed,l=n.root,u=i,c=this,f=this.cy(),v=this.byGroup(),h=v.edges,p=v.nodes,y=p.length,m=new Vn,E=!1,x=[];l=f.collection(l)[0],h.unmergeBy(function(Ge){return Ge.isLoop()});for(var S=h.length,b=function(We){var Ve=m.get(We.id());return Ve||(Ve={},m.set(We.id(),Ve)),Ve},k=function(We){return(qe(We)?f.$(We):We)[0]},T=function(We){return b(k(We)).dist},D=function(We){for(var Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,Se=k(We),Be=[],ze=Se;;){if(ze==null)return t.spawn();var Ke=b(ze),Fe=Ke.edge,Qe=Ke.pred;if(Be.unshift(ze[0]),ze.same(Ve)&&Be.length>0)break;Fe!=null&&Be.unshift(Fe),ze=Qe}return c.spawn(Be)},R=0;R<y;R++){var P=p[R],B=b(P);P.same(l)?B.dist=0:B.dist=1/0,B.pred=null,B.edge=null}for(var L=!1,M=function(We,Ve,Se,Be,ze,Ke){var Fe=Be.dist+Ke;Fe<ze.dist&&!Se.same(Be.edge)&&(ze.dist=Fe,ze.pred=We,ze.edge=Se,L=!0)},z=1;z<y;z++){L=!1;for(var O=0;O<S;O++){var _=h[O],W=_.source(),U=_.target(),H=u(_),q=b(W),V=b(U);M(W,U,_,q,V,H),o||M(U,W,_,V,q,H)}if(!L)break}if(L)for(var G=[],j=0;j<S;j++){var N=h[j],F=N.source(),ee=N.target(),ae=u(N),ne=b(F).dist,se=b(ee).dist;if(ne+ae<se||!o&&se+ae<ne)if(E||(pt("Graph contains a negative weight cycle for Bellman-Ford"),E=!0),e.findNegativeWeightCycles!==!1){var fe=[];ne+ae<se&&fe.push(F),!o&&se+ae<ne&&fe.push(ee);for(var ge=fe.length,le=0;le<ge;le++){var Q=fe[le],Z=[Q];Z.push(b(Q).edge);for(var ie=b(Q).pred;Z.indexOf(ie)===-1;)Z.push(ie),Z.push(b(ie).edge),ie=b(ie).pred;Z=Z.slice(Z.indexOf(ie));for(var de=Z[0].id(),be=0,Ie=2;Ie<Z.length;Ie+=2)Z[Ie].id()<de&&(de=Z[Ie].id(),be=Ie);Z=Z.slice(be).concat(Z.slice(0,be)),Z.push(Z[0]);var nt=Z.map(function(Ge){return Ge.id()}).join(",");G.indexOf(nt)===-1&&(x.push(c.spawn(Z)),G.push(nt))}}else break}return{distanceTo:T,pathTo:D,hasNegativeWeightCycle:E,negativeWeightCycles:x}}},lS=Math.sqrt(2),uS=function(e,t,n){n.length===0&&Bt("Karger-Stein must be run on a connected (sub)graph");for(var i=n[e],o=i[1],l=i[2],u=t[o],c=t[l],f=n,v=f.length-1;v>=0;v--){var h=f[v],p=h[1],y=h[2];(t[p]===u&&t[y]===c||t[p]===c&&t[y]===u)&&f.splice(v,1)}for(var m=0;m<f.length;m++){var E=f[m];E[1]===c?(f[m]=E.slice(),f[m][1]=u):E[2]===c&&(f[m]=E.slice(),f[m][2]=u)}for(var x=0;x<t.length;x++)t[x]===c&&(t[x]=u);return f},Vf=function(e,t,n,i){for(;n>i;){var o=Math.floor(Math.random()*t.length);t=uS(o,e,t),n--}return t},cS={kargerStein:function(){var e=this,t=this.byGroup(),n=t.nodes,i=t.edges;i.unmergeBy(function(V){return V.isLoop()});var o=n.length,l=i.length,u=Math.ceil(Math.pow(Math.log(o)/Math.LN2,2)),c=Math.floor(o/lS);if(o<2){Bt("At least 2 nodes are required for Karger-Stein algorithm");return}for(var f=[],v=0;v<l;v++){var h=i[v];f.push([v,n.indexOf(h.source()),n.indexOf(h.target())])}for(var p=1/0,y=[],m=new Array(o),E=new Array(o),x=new Array(o),S=function(G,j){for(var N=0;N<o;N++)j[N]=G[N]},b=0;b<=u;b++){for(var k=0;k<o;k++)E[k]=k;var T=Vf(E,f.slice(),o,c),D=T.slice();S(E,x);var R=Vf(E,T,c,2),P=Vf(x,D,c,2);R.length<=P.length&&R.length<p?(p=R.length,y=R,S(E,m)):P.length<=R.length&&P.length<p&&(p=P.length,y=P,S(x,m))}for(var B=this.spawn(y.map(function(V){return i[V[0]]})),L=this.spawn(),M=this.spawn(),z=m[0],O=0;O<m.length;O++){var _=m[O],W=n[O];_===z?L.merge(W):M.merge(W)}var U=function(G){var j=e.spawn();return G.forEach(function(N){j.merge(N),N.connectedEdges().forEach(function(F){e.contains(F)&&!B.contains(F)&&j.merge(F)})}),j},H=[U(L),U(M)],q={cut:B,components:H,partition1:L,partition2:M};return q}},qf,fS=function(e){return{x:e.x,y:e.y}},xu=function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},D0=function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},$i=function(e){return{x:e[0],y:e[1]}},dS=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,o=t;o<n;o++){var l=e[o];isFinite(l)&&(i=Math.min(l,i))}return i},vS=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,o=t;o<n;o++){var l=e[o];isFinite(l)&&(i=Math.max(l,i))}return i},hS=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,o=0,l=t;l<n;l++){var u=e[l];isFinite(u)&&(i+=u,o++)}return i/o},pS=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(t,n):(n<e.length&&e.splice(n,e.length-n),t>0&&e.splice(0,t));for(var u=0,c=e.length-1;c>=0;c--){var f=e[c];l?isFinite(f)||(e[c]=-1/0,u++):e.splice(c,1)}o&&e.sort(function(p,y){return p-y});var v=e.length,h=Math.floor(v/2);return v%2!==0?e[h+1+u]:(e[h-1+u]+e[h+u])/2},gS=function(e){return Math.PI*e/180},Nl=function(e,t){return Math.atan2(t,e)-Math.PI/2},Rv=Math.log2||function(r){return Math.log(r)/Math.log(2)},Bv=function(e){return e>0?1:e<0?-1:0},ri=function(e,t){return Math.sqrt(Ya(e,t))},Ya=function(e,t){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i},mS=function(e){for(var t=e.length,n=0,i=0;i<t;i++)n+=e[i];for(var o=0;o<t;o++)e[o]=e[o]/n;return e},or=function(e,t,n,i){return(1-i)*(1-i)*e+2*(1-i)*i*t+i*i*n},ji=function(e,t,n,i){return{x:or(e.x,t.x,n.x,i),y:or(e.y,t.y,n.y,i)}},yS=function(e,t,n,i){var o={x:t.x-e.x,y:t.y-e.y},l=ri(e,t),u={x:o.x/l,y:o.y/l};return n=n??0,i=i??n*l,{x:e.x+u.x*i,y:e.y+u.y*i}},is=function(e,t,n){return Math.max(e,Math.min(n,t))},Br=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},wS=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},xS=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},bS=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},R0=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},jl=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Gl=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,i,o,l;if(t.length===1)n=i=o=l=t[0];else if(t.length===2)n=o=t[0],l=i=t[1];else if(t.length===4){var u=Gt(t,4);n=u[0],i=u[1],o=u[2],l=u[3]}return e.x1-=l,e.x2+=i,e.y1-=n,e.y2+=o,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Jg=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},Av=function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},ga=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},em=function(e,t){return ga(e,t.x,t.y)},B0=function(e,t){return ga(e,t.x1,t.y1)&&ga(e,t.x2,t.y2)},ES=(qf=Math.hypot)!==null&&qf!==void 0?qf:function(r,e){return Math.sqrt(r*r+e*e)};function SS(r,e){if(r.length<3)throw new Error("Need at least 3 vertices");var t=function(B,L){return{x:B.x+L.x,y:B.y+L.y}},n=function(B,L){return{x:B.x-L.x,y:B.y-L.y}},i=function(B,L){return{x:B.x*L,y:B.y*L}},o=function(B,L){return B.x*L.y-B.y*L.x},l=function(B){var L=ES(B.x,B.y);return L===0?{x:0,y:0}:{x:B.x/L,y:B.y/L}},u=function(B){for(var L=0,M=0;M<B.length;M++){var z=B[M],O=B[(M+1)%B.length];L+=z.x*O.y-O.x*z.y}return L/2},c=function(B,L,M,z){var O=n(L,B),_=n(z,M),W=o(O,_);if(Math.abs(W)<1e-9)return t(B,i(O,.5));var U=o(n(M,B),_)/W;return t(B,i(O,U))},f=r.map(function(P){return{x:P.x,y:P.y}});u(f)<0&&f.reverse();for(var v=f.length,h=[],p=0;p<v;p++){var y=f[p],m=f[(p+1)%v],E=n(m,y),x=l({x:E.y,y:-E.x});h.push(x)}for(var S=h.map(function(P,B){var L=t(f[B],i(P,e)),M=t(f[(B+1)%v],i(P,e));return{p1:L,p2:M}}),b=[],k=0;k<v;k++){var T=S[(k-1+v)%v],D=S[k],R=c(T.p1,T.p2,D.p1,D.p2);b.push(R)}return b}function CS(r,e,t,n,i,o){var l=MS(r,e,t,n,i),u=SS(l,o),c=Br();return u.forEach(function(f){return R0(c,f.x,f.y)}),c}var A0=function(e,t,n,i,o,l,u){var c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",f=c==="auto"?Ea(o,l):c,v=o/2,h=l/2;f=Math.min(f,v,h);var p=f!==v,y=f!==h,m;if(p){var E=n-v+f-u,x=i-h-u,S=n+v-f+u,b=x;if(m=ma(e,t,n,i,E,x,S,b,!1),m.length>0)return m}if(y){var k=n+v+u,T=i-h+f-u,D=k,R=i+h-f+u;if(m=ma(e,t,n,i,k,T,D,R,!1),m.length>0)return m}if(p){var P=n-v+f-u,B=i+h+u,L=n+v-f+u,M=B;if(m=ma(e,t,n,i,P,B,L,M,!1),m.length>0)return m}if(y){var z=n-v-u,O=i-h+f-u,_=z,W=i+h-f+u;if(m=ma(e,t,n,i,z,O,_,W,!1),m.length>0)return m}var U;{var H=n-v+f,q=i-h+f;if(U=Xo(e,t,n,i,H,q,f+u),U.length>0&&U[0]<=H&&U[1]<=q)return[U[0],U[1]]}{var V=n+v-f,G=i-h+f;if(U=Xo(e,t,n,i,V,G,f+u),U.length>0&&U[0]>=V&&U[1]<=G)return[U[0],U[1]]}{var j=n+v-f,N=i+h-f;if(U=Xo(e,t,n,i,j,N,f+u),U.length>0&&U[0]>=j&&U[1]>=N)return[U[0],U[1]]}{var F=n-v+f,ee=i+h-f;if(U=Xo(e,t,n,i,F,ee,f+u),U.length>0&&U[0]<=F&&U[1]>=ee)return[U[0],U[1]]}return[]},kS=function(e,t,n,i,o,l,u){var c=u,f=Math.min(n,o),v=Math.max(n,o),h=Math.min(i,l),p=Math.max(i,l);return f-c<=e&&e<=v+c&&h-c<=t&&t<=p+c},TS=function(e,t,n,i,o,l,u,c,f){var v={x1:Math.min(n,u,o)-f,x2:Math.max(n,u,o)+f,y1:Math.min(i,c,l)-f,y2:Math.max(i,c,l)+f};return!(e<v.x1||e>v.x2||t<v.y1||t>v.y2)},PS=function(e,t,n,i){n-=i;var o=t*t-4*e*n;if(o<0)return[];var l=Math.sqrt(o),u=2*e,c=(-t+l)/u,f=(-t-l)/u;return[c,f]},DS=function(e,t,n,i,o){var l=1e-5;e===0&&(e=l),t/=e,n/=e,i/=e;var u,c,f,v,h,p,y,m;if(c=(3*n-t*t)/9,f=-(27*i)+t*(9*n-2*(t*t)),f/=54,u=c*c*c+f*f,o[1]=0,y=t/3,u>0){h=f+Math.sqrt(u),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),p=f-Math.sqrt(u),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),o[0]=-y+h+p,y+=(h+p)/2,o[4]=o[2]=-y,y=Math.sqrt(3)*(-p+h)/2,o[3]=y,o[5]=-y;return}if(o[5]=o[3]=0,u===0){m=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),o[0]=-y+2*m,o[4]=o[2]=-(m+y);return}c=-c,v=c*c*c,v=Math.acos(f/Math.sqrt(v)),m=2*Math.sqrt(c),o[0]=-y+m*Math.cos(v/3),o[2]=-y+m*Math.cos((v+2*Math.PI)/3),o[4]=-y+m*Math.cos((v+4*Math.PI)/3)},RS=function(e,t,n,i,o,l,u,c){var f=1*n*n-4*n*o+2*n*u+4*o*o-4*o*u+u*u+i*i-4*i*l+2*i*c+4*l*l-4*l*c+c*c,v=9*n*o-3*n*n-3*n*u-6*o*o+3*o*u+9*i*l-3*i*i-3*i*c-6*l*l+3*l*c,h=3*n*n-6*n*o+n*u-n*e+2*o*o+2*o*e-u*e+3*i*i-6*i*l+i*c-i*t+2*l*l+2*l*t-c*t,p=1*n*o-n*n+n*e-o*e+i*l-i*i+i*t-l*t,y=[];DS(f,v,h,p,y);for(var m=1e-7,E=[],x=0;x<6;x+=2)Math.abs(y[x+1])<m&&y[x]>=0&&y[x]<=1&&E.push(y[x]);E.push(1),E.push(0);for(var S=-1,b,k,T,D=0;D<E.length;D++)b=Math.pow(1-E[D],2)*n+2*(1-E[D])*E[D]*o+E[D]*E[D]*u,k=Math.pow(1-E[D],2)*i+2*(1-E[D])*E[D]*l+E[D]*E[D]*c,T=Math.pow(b-e,2)+Math.pow(k-t,2),S>=0?T<S&&(S=T):S=T;return S},BS=function(e,t,n,i,o,l){var u=[e-n,t-i],c=[o-n,l-i],f=c[0]*c[0]+c[1]*c[1],v=u[0]*u[0]+u[1]*u[1],h=u[0]*c[0]+u[1]*c[1],p=h*h/f;return h<0?v:p>f?(e-o)*(e-o)+(t-l)*(t-l):v-p},Fr=function(e,t,n){for(var i,o,l,u,c,f=0,v=0;v<n.length/2;v++)if(i=n[v*2],o=n[v*2+1],v+1<n.length/2?(l=n[(v+1)*2],u=n[(v+1)*2+1]):(l=n[(v+1-n.length/2)*2],u=n[(v+1-n.length/2)*2+1]),!(i==e&&l==e))if(i>=e&&e>=l||i<=e&&e<=l)c=(e-i)/(l-i)*(u-o)+o,c>t&&f++;else continue;return f%2!==0},Wn=function(e,t,n,i,o,l,u,c,f){var v=new Array(n.length),h;c[0]!=null?(h=Math.atan(c[1]/c[0]),c[0]<0?h=h+Math.PI/2:h=-h-Math.PI/2):h=c;for(var p=Math.cos(-h),y=Math.sin(-h),m=0;m<v.length/2;m++)v[m*2]=l/2*(n[m*2]*p-n[m*2+1]*y),v[m*2+1]=u/2*(n[m*2+1]*p+n[m*2]*y),v[m*2]+=i,v[m*2+1]+=o;var E;if(f>0){var x=su(v,-f);E=ou(x)}else E=v;return Fr(e,t,E)},AS=function(e,t,n,i,o,l,u,c){for(var f=new Array(n.length*2),v=0;v<c.length;v++){var h=c[v];f[v*4+0]=h.startX,f[v*4+1]=h.startY,f[v*4+2]=h.stopX,f[v*4+3]=h.stopY;var p=Math.pow(h.cx-e,2)+Math.pow(h.cy-t,2);if(p<=Math.pow(h.radius,2))return!0}return Fr(e,t,f)},ou=function(e){for(var t=new Array(e.length/2),n,i,o,l,u,c,f,v,h=0;h<e.length/4;h++){n=e[h*4],i=e[h*4+1],o=e[h*4+2],l=e[h*4+3],h<e.length/4-1?(u=e[(h+1)*4],c=e[(h+1)*4+1],f=e[(h+1)*4+2],v=e[(h+1)*4+3]):(u=e[0],c=e[1],f=e[2],v=e[3]);var p=ma(n,i,o,l,u,c,f,v,!0);t[h*2]=p[0],t[h*2+1]=p[1]}return t},su=function(e,t){for(var n=new Array(e.length*2),i,o,l,u,c=0;c<e.length/2;c++){i=e[c*2],o=e[c*2+1],c<e.length/2-1?(l=e[(c+1)*2],u=e[(c+1)*2+1]):(l=e[0],u=e[1]);var f=u-o,v=-(l-i),h=Math.sqrt(f*f+v*v),p=f/h,y=v/h;n[c*4]=i+p*t,n[c*4+1]=o+y*t,n[c*4+2]=l+p*t,n[c*4+3]=u+y*t}return n},NS=function(e,t,n,i,o,l){var u=n-e,c=i-t;u/=o,c/=l;var f=Math.sqrt(u*u+c*c),v=f-1;if(v<0)return[];var h=v/f;return[(n-e)*h+e,(i-t)*h+t]},Ja=function(e,t,n,i,o,l,u){return e-=o,t-=l,e/=n/2+u,t/=i/2+u,e*e+t*t<=1},Xo=function(e,t,n,i,o,l,u){var c=[n-e,i-t],f=[e-o,t-l],v=c[0]*c[0]+c[1]*c[1],h=2*(f[0]*c[0]+f[1]*c[1]),p=f[0]*f[0]+f[1]*f[1]-u*u,y=h*h-4*v*p;if(y<0)return[];var m=(-h+Math.sqrt(y))/(2*v),E=(-h-Math.sqrt(y))/(2*v),x=Math.min(m,E),S=Math.max(m,E),b=[];if(x>=0&&x<=1&&b.push(x),S>=0&&S<=1&&b.push(S),b.length===0)return[];var k=b[0]*c[0]+e,T=b[0]*c[1]+t;if(b.length>1){if(b[0]==b[1])return[k,T];var D=b[1]*c[0]+e,R=b[1]*c[1]+t;return[k,T,D,R]}else return[k,T]},Wf=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},ma=function(e,t,n,i,o,l,u,c,f){var v=e-o,h=n-e,p=u-o,y=t-l,m=i-t,E=c-l,x=p*y-E*v,S=h*y-m*v,b=E*h-p*m;if(b!==0){var k=x/b,T=S/b,D=.001,R=0-D,P=1+D;return R<=k&&k<=P&&R<=T&&T<=P?[e+k*h,t+k*m]:f?[e+k*h,t+k*m]:[]}else return x===0||S===0?Wf(e,n,u)===u?[u,c]:Wf(e,n,o)===o?[o,l]:Wf(o,u,n)===n?[n,i]:[]:[]},MS=function(e,t,n,i,o){var l=[],u=i/2,c=o/2,f=t,v=n;l.push({x:f+u*e[0],y:v+c*e[1]});for(var h=1;h<e.length/2;h++)l.push({x:f+u*e[h*2],y:v+c*e[h*2+1]});return l},os=function(e,t,n,i,o,l,u,c){var f=[],v,h=new Array(n.length),p=!0;l==null&&(p=!1);var y;if(p){for(var m=0;m<h.length/2;m++)h[m*2]=n[m*2]*l+i,h[m*2+1]=n[m*2+1]*u+o;if(c>0){var E=su(h,-c);y=ou(E)}else y=h}else y=n;for(var x,S,b,k,T=0;T<y.length/2;T++)x=y[T*2],S=y[T*2+1],T<y.length/2-1?(b=y[(T+1)*2],k=y[(T+1)*2+1]):(b=y[0],k=y[1]),v=ma(e,t,i,o,x,S,b,k),v.length!==0&&f.push(v[0],v[1]);return f},LS=function(e,t,n,i,o,l,u,c,f){var v=[],h,p=new Array(n.length*2);f.forEach(function(b,k){k===0?(p[p.length-2]=b.startX,p[p.length-1]=b.startY):(p[k*4-2]=b.startX,p[k*4-1]=b.startY),p[k*4]=b.stopX,p[k*4+1]=b.stopY,h=Xo(e,t,i,o,b.cx,b.cy,b.radius),h.length!==0&&v.push(h[0],h[1])});for(var y=0;y<p.length/4;y++)h=ma(e,t,i,o,p[y*4],p[y*4+1],p[y*4+2],p[y*4+3],!1),h.length!==0&&v.push(h[0],h[1]);if(v.length>2){for(var m=[v[0],v[1]],E=Math.pow(m[0]-e,2)+Math.pow(m[1]-t,2),x=1;x<v.length/2;x++){var S=Math.pow(v[x*2]-e,2)+Math.pow(v[x*2+1]-t,2);S<=E&&(m[0]=v[x*2],m[1]=v[x*2+1],E=S)}return m}return v},Ml=function(e,t,n){var i=[e[0]-t[0],e[1]-t[1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),l=(o-n)/o;return l<0&&(l=1e-5),[t[0]+l*i[0],t[1]+l*i[1]]},Rr=function(e,t){var n=rv(e,t);return n=N0(n),n},N0=function(e){for(var t,n,i=e.length/2,o=1/0,l=1/0,u=-1/0,c=-1/0,f=0;f<i;f++)t=e[2*f],n=e[2*f+1],o=Math.min(o,t),u=Math.max(u,t),l=Math.min(l,n),c=Math.max(c,n);for(var v=2/(u-o),h=2/(c-l),p=0;p<i;p++)t=e[2*p]=e[2*p]*v,n=e[2*p+1]=e[2*p+1]*h,o=Math.min(o,t),u=Math.max(u,t),l=Math.min(l,n),c=Math.max(c,n);if(l<-1)for(var y=0;y<i;y++)n=e[2*y+1]=e[2*y+1]+(-1-l);return e},rv=function(e,t){var n=1/e*2*Math.PI,i=e%2===0?Math.PI/2+n/2:Math.PI/2;i+=t;for(var o=new Array(e*2),l,u=0;u<e;u++)l=u*n+i,o[2*u]=Math.cos(l),o[2*u+1]=Math.sin(-l);return o},Ea=function(e,t){return Math.min(e/4,t/4,8)},M0=function(e,t){return Math.min(e/10,t/10,8)},Nv=function(){return 8},IS=function(e,t,n){return[e-2*t+n,2*(t-e),e]},nv=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function $f(r,e){function t(h){for(var p=[],y=0;y<h.length;y++){var m=h[y],E=h[(y+1)%h.length],x={x:E.x-m.x,y:E.y-m.y},S={x:-x.y,y:x.x},b=Math.sqrt(S.x*S.x+S.y*S.y);p.push({x:S.x/b,y:S.y/b})}return p}function n(h,p){var y=1/0,m=-1/0,E=Vr(h),x;try{for(E.s();!(x=E.n()).done;){var S=x.value,b=S.x*p.x+S.y*p.y;y=Math.min(y,b),m=Math.max(m,b)}}catch(k){E.e(k)}finally{E.f()}return{min:y,max:m}}function i(h,p){return!(h.max<p.min||p.max<h.min)}var o=[].concat(ru(t(r)),ru(t(e))),l=Vr(o),u;try{for(l.s();!(u=l.n()).done;){var c=u.value,f=n(r,c),v=n(e,c);if(!i(f,v))return!1}}catch(h){l.e(h)}finally{l.f()}return!0}var zS=hr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),OS={pageRank:function(e){for(var t=zS(e),n=t.dampingFactor,i=t.precision,o=t.iterations,l=t.weight,u=this._private.cy,c=this.byGroup(),f=c.nodes,v=c.edges,h=f.length,p=h*h,y=v.length,m=new Array(p),E=new Array(h),x=(1-n)/h,S=0;S<h;S++){for(var b=0;b<h;b++){var k=S*h+b;m[k]=0}E[S]=0}for(var T=0;T<y;T++){var D=v[T],R=D.data("source"),P=D.data("target");if(R!==P){var B=f.indexOfId(R),L=f.indexOfId(P),M=l(D),z=L*h+B;m[z]+=M,E[B]+=M}}for(var O=1/h+x,_=0;_<h;_++)if(E[_]===0)for(var W=0;W<h;W++){var U=W*h+_;m[U]=O}else for(var H=0;H<h;H++){var q=H*h+_;m[q]=m[q]/E[_]+x}for(var V=new Array(h),G=new Array(h),j,N=0;N<h;N++)V[N]=1;for(var F=0;F<o;F++){for(var ee=0;ee<h;ee++)G[ee]=0;for(var ae=0;ae<h;ae++)for(var ne=0;ne<h;ne++){var se=ae*h+ne;G[ae]+=m[se]*V[ne]}mS(G),j=V,V=G,G=j;for(var fe=0,ge=0;ge<h;ge++){var le=j[ge]-V[ge];fe+=le*le}if(fe<i)break}var Q={rank:function(ie){return ie=u.collection(ie)[0],V[f.indexOf(ie)]}};return Q}},tm=hr({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Gi={degreeCentralityNormalized:function(e){e=tm(e);var t=this.cy(),n=this.nodes(),i=n.length;if(e.directed){for(var v={},h={},p=0,y=0,m=0;m<i;m++){var E=n[m],x=E.id();e.root=E;var S=this.degreeCentrality(e);p<S.indegree&&(p=S.indegree),y<S.outdegree&&(y=S.outdegree),v[x]=S.indegree,h[x]=S.outdegree}return{indegree:function(k){return p==0?0:(qe(k)&&(k=t.filter(k)),v[k.id()]/p)},outdegree:function(k){return y===0?0:(qe(k)&&(k=t.filter(k)),h[k.id()]/y)}}}else{for(var o={},l=0,u=0;u<i;u++){var c=n[u];e.root=c;var f=this.degreeCentrality(e);l<f.degree&&(l=f.degree),o[c.id()]=f.degree}return{degree:function(k){return l===0?0:(qe(k)&&(k=t.filter(k)),o[k.id()]/l)}}}},degreeCentrality:function(e){e=tm(e);var t=this.cy(),n=this,i=e,o=i.root,l=i.weight,u=i.directed,c=i.alpha;if(o=t.collection(o)[0],u){for(var y=o.connectedEdges(),m=y.filter(function(R){return R.target().same(o)&&n.has(R)}),E=y.filter(function(R){return R.source().same(o)&&n.has(R)}),x=m.length,S=E.length,b=0,k=0,T=0;T<m.length;T++)b+=l(m[T]);for(var D=0;D<E.length;D++)k+=l(E[D]);return{indegree:Math.pow(x,1-c)*Math.pow(b,c),outdegree:Math.pow(S,1-c)*Math.pow(k,c)}}else{for(var f=o.connectedEdges().intersection(n),v=f.length,h=0,p=0;p<f.length;p++)h+=l(f[p]);return{degree:Math.pow(v,1-c)*Math.pow(h,c)}}}};Gi.dc=Gi.degreeCentrality;Gi.dcn=Gi.degreeCentralityNormalised=Gi.degreeCentralityNormalized;var rm=hr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Ki={closenessCentralityNormalized:function(e){for(var t=rm(e),n=t.harmonic,i=t.weight,o=t.directed,l=this.cy(),u={},c=0,f=this.nodes(),v=this.floydWarshall({weight:i,directed:o}),h=0;h<f.length;h++){for(var p=0,y=f[h],m=0;m<f.length;m++)if(h!==m){var E=v.distance(y,f[m]);n?p+=1/E:p+=E}n||(p=1/p),c<p&&(c=p),u[y.id()]=p}return{closeness:function(S){return c==0?0:(qe(S)?S=l.filter(S)[0].id():S=S.id(),u[S]/c)}}},closenessCentrality:function(e){var t=rm(e),n=t.root,i=t.weight,o=t.directed,l=t.harmonic;n=this.filter(n)[0];for(var u=this.dijkstra({root:n,weight:i,directed:o}),c=0,f=this.nodes(),v=0;v<f.length;v++){var h=f[v];if(!h.same(n)){var p=u.distanceTo(h);l?c+=1/p:c+=p}}return l?c:1/c}};Ki.cc=Ki.closenessCentrality;Ki.ccn=Ki.closenessCentralityNormalised=Ki.closenessCentralityNormalized;var _S=hr({weight:null,directed:!1}),av={betweennessCentrality:function(e){for(var t=_S(e),n=t.directed,i=t.weight,o=i!=null,l=this.cy(),u=this.nodes(),c={},f={},v=0,h={set:function(k,T){f[k]=T,T>v&&(v=T)},get:function(k){return f[k]}},p=0;p<u.length;p++){var y=u[p],m=y.id();n?c[m]=y.outgoers().nodes():c[m]=y.openNeighborhood().nodes(),h.set(m,0)}for(var E=function(){for(var k=u[x].id(),T=[],D={},R={},P={},B=new ys(function(ae,ne){return P[ae]-P[ne]}),L=0;L<u.length;L++){var M=u[L].id();D[M]=[],R[M]=0,P[M]=1/0}for(R[k]=1,P[k]=0,B.push(k);!B.empty();){var z=B.pop();if(T.push(z),o)for(var O=0;O<c[z].length;O++){var _=c[z][O],W=l.getElementById(z),U=void 0;W.edgesTo(_).length>0?U=W.edgesTo(_)[0]:U=_.edgesTo(W)[0];var H=i(U);_=_.id(),P[_]>P[z]+H&&(P[_]=P[z]+H,B.nodes.indexOf(_)<0?B.push(_):B.updateItem(_),R[_]=0,D[_]=[]),P[_]==P[z]+H&&(R[_]=R[_]+R[z],D[_].push(z))}else for(var q=0;q<c[z].length;q++){var V=c[z][q].id();P[V]==1/0&&(B.push(V),P[V]=P[z]+1),P[V]==P[z]+1&&(R[V]=R[V]+R[z],D[V].push(z))}}for(var G={},j=0;j<u.length;j++)G[u[j].id()]=0;for(;T.length>0;){for(var N=T.pop(),F=0;F<D[N].length;F++){var ee=D[N][F];G[ee]=G[ee]+R[ee]/R[N]*(1+G[N])}N!=u[x].id()&&h.set(N,h.get(N)+G[N])}},x=0;x<u.length;x++)E();var S={betweenness:function(k){var T=l.collection(k).id();return h.get(T)},betweennessNormalized:function(k){if(v==0)return 0;var T=l.collection(k).id();return h.get(T)/v}};return S.betweennessNormalised=S.betweennessNormalized,S}};av.bc=av.betweennessCentrality;var FS=hr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(r){return 1}]}),VS=function(e){return FS(e)},qS=function(e,t){for(var n=0,i=0;i<t.length;i++)n+=t[i](e);return n},WS=function(e,t,n){for(var i=0;i<t;i++)e[i*t+i]=n},L0=function(e,t){for(var n,i=0;i<t;i++){n=0;for(var o=0;o<t;o++)n+=e[o*t+i];for(var l=0;l<t;l++)e[l*t+i]=e[l*t+i]/n}},$S=function(e,t,n){for(var i=new Array(n*n),o=0;o<n;o++){for(var l=0;l<n;l++)i[o*n+l]=0;for(var u=0;u<n;u++)for(var c=0;c<n;c++)i[o*n+c]+=e[o*n+u]*t[u*n+c]}return i},US=function(e,t,n){for(var i=e.slice(0),o=1;o<n;o++)e=$S(e,i,t);return e},HS=function(e,t,n){for(var i=new Array(t*t),o=0;o<t*t;o++)i[o]=Math.pow(e[o],n);return L0(i,t),i},jS=function(e,t,n,i){for(var o=0;o<n;o++){var l=Math.round(e[o]*Math.pow(10,i))/Math.pow(10,i),u=Math.round(t[o]*Math.pow(10,i))/Math.pow(10,i);if(l!==u)return!1}return!0},GS=function(e,t,n,i){for(var o=[],l=0;l<t;l++){for(var u=[],c=0;c<t;c++)Math.round(e[l*t+c]*1e3)/1e3>0&&u.push(n[c]);u.length!==0&&o.push(i.collection(u))}return o},KS=function(e,t){for(var n=0;n<e.length;n++)if(!t[n]||e[n].id()!==t[n].id())return!1;return!0},YS=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)t!=n&&KS(e[t],e[n])&&e.splice(n,1);return e},nm=function(e){for(var t=this.nodes(),n=this.edges(),i=this.cy(),o=VS(e),l={},u=0;u<t.length;u++)l[t[u].id()]=u;for(var c=t.length,f=c*c,v=new Array(f),h,p=0;p<f;p++)v[p]=0;for(var y=0;y<n.length;y++){var m=n[y],E=l[m.source().id()],x=l[m.target().id()],S=qS(m,o.attributes);v[E*c+x]+=S,v[x*c+E]+=S}WS(v,c,o.multFactor),L0(v,c);for(var b=!0,k=0;b&&k<o.maxIterations;)b=!1,h=US(v,c,o.expandFactor),v=HS(h,c,o.inflateFactor),jS(v,h,f,4)||(b=!0),k++;var T=GS(v,c,t,i);return T=YS(T),T},XS={markovClustering:nm,mcl:nm},QS=function(e){return e},I0=function(e,t){return Math.abs(t-e)},am=function(e,t,n){return e+I0(t,n)},im=function(e,t,n){return e+Math.pow(n-t,2)},ZS=function(e){return Math.sqrt(e)},JS=function(e,t,n){return Math.max(e,I0(t,n))},$o=function(e,t,n,i,o){for(var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:QS,u=i,c,f,v=0;v<e;v++)c=t(v),f=n(v),u=o(u,c,f);return l(u)},Qi={euclidean:function(e,t,n){return e>=2?$o(e,t,n,0,im,ZS):$o(e,t,n,0,am)},squaredEuclidean:function(e,t,n){return $o(e,t,n,0,im)},manhattan:function(e,t,n){return $o(e,t,n,0,am)},max:function(e,t,n){return $o(e,t,n,-1/0,JS)}};Qi["squared-euclidean"]=Qi.squaredEuclidean;Qi.squaredeuclidean=Qi.squaredEuclidean;function bu(r,e,t,n,i,o){var l;return _t(r)?l=r:l=Qi[r]||Qi.euclidean,e===0&&_t(r)?l(i,o):l(e,t,n,i,o)}var eC=hr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Mv=function(e){return eC(e)},lu=function(e,t,n,i,o){var l=o!=="kMedoids",u=l?function(h){return n[h]}:function(h){return i[h](n)},c=function(p){return i[p](t)},f=n,v=t;return bu(e,i.length,u,c,f,v)},Uf=function(e,t,n){for(var i=n.length,o=new Array(i),l=new Array(i),u=new Array(t),c=null,f=0;f<i;f++)o[f]=e.min(n[f]).value,l[f]=e.max(n[f]).value;for(var v=0;v<t;v++){c=[];for(var h=0;h<i;h++)c[h]=Math.random()*(l[h]-o[h])+o[h];u[v]=c}return u},z0=function(e,t,n,i,o){for(var l=1/0,u=0,c=0;c<t.length;c++){var f=lu(n,e,t[c],i,o);f<l&&(l=f,u=c)}return u},O0=function(e,t,n){for(var i=[],o=null,l=0;l<t.length;l++)o=t[l],n[o.id()]===e&&i.push(o);return i},tC=function(e,t,n){return Math.abs(t-e)<=n},rC=function(e,t,n){for(var i=0;i<e.length;i++)for(var o=0;o<e[i].length;o++){var l=Math.abs(e[i][o]-t[i][o]);if(l>n)return!1}return!0},nC=function(e,t,n){for(var i=0;i<n;i++)if(e===t[i])return!0;return!1},om=function(e,t){var n=new Array(t);if(e.length<50)for(var i=0;i<t;i++){for(var o=e[Math.floor(Math.random()*e.length)];nC(o,n,i);)o=e[Math.floor(Math.random()*e.length)];n[i]=o}else for(var l=0;l<t;l++)n[l]=e[Math.floor(Math.random()*e.length)];return n},sm=function(e,t,n){for(var i=0,o=0;o<t.length;o++)i+=lu("manhattan",t[o],e,n,"kMedoids");return i},aC=function(e){var t=this.cy(),n=this.nodes(),i=null,o=Mv(e),l=new Array(o.k),u={},c;o.testMode?typeof o.testCentroids=="number"?(o.testCentroids,c=Uf(n,o.k,o.attributes)):Jt(o.testCentroids)==="object"?c=o.testCentroids:c=Uf(n,o.k,o.attributes):c=Uf(n,o.k,o.attributes);for(var f=!0,v=0;f&&v<o.maxIterations;){for(var h=0;h<n.length;h++)i=n[h],u[i.id()]=z0(i,c,o.distance,o.attributes,"kMeans");f=!1;for(var p=0;p<o.k;p++){var y=O0(p,n,u);if(y.length!==0){for(var m=o.attributes.length,E=c[p],x=new Array(m),S=new Array(m),b=0;b<m;b++){S[b]=0;for(var k=0;k<y.length;k++)i=y[k],S[b]+=o.attributes[b](i);x[b]=S[b]/y.length,tC(x[b],E[b],o.sensitivityThreshold)||(f=!0)}c[p]=x,l[p]=t.collection(y)}}v++}return l},iC=function(e){var t=this.cy(),n=this.nodes(),i=null,o=Mv(e),l=new Array(o.k),u,c={},f,v=new Array(o.k);o.testMode?typeof o.testCentroids=="number"||(Jt(o.testCentroids)==="object"?u=o.testCentroids:u=om(n,o.k)):u=om(n,o.k);for(var h=!0,p=0;h&&p<o.maxIterations;){for(var y=0;y<n.length;y++)i=n[y],c[i.id()]=z0(i,u,o.distance,o.attributes,"kMedoids");h=!1;for(var m=0;m<u.length;m++){var E=O0(m,n,c);if(E.length!==0){v[m]=sm(u[m],E,o.attributes);for(var x=0;x<E.length;x++)f=sm(E[x],E,o.attributes),f<v[m]&&(v[m]=f,u[m]=E[x],h=!0);l[m]=t.collection(E)}}p++}return l},oC=function(e,t,n,i,o){for(var l,u,c=0;c<t.length;c++)for(var f=0;f<e.length;f++)i[c][f]=Math.pow(n[c][f],o.m);for(var v=0;v<e.length;v++)for(var h=0;h<o.attributes.length;h++){l=0,u=0;for(var p=0;p<t.length;p++)l+=i[p][v]*o.attributes[h](t[p]),u+=i[p][v];e[v][h]=l/u}},sC=function(e,t,n,i,o){for(var l=0;l<e.length;l++)t[l]=e[l].slice();for(var u,c,f,v=2/(o.m-1),h=0;h<n.length;h++)for(var p=0;p<i.length;p++){u=0;for(var y=0;y<n.length;y++)c=lu(o.distance,i[p],n[h],o.attributes,"cmeans"),f=lu(o.distance,i[p],n[y],o.attributes,"cmeans"),u+=Math.pow(c/f,v);e[p][h]=1/u}},lC=function(e,t,n,i){for(var o=new Array(n.k),l=0;l<o.length;l++)o[l]=[];for(var u,c,f=0;f<t.length;f++){u=-1/0,c=-1;for(var v=0;v<t[0].length;v++)t[f][v]>u&&(u=t[f][v],c=v);o[c].push(e[f])}for(var h=0;h<o.length;h++)o[h]=i.collection(o[h]);return o},lm=function(e){var t=this.cy(),n=this.nodes(),i=Mv(e),o,l,u,c,f;c=new Array(n.length);for(var v=0;v<n.length;v++)c[v]=new Array(i.k);u=new Array(n.length);for(var h=0;h<n.length;h++)u[h]=new Array(i.k);for(var p=0;p<n.length;p++){for(var y=0,m=0;m<i.k;m++)u[p][m]=Math.random(),y+=u[p][m];for(var E=0;E<i.k;E++)u[p][E]=u[p][E]/y}l=new Array(i.k);for(var x=0;x<i.k;x++)l[x]=new Array(i.attributes.length);f=new Array(n.length);for(var S=0;S<n.length;S++)f[S]=new Array(i.k);for(var b=!0,k=0;b&&k<i.maxIterations;)b=!1,oC(l,n,u,f,i),sC(u,c,l,n,i),rC(u,c,i.sensitivityThreshold)||(b=!0),k++;return o=lC(n,u,i,t),{clusters:o,degreeOfMembership:u}},uC={kMeans:aC,kMedoids:iC,fuzzyCMeans:lm,fcm:lm},cC=hr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),fC={single:"min",complete:"max"},dC=function(e){var t=cC(e),n=fC[t.linkage];return n!=null&&(t.linkage=n),t},um=function(e,t,n,i,o){for(var l=0,u=1/0,c,f=o.attributes,v=function(L,M){return bu(o.distance,f.length,function(z){return f[z](L)},function(z){return f[z](M)},L,M)},h=0;h<e.length;h++){var p=e[h].key,y=n[p][i[p]];y<u&&(l=p,u=y)}if(o.mode==="threshold"&&u>=o.threshold||o.mode==="dendrogram"&&e.length===1)return!1;var m=t[l],E=t[i[l]],x;o.mode==="dendrogram"?x={left:m,right:E,key:m.key}:x={value:m.value.concat(E.value),key:m.key},e[m.index]=x,e.splice(E.index,1),t[m.key]=x;for(var S=0;S<e.length;S++){var b=e[S];m.key===b.key?c=1/0:o.linkage==="min"?(c=n[m.key][b.key],n[m.key][b.key]>n[E.key][b.key]&&(c=n[E.key][b.key])):o.linkage==="max"?(c=n[m.key][b.key],n[m.key][b.key]<n[E.key][b.key]&&(c=n[E.key][b.key])):o.linkage==="mean"?c=(n[m.key][b.key]*m.size+n[E.key][b.key]*E.size)/(m.size+E.size):o.mode==="dendrogram"?c=v(b.value,m.value):c=v(b.value[0],m.value[0]),n[m.key][b.key]=n[b.key][m.key]=c}for(var k=0;k<e.length;k++){var T=e[k].key;if(i[T]===m.key||i[T]===E.key){for(var D=T,R=0;R<e.length;R++){var P=e[R].key;n[T][P]<n[T][D]&&(D=P)}i[T]=D}e[k].index=k}return m.key=E.key=m.index=E.index=null,!0},Ui=function(e,t,n){e&&(e.value?t.push(e.value):(e.left&&Ui(e.left,t),e.right&&Ui(e.right,t)))},iv=function(e,t){if(!e)return"";if(e.left&&e.right){var n=iv(e.left,t),i=iv(e.right,t),o=t.add({group:"nodes",data:{id:n+","+i}});return t.add({group:"edges",data:{source:n,target:o.id()}}),t.add({group:"edges",data:{source:i,target:o.id()}}),o.id()}else if(e.value)return e.value.id()},ov=function(e,t,n){if(!e)return[];var i=[],o=[],l=[];return t===0?(e.left&&Ui(e.left,i),e.right&&Ui(e.right,o),l=i.concat(o),[n.collection(l)]):t===1?e.value?[n.collection(e.value)]:(e.left&&Ui(e.left,i),e.right&&Ui(e.right,o),[n.collection(i),n.collection(o)]):e.value?[n.collection(e.value)]:(e.left&&(i=ov(e.left,t-1,n)),e.right&&(o=ov(e.right,t-1,n)),i.concat(o))},cm=function(e){for(var t=this.cy(),n=this.nodes(),i=dC(e),o=i.attributes,l=function(k,T){return bu(i.distance,o.length,function(D){return o[D](k)},function(D){return o[D](T)},k,T)},u=[],c=[],f=[],v=[],h=0;h<n.length;h++){var p={value:i.mode==="dendrogram"?n[h]:[n[h]],key:h,index:h};u[h]=p,v[h]=p,c[h]=[],f[h]=0}for(var y=0;y<u.length;y++)for(var m=0;m<=y;m++){var E=void 0;i.mode==="dendrogram"?E=y===m?1/0:l(u[y].value,u[m].value):E=y===m?1/0:l(u[y].value[0],u[m].value[0]),c[y][m]=E,c[m][y]=E,E<c[y][f[y]]&&(f[y]=m)}for(var x=um(u,v,c,f,i);x;)x=um(u,v,c,f,i);var S;return i.mode==="dendrogram"?(S=ov(u[0],i.dendrogramDepth,t),i.addDendrogram&&iv(u[0],t)):(S=new Array(u.length),u.forEach(function(b,k){b.key=b.index=null,S[k]=t.collection(b.value)})),S},vC={hierarchicalClustering:cm,hca:cm},hC=hr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),pC=function(e){var t=e.damping,n=e.preference;.5<=t&&t<1||Bt("Damping must range on [0.5, 1).  Got: ".concat(t));var i=["median","mean","min","max"];return i.some(function(o){return o===n})||Ee(n)||Bt("Preference must be one of [".concat(i.map(function(o){return"'".concat(o,"'")}).join(", "),"] or a number.  Got: ").concat(n)),hC(e)},gC=function(e,t,n,i){var o=function(u,c){return i[c](u)};return-bu(e,i.length,function(l){return o(t,l)},function(l){return o(n,l)},t,n)},mC=function(e,t){var n=null;return t==="median"?n=pS(e):t==="mean"?n=hS(e):t==="min"?n=dS(e):t==="max"?n=vS(e):n=t,n},yC=function(e,t,n){for(var i=[],o=0;o<e;o++)t[o*e+o]+n[o*e+o]>0&&i.push(o);return i},fm=function(e,t,n){for(var i=[],o=0;o<e;o++){for(var l=-1,u=-1/0,c=0;c<n.length;c++){var f=n[c];t[o*e+f]>u&&(l=f,u=t[o*e+f])}l>0&&i.push(l)}for(var v=0;v<n.length;v++)i[n[v]]=n[v];return i},wC=function(e,t,n){for(var i=fm(e,t,n),o=0;o<n.length;o++){for(var l=[],u=0;u<i.length;u++)i[u]===n[o]&&l.push(u);for(var c=-1,f=-1/0,v=0;v<l.length;v++){for(var h=0,p=0;p<l.length;p++)h+=t[l[p]*e+l[v]];h>f&&(c=v,f=h)}n[o]=l[c]}return i=fm(e,t,n),i},dm=function(e){for(var t=this.cy(),n=this.nodes(),i=pC(e),o={},l=0;l<n.length;l++)o[n[l].id()]=l;var u,c,f,v,h,p;u=n.length,c=u*u,f=new Array(c);for(var y=0;y<c;y++)f[y]=-1/0;for(var m=0;m<u;m++)for(var E=0;E<u;E++)m!==E&&(f[m*u+E]=gC(i.distance,n[m],n[E],i.attributes));v=mC(f,i.preference);for(var x=0;x<u;x++)f[x*u+x]=v;h=new Array(c);for(var S=0;S<c;S++)h[S]=0;p=new Array(c);for(var b=0;b<c;b++)p[b]=0;for(var k=new Array(u),T=new Array(u),D=new Array(u),R=0;R<u;R++)k[R]=0,T[R]=0,D[R]=0;for(var P=new Array(u*i.minIterations),B=0;B<P.length;B++)P[B]=0;var L;for(L=0;L<i.maxIterations;L++){for(var M=0;M<u;M++){for(var z=-1/0,O=-1/0,_=-1,W=0,U=0;U<u;U++)k[U]=h[M*u+U],W=p[M*u+U]+f[M*u+U],W>=z?(O=z,z=W,_=U):W>O&&(O=W);for(var H=0;H<u;H++)h[M*u+H]=(1-i.damping)*(f[M*u+H]-z)+i.damping*k[H];h[M*u+_]=(1-i.damping)*(f[M*u+_]-O)+i.damping*k[_]}for(var q=0;q<u;q++){for(var V=0,G=0;G<u;G++)k[G]=p[G*u+q],T[G]=Math.max(0,h[G*u+q]),V+=T[G];V-=T[q],T[q]=h[q*u+q],V+=T[q];for(var j=0;j<u;j++)p[j*u+q]=(1-i.damping)*Math.min(0,V-T[j])+i.damping*k[j];p[q*u+q]=(1-i.damping)*(V-T[q])+i.damping*k[q]}for(var N=0,F=0;F<u;F++){var ee=p[F*u+F]+h[F*u+F]>0?1:0;P[L%i.minIterations*u+F]=ee,N+=ee}if(N>0&&(L>=i.minIterations-1||L==i.maxIterations-1)){for(var ae=0,ne=0;ne<u;ne++){D[ne]=0;for(var se=0;se<i.minIterations;se++)D[ne]+=P[se*u+ne];(D[ne]===0||D[ne]===i.minIterations)&&ae++}if(ae===u)break}}for(var fe=yC(u,h,p),ge=wC(u,f,fe),le={},Q=0;Q<fe.length;Q++)le[fe[Q]]=[];for(var Z=0;Z<n.length;Z++){var ie=o[n[Z].id()],de=ge[ie];de!=null&&le[de].push(n[Z])}for(var be=new Array(fe.length),Ie=0;Ie<fe.length;Ie++)be[Ie]=t.collection(le[fe[Ie]]);return be},xC={affinityPropagation:dm,ap:dm},bC=hr({root:void 0,directed:!1}),EC={hierholzer:function(e){if(!ft(e)){var t=arguments;e={root:t[0],directed:t[1]}}var n=bC(e),i=n.root,o=n.directed,l=this,u=!1,c,f,v;i&&(v=qe(i)?this.filter(i)[0].id():i[0].id());var h={},p={};o?l.forEach(function(b){var k=b.id();if(b.isNode()){var T=b.indegree(!0),D=b.outdegree(!0),R=T-D,P=D-T;R==1?c?u=!0:c=k:P==1?f?u=!0:f=k:(P>1||R>1)&&(u=!0),h[k]=[],b.outgoers().forEach(function(B){B.isEdge()&&h[k].push(B.id())})}else p[k]=[void 0,b.target().id()]}):l.forEach(function(b){var k=b.id();if(b.isNode()){var T=b.degree(!0);T%2&&(c?f?u=!0:f=k:c=k),h[k]=[],b.connectedEdges().forEach(function(D){return h[k].push(D.id())})}else p[k]=[b.source().id(),b.target().id()]});var y={found:!1,trail:void 0};if(u)return y;if(f&&c)if(o){if(v&&f!=v)return y;v=f}else{if(v&&f!=v&&c!=v)return y;v||(v=f)}else v||(v=l[0].id());var m=function(k){for(var T=k,D=[k],R,P,B;h[T].length;)R=h[T].shift(),P=p[R][0],B=p[R][1],T!=B?(h[B]=h[B].filter(function(L){return L!=R}),T=B):!o&&T!=P&&(h[P]=h[P].filter(function(L){return L!=R}),T=P),D.unshift(R),D.unshift(T);return D},E=[],x=[];for(x=m(v);x.length!=1;)h[x[0]].length==0?(E.unshift(l.getElementById(x.shift())),E.unshift(l.getElementById(x.shift()))):x=m(x.shift()).concat(x);E.unshift(l.getElementById(x.shift()));for(var S in h)if(h[S].length)return y;return y.found=!0,y.trail=this.spawn(E,!0),y}},Ll=function(){var e=this,t={},n=0,i=0,o=[],l=[],u={},c=function(p,y){for(var m=l.length-1,E=[],x=e.spawn();l[m].x!=p||l[m].y!=y;)E.push(l.pop().edge),m--;E.push(l.pop().edge),E.forEach(function(S){var b=S.connectedNodes().intersection(e);x.merge(S),b.forEach(function(k){var T=k.id(),D=k.connectedEdges().intersection(e);x.merge(k),t[T].cutVertex?x.merge(D.filter(function(R){return R.isLoop()})):x.merge(D)})}),o.push(x)},f=function(p,y,m){p===m&&(i+=1),t[y]={id:n,low:n++,cutVertex:!1};var E=e.getElementById(y).connectedEdges().intersection(e);if(E.size()===0)o.push(e.spawn(e.getElementById(y)));else{var x,S,b,k;E.forEach(function(T){x=T.source().id(),S=T.target().id(),b=x===y?S:x,b!==m&&(k=T.id(),u[k]||(u[k]=!0,l.push({x:y,y:b,edge:T})),b in t?t[y].low=Math.min(t[y].low,t[b].id):(f(p,b,y),t[y].low=Math.min(t[y].low,t[b].low),t[y].id<=t[b].low&&(t[y].cutVertex=!0,c(y,b))))})}};e.forEach(function(h){if(h.isNode()){var p=h.id();p in t||(i=0,f(p,p),t[p].cutVertex=i>1)}});var v=Object.keys(t).filter(function(h){return t[h].cutVertex}).map(function(h){return e.getElementById(h)});return{cut:e.spawn(v),components:o}},SC={hopcroftTarjanBiconnected:Ll,htbc:Ll,htb:Ll,hopcroftTarjanBiconnectedComponents:Ll},Il=function(){var e=this,t={},n=0,i=[],o=[],l=e.spawn(e),u=function(f){o.push(f),t[f]={index:n,low:n++,explored:!1};var v=e.getElementById(f).connectedEdges().intersection(e);if(v.forEach(function(E){var x=E.target().id();x!==f&&(x in t||u(x),t[x].explored||(t[f].low=Math.min(t[f].low,t[x].low)))}),t[f].index===t[f].low){for(var h=e.spawn();;){var p=o.pop();if(h.merge(e.getElementById(p)),t[p].low=t[f].index,t[p].explored=!0,p===f)break}var y=h.edgesWith(h),m=h.merge(y);i.push(m),l=l.difference(m)}};return e.forEach(function(c){if(c.isNode()){var f=c.id();f in t||u(f)}}),{cut:l,components:i}},CC={tarjanStronglyConnected:Il,tsc:Il,tscc:Il,tarjanStronglyConnectedComponents:Il},_0={};[as,eS,tS,nS,iS,sS,cS,OS,Gi,Ki,av,XS,uC,vC,xC,EC,SC,CC].forEach(function(r){je(_0,r)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var F0=0,V0=1,q0=2,pn=function(e){if(!(this instanceof pn))return new pn(e);this.id="Thenable/1.0.7",this.state=F0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};pn.prototype={fulfill:function(e){return vm(this,V0,"fulfillValue",e)},reject:function(e){return vm(this,q0,"rejectReason",e)},then:function(e,t){var n=this,i=new pn;return n.onFulfilled.push(pm(e,i,"fulfill")),n.onRejected.push(pm(t,i,"reject")),W0(n),i.proxy}};var vm=function(e,t,n,i){return e.state===F0&&(e.state=t,e[n]=i,W0(e)),e},W0=function(e){e.state===V0?hm(e,"onFulfilled",e.fulfillValue):e.state===q0&&hm(e,"onRejected",e.rejectReason)},hm=function(e,t,n){if(e[t].length!==0){var i=e[t];e[t]=[];var o=function(){for(var u=0;u<i.length;u++)i[u](n)};typeof setImmediate=="function"?setImmediate(o):setTimeout(o,0)}},pm=function(e,t,n){return function(i){if(typeof e!="function")t[n].call(t,i);else{var o;try{o=e(i)}catch(l){t.reject(l);return}$0(t,o)}}},$0=function(e,t){if(e===t||e.proxy===t){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(Jt(t)==="object"&&t!==null||typeof t=="function")try{n=t.then}catch(o){e.reject(o);return}if(typeof n=="function"){var i=!1;try{n.call(t,function(o){i||(i=!0,o===t?e.reject(new TypeError("circular thenable chain")):$0(e,o))},function(o){i||(i=!0,e.reject(o))})}catch(o){i||e.reject(o)}return}e.fulfill(t)};pn.all=function(r){return new pn(function(e,t){for(var n=new Array(r.length),i=0,o=function(c,f){n[c]=f,i++,i===r.length&&e(n)},l=0;l<r.length;l++)(function(u){var c=r[u],f=c!=null&&c.then!=null;if(f)c.then(function(h){o(u,h)},function(h){t(h)});else{var v=c;o(u,v)}})(l)})};pn.resolve=function(r){return new pn(function(e,t){e(r)})};pn.reject=function(r){return new pn(function(e,t){t(r)})};var eo=typeof Promise<"u"?Promise:pn,sv=function(e,t,n){var i=Sv(e),o=!i,l=this._private=je({duration:1e3},t,n);if(l.target=e,l.style=l.style||l.css,l.started=!1,l.playing=!1,l.hooked=!1,l.applying=!1,l.progress=0,l.completes=[],l.frames=[],l.complete&&_t(l.complete)&&l.completes.push(l.complete),o){var u=e.position();l.startPosition=l.startPosition||{x:u.x,y:u.y},l.startStyle=l.startStyle||e.cy().style().getAnimationStartStyle(e,l.style)}if(i){var c=e.pan();l.startPan={x:c.x,y:c.y},l.startZoom=e.zoom()}this.length=1,this[0]=this},ni=sv.prototype;je(ni,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t,n=e.target._private.animation;e.queue?t=n.queue:t=n.current,t.push(this),Kr(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return e===void 0?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return e===void 0?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(f,v){var h=e[f];h!=null&&(e[f]=e[v],e[v]=h)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var o=e.style[i],l=o.name,u=e.startStyle[l];e.startStyle[l]=o,e.style[i]=u}return t&&this.play(),this},promise:function(e){var t=this._private,n;switch(e){case"frame":n=t.frames;break;default:case"complete":case"completed":n=t.completes}return new eo(function(i,o){n.push(function(){i()})})}});ni.complete=ni.completed;ni.run=ni.play;ni.running=ni.playing;var kC={animated:function(){return function(){var t=this,n=t.length!==void 0,i=n?t:[t],o=this._private.cy||this;if(!o.styleEnabled())return!1;var l=i[0];if(l)return l._private.animation.current.length>0}},clearQueue:function(){return function(){var t=this,n=t.length!==void 0,i=n?t:[t],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var l=0;l<i.length;l++){var u=i[l];u._private.animation.queue=[]}return this}},delay:function(){return function(t,n){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:t,duration:t,complete:n}):this}},delayAnimation:function(){return function(t,n){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:t,duration:t,complete:n}):this}},animation:function(){return function(t,n){var i=this,o=i.length!==void 0,l=o?i:[i],u=this._private.cy||this,c=!o,f=!c;if(!u.styleEnabled())return this;var v=u.style();t=je({},t,n);var h=Object.keys(t).length===0;if(h)return new sv(l[0],t);switch(t.duration===void 0&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200;break}if(f&&(t.style=v.getPropsList(t.style||t.css),t.css=void 0),f&&t.renderedPosition!=null){var p=t.renderedPosition,y=u.pan(),m=u.zoom();t.position=D0(p,m,y)}if(c&&t.panBy!=null){var E=t.panBy,x=u.pan();t.pan={x:x.x+E.x,y:x.y+E.y}}var S=t.center||t.centre;if(c&&S!=null){var b=u.getCenterPan(S.eles,t.zoom);b!=null&&(t.pan=b)}if(c&&t.fit!=null){var k=t.fit,T=u.getFitViewport(k.eles||k.boundingBox,k.padding);T!=null&&(t.pan=T.pan,t.zoom=T.zoom)}if(c&&ft(t.zoom)){var D=u.getZoomedViewport(t.zoom);D!=null?(D.zoomed&&(t.zoom=D.zoom),D.panned&&(t.pan=D.pan)):t.zoom=null}return new sv(l[0],t)}},animate:function(){return function(t,n){var i=this,o=i.length!==void 0,l=o?i:[i],u=this._private.cy||this;if(!u.styleEnabled())return this;n&&(t=je({},t,n));for(var c=0;c<l.length;c++){var f=l[c],v=f.animated()&&(t.queue===void 0||t.queue),h=f.animation(t,v?{queue:!0}:void 0);h.play()}return this}},stop:function(){return function(t,n){var i=this,o=i.length!==void 0,l=o?i:[i],u=this._private.cy||this;if(!u.styleEnabled())return this;for(var c=0;c<l.length;c++){for(var f=l[c],v=f._private,h=v.animation.current,p=0;p<h.length;p++){var y=h[p],m=y._private;n&&(m.duration=0)}t&&(v.animation.queue=[]),n||(v.animation.current=[])}return u.notify("draw"),this}}},Hf,gm;function Eu(){if(gm)return Hf;gm=1;var r=Array.isArray;return Hf=r,Hf}var jf,mm;function TC(){if(mm)return jf;mm=1;var r=Eu(),e=gs(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,l){if(r(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||e(o)?!0:n.test(o)||!t.test(o)||l!=null&&o in Object(l)}return jf=i,jf}var Gf,ym;function PC(){if(ym)return Gf;ym=1;var r=w0(),e=ps(),t="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function l(u){if(!e(u))return!1;var c=r(u);return c==n||c==i||c==t||c==o}return Gf=l,Gf}var Kf,wm;function DC(){if(wm)return Kf;wm=1;var r=yu(),e=r["__core-js_shared__"];return Kf=e,Kf}var Yf,xm;function RC(){if(xm)return Yf;xm=1;var r=DC(),e=(function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function t(n){return!!e&&e in n}return Yf=t,Yf}var Xf,bm;function BC(){if(bm)return Xf;bm=1;var r=Function.prototype,e=r.toString;function t(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Xf=t,Xf}var Qf,Em;function AC(){if(Em)return Qf;Em=1;var r=PC(),e=RC(),t=ps(),n=BC(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,v=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(p){if(!t(p)||e(p))return!1;var y=r(p)?v:o;return y.test(n(p))}return Qf=h,Qf}var Zf,Sm;function NC(){if(Sm)return Zf;Sm=1;function r(e,t){return e==null?void 0:e[t]}return Zf=r,Zf}var Jf,Cm;function Lv(){if(Cm)return Jf;Cm=1;var r=AC(),e=NC();function t(n,i){var o=e(n,i);return r(o)?o:void 0}return Jf=t,Jf}var ed,km;function Su(){if(km)return ed;km=1;var r=Lv(),e=r(Object,"create");return ed=e,ed}var td,Tm;function MC(){if(Tm)return td;Tm=1;var r=Su();function e(){this.__data__=r?r(null):{},this.size=0}return td=e,td}var rd,Pm;function LC(){if(Pm)return rd;Pm=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return rd=r,rd}var nd,Dm;function IC(){if(Dm)return nd;Dm=1;var r=Su(),e="__lodash_hash_undefined__",t=Object.prototype,n=t.hasOwnProperty;function i(o){var l=this.__data__;if(r){var u=l[o];return u===e?void 0:u}return n.call(l,o)?l[o]:void 0}return nd=i,nd}var ad,Rm;function zC(){if(Rm)return ad;Rm=1;var r=Su(),e=Object.prototype,t=e.hasOwnProperty;function n(i){var o=this.__data__;return r?o[i]!==void 0:t.call(o,i)}return ad=n,ad}var id,Bm;function OC(){if(Bm)return id;Bm=1;var r=Su(),e="__lodash_hash_undefined__";function t(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=r&&i===void 0?e:i,this}return id=t,id}var od,Am;function _C(){if(Am)return od;Am=1;var r=MC(),e=LC(),t=IC(),n=zC(),i=OC();function o(l){var u=-1,c=l==null?0:l.length;for(this.clear();++u<c;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=r,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=n,o.prototype.set=i,od=o,od}var sd,Nm;function FC(){if(Nm)return sd;Nm=1;function r(){this.__data__=[],this.size=0}return sd=r,sd}var ld,Mm;function U0(){if(Mm)return ld;Mm=1;function r(e,t){return e===t||e!==e&&t!==t}return ld=r,ld}var ud,Lm;function Cu(){if(Lm)return ud;Lm=1;var r=U0();function e(t,n){for(var i=t.length;i--;)if(r(t[i][0],n))return i;return-1}return ud=e,ud}var cd,Im;function VC(){if(Im)return cd;Im=1;var r=Cu(),e=Array.prototype,t=e.splice;function n(i){var o=this.__data__,l=r(o,i);if(l<0)return!1;var u=o.length-1;return l==u?o.pop():t.call(o,l,1),--this.size,!0}return cd=n,cd}var fd,zm;function qC(){if(zm)return fd;zm=1;var r=Cu();function e(t){var n=this.__data__,i=r(n,t);return i<0?void 0:n[i][1]}return fd=e,fd}var dd,Om;function WC(){if(Om)return dd;Om=1;var r=Cu();function e(t){return r(this.__data__,t)>-1}return dd=e,dd}var vd,_m;function $C(){if(_m)return vd;_m=1;var r=Cu();function e(t,n){var i=this.__data__,o=r(i,t);return o<0?(++this.size,i.push([t,n])):i[o][1]=n,this}return vd=e,vd}var hd,Fm;function UC(){if(Fm)return hd;Fm=1;var r=FC(),e=VC(),t=qC(),n=WC(),i=$C();function o(l){var u=-1,c=l==null?0:l.length;for(this.clear();++u<c;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=r,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=n,o.prototype.set=i,hd=o,hd}var pd,Vm;function HC(){if(Vm)return pd;Vm=1;var r=Lv(),e=yu(),t=r(e,"Map");return pd=t,pd}var gd,qm;function jC(){if(qm)return gd;qm=1;var r=_C(),e=UC(),t=HC();function n(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return gd=n,gd}var md,Wm;function GC(){if(Wm)return md;Wm=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return md=r,md}var yd,$m;function ku(){if($m)return yd;$m=1;var r=GC();function e(t,n){var i=t.__data__;return r(n)?i[typeof n=="string"?"string":"hash"]:i.map}return yd=e,yd}var wd,Um;function KC(){if(Um)return wd;Um=1;var r=ku();function e(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}return wd=e,wd}var xd,Hm;function YC(){if(Hm)return xd;Hm=1;var r=ku();function e(t){return r(this,t).get(t)}return xd=e,xd}var bd,jm;function XC(){if(jm)return bd;jm=1;var r=ku();function e(t){return r(this,t).has(t)}return bd=e,bd}var Ed,Gm;function QC(){if(Gm)return Ed;Gm=1;var r=ku();function e(t,n){var i=r(this,t),o=i.size;return i.set(t,n),this.size+=i.size==o?0:1,this}return Ed=e,Ed}var Sd,Km;function ZC(){if(Km)return Sd;Km=1;var r=jC(),e=KC(),t=YC(),n=XC(),i=QC();function o(l){var u=-1,c=l==null?0:l.length;for(this.clear();++u<c;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=r,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=n,o.prototype.set=i,Sd=o,Sd}var Cd,Ym;function JC(){if(Ym)return Cd;Ym=1;var r=ZC(),e="Expected a function";function t(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var l=arguments,u=i?i.apply(this,l):l[0],c=o.cache;if(c.has(u))return c.get(u);var f=n.apply(this,l);return o.cache=c.set(u,f)||c,f};return o.cache=new(t.Cache||r),o}return t.Cache=r,Cd=t,Cd}var kd,Xm;function e2(){if(Xm)return kd;Xm=1;var r=JC(),e=500;function t(n){var i=r(n,function(l){return o.size===e&&o.clear(),l}),o=i.cache;return i}return kd=t,kd}var Td,Qm;function H0(){if(Qm)return Td;Qm=1;var r=e2(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,n=r(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(l,u,c,f){o.push(c?f.replace(t,"$1"):u||l)}),o});return Td=n,Td}var Pd,Zm;function j0(){if(Zm)return Pd;Zm=1;function r(e,t){for(var n=-1,i=e==null?0:e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}return Pd=r,Pd}var Dd,Jm;function t2(){if(Jm)return Dd;Jm=1;var r=kv(),e=j0(),t=Eu(),n=gs(),i=r?r.prototype:void 0,o=i?i.toString:void 0;function l(u){if(typeof u=="string")return u;if(t(u))return e(u,l)+"";if(n(u))return o?o.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return Dd=l,Dd}var Rd,ey;function G0(){if(ey)return Rd;ey=1;var r=t2();function e(t){return t==null?"":r(t)}return Rd=e,Rd}var Bd,ty;function K0(){if(ty)return Bd;ty=1;var r=Eu(),e=TC(),t=H0(),n=G0();function i(o,l){return r(o)?o:e(o,l)?[o]:t(n(o))}return Bd=i,Bd}var Ad,ry;function Iv(){if(ry)return Ad;ry=1;var r=gs();function e(t){if(typeof t=="string"||r(t))return t;var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}return Ad=e,Ad}var Nd,ny;function r2(){if(ny)return Nd;ny=1;var r=K0(),e=Iv();function t(n,i){i=r(i,n);for(var o=0,l=i.length;n!=null&&o<l;)n=n[e(i[o++])];return o&&o==l?n:void 0}return Nd=t,Nd}var Md,ay;function n2(){if(ay)return Md;ay=1;var r=r2();function e(t,n,i){var o=t==null?void 0:r(t,n);return o===void 0?i:o}return Md=e,Md}var a2=n2(),i2=hs(a2),Ld,iy;function o2(){if(iy)return Ld;iy=1;var r=Lv(),e=(function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch{}})();return Ld=e,Ld}var Id,oy;function s2(){if(oy)return Id;oy=1;var r=o2();function e(t,n,i){n=="__proto__"&&r?r(t,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[n]=i}return Id=e,Id}var zd,sy;function l2(){if(sy)return zd;sy=1;var r=s2(),e=U0(),t=Object.prototype,n=t.hasOwnProperty;function i(o,l,u){var c=o[l];(!(n.call(o,l)&&e(c,u))||u===void 0&&!(l in o))&&r(o,l,u)}return zd=i,zd}var Od,ly;function u2(){if(ly)return Od;ly=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(n,i){var o=typeof n;return i=i??r,!!i&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Od=t,Od}var _d,uy;function c2(){if(uy)return _d;uy=1;var r=l2(),e=K0(),t=u2(),n=ps(),i=Iv();function o(l,u,c,f){if(!n(l))return l;u=e(u,l);for(var v=-1,h=u.length,p=h-1,y=l;y!=null&&++v<h;){var m=i(u[v]),E=c;if(m==="__proto__"||m==="constructor"||m==="prototype")return l;if(v!=p){var x=y[m];E=f?f(x,m,y):void 0,E===void 0&&(E=n(x)?x:t(u[v+1])?[]:{})}r(y,m,E),y=y[m]}return l}return _d=o,_d}var Fd,cy;function f2(){if(cy)return Fd;cy=1;var r=c2();function e(t,n,i){return t==null?t:r(t,n,i)}return Fd=e,Fd}var d2=f2(),v2=hs(d2),Vd,fy;function h2(){if(fy)return Vd;fy=1;function r(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}return Vd=r,Vd}var qd,dy;function p2(){if(dy)return qd;dy=1;var r=j0(),e=h2(),t=Eu(),n=gs(),i=H0(),o=Iv(),l=G0();function u(c){return t(c)?r(c,o):n(c)?[c]:e(i(l(c)))}return qd=u,qd}var g2=p2(),m2=hs(g2),y2={data:function(e){var t={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,o){},onSet:function(i){},canSet:function(i){return!0}};return e=je({},t,e),function(i,o){var l=e,u=this,c=u.length!==void 0,f=c?u:[u],v=c?u[0]:u;if(qe(i)){var h=i.indexOf(".")!==-1,p=h&&m2(i);if(l.allowGetting&&o===void 0){var y;return v&&(l.beforeGet(v),p&&v._private[l.field][i]===void 0?y=i2(v._private[l.field],p):y=v._private[l.field][i]),y}else if(l.allowSetting&&o!==void 0){var m=!l.immutableKeys[i];if(m){var E=u0({},i,o);l.beforeSet(u,E);for(var x=0,S=f.length;x<S;x++){var b=f[x];l.canSet(b)&&(p&&v._private[l.field][i]===void 0?v2(b._private[l.field],p,o):b._private[l.field][i]=o)}l.updateStyle&&u.updateStyle(),l.onSet(u),l.settingTriggersEvent&&u[l.triggerFnName](l.settingEvent)}}}else if(l.allowSetting&&ft(i)){var k=i,T,D,R=Object.keys(k);l.beforeSet(u,k);for(var P=0;P<R.length;P++){T=R[P],D=k[T];var B=!l.immutableKeys[T];if(B)for(var L=0;L<f.length;L++){var M=f[L];l.canSet(M)&&(M._private[l.field][T]=D)}}l.updateStyle&&u.updateStyle(),l.onSet(u),l.settingTriggersEvent&&u[l.triggerFnName](l.settingEvent)}else if(l.allowBinding&&_t(i)){var z=i;u.on(l.bindingEvent,z)}else if(l.allowGetting&&i===void 0){var O;return v&&(l.beforeGet(v),O=v._private[l.field]),O}return u}},removeData:function(e){var t={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=je({},t,e),function(i){var o=e,l=this,u=l.length!==void 0,c=u?l:[l];if(qe(i)){for(var f=i.split(/\s+/),v=f.length,h=0;h<v;h++){var p=f[h];if(!xa(p)){var y=!o.immutableKeys[p];if(y)for(var m=0,E=c.length;m<E;m++)c[m]._private[o.field][p]=void 0}}o.triggerEvent&&l[o.triggerFnName](o.event)}else if(i===void 0){for(var x=0,S=c.length;x<S;x++)for(var b=c[x]._private[o.field],k=Object.keys(b),T=0;T<k.length;T++){var D=k[T],R=!o.immutableKeys[D];R&&(b[D]=void 0)}o.triggerEvent&&l[o.triggerFnName](o.event)}return l}}},w2={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(n,i){var o=this,l=Array.prototype.slice.call(arguments,0);return new eo(function(u,c){var f=function(y){o.off.apply(o,h),u(y)},v=l.concat([f]),h=v.concat([]);o.on.apply(o,v)})}}},ht={};[kC,y2,w2].forEach(function(r){je(ht,r)});var x2={animate:ht.animate(),animation:ht.animation(),animated:ht.animated(),clearQueue:ht.clearQueue(),delay:ht.delay(),delayAnimation:ht.delayAnimation(),stop:ht.stop()},Kl={classes:function(e){var t=this;if(e===void 0){var n=[];return t[0]._private.classes.forEach(function(m){return n.push(m)}),n}else yt(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],o=new Ji(e),l=0;l<t.length;l++){for(var u=t[l],c=u._private,f=c.classes,v=!1,h=0;h<e.length;h++){var p=e[h],y=f.has(p);if(!y){v=!0;break}}v||(v=f.size!==e.length),v&&(c.classes=o,i.push(u))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return t!=null&&t._private.classes.has(e)},toggleClass:function(e,t){yt(e)||(e=e.match(/\S+/g)||[]);for(var n=this,i=t===void 0,o=[],l=0,u=n.length;l<u;l++)for(var c=n[l],f=c._private.classes,v=!1,h=0;h<e.length;h++){var p=e[h],y=f.has(p),m=!1;t||i&&!y?(f.add(p),m=!0):(!t||i&&y)&&(f.delete(p),m=!0),!v&&m&&(o.push(c),v=!0)}return o.length>0&&this.spawn(o).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(t==null)t=250;else if(t===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},t),n}};Kl.className=Kl.classNames=Kl.classes;var ct={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Zt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};ct.variable="(?:[\\w-.]|(?:\\\\"+ct.metaChar+"))+";ct.className="(?:[\\w-]|(?:\\\\"+ct.metaChar+"))+";ct.value=ct.string+"|"+ct.number;ct.id=ct.variable;(function(){var r,e,t;for(r=ct.comparatorOp.split("|"),t=0;t<r.length;t++)e=r[t],ct.comparatorOp+="|@"+e;for(r=ct.comparatorOp.split("|"),t=0;t<r.length;t++)e=r[t],!(e.indexOf("!")>=0)&&e!=="="&&(ct.comparatorOp+="|\\!"+e)})();var mt=function(){return{checks:[]}},Re={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},lv=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(r,e){return yE(r.selector,e.selector)}),b2=(function(){for(var r={},e,t=0;t<lv.length;t++)e=lv[t],r[e.selector]=e.matches;return r})(),E2=function(e,t){return b2[e](t)},S2="("+lv.map(function(r){return r.selector}).join("|")+")",Li=function(e){return e.replace(new RegExp("\\\\("+ct.metaChar+")","g"),function(t,n){return n})},va=function(e,t,n){e[e.length-1]=n},uv=[{name:"group",query:!0,regex:"("+ct.group+")",populate:function(e,t,n){var i=Gt(n,1),o=i[0];t.checks.push({type:Re.GROUP,value:o==="*"?o:o+"s"})}},{name:"state",query:!0,regex:S2,populate:function(e,t,n){var i=Gt(n,1),o=i[0];t.checks.push({type:Re.STATE,value:o})}},{name:"id",query:!0,regex:"\\#("+ct.id+")",populate:function(e,t,n){var i=Gt(n,1),o=i[0];t.checks.push({type:Re.ID,value:Li(o)})}},{name:"className",query:!0,regex:"\\.("+ct.className+")",populate:function(e,t,n){var i=Gt(n,1),o=i[0];t.checks.push({type:Re.CLASS,value:Li(o)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+ct.variable+")\\s*\\]",populate:function(e,t,n){var i=Gt(n,1),o=i[0];t.checks.push({type:Re.DATA_EXIST,field:Li(o)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+ct.variable+")\\s*("+ct.comparatorOp+")\\s*("+ct.value+")\\s*\\]",populate:function(e,t,n){var i=Gt(n,3),o=i[0],l=i[1],u=i[2],c=new RegExp("^"+ct.string+"$").exec(u)!=null;c?u=u.substring(1,u.length-1):u=parseFloat(u),t.checks.push({type:Re.DATA_COMPARE,field:Li(o),operator:l,value:u})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+ct.boolOp+")\\s*("+ct.variable+")\\s*\\]",populate:function(e,t,n){var i=Gt(n,2),o=i[0],l=i[1];t.checks.push({type:Re.DATA_BOOL,field:Li(l),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+ct.meta+")\\s*("+ct.comparatorOp+")\\s*("+ct.number+")\\s*\\]\\]",populate:function(e,t,n){var i=Gt(n,3),o=i[0],l=i[1],u=i[2];t.checks.push({type:Re.META_COMPARE,field:Li(o),operator:l,value:parseFloat(u)})}},{name:"nextQuery",separator:!0,regex:ct.separator,populate:function(e,t){var n=e.currentSubject,i=e.edgeCount,o=e.compoundCount,l=e[e.length-1];n!=null&&(l.subject=n,e.currentSubject=null),l.edgeCount=i,l.compoundCount=o,e.edgeCount=0,e.compoundCount=0;var u=e[e.length++]=mt();return u}},{name:"directedEdge",separator:!0,regex:ct.directedEdge,populate:function(e,t){if(e.currentSubject==null){var n=mt(),i=t,o=mt();return n.checks.push({type:Re.DIRECTED_EDGE,source:i,target:o}),va(e,t,n),e.edgeCount++,o}else{var l=mt(),u=t,c=mt();return l.checks.push({type:Re.NODE_SOURCE,source:u,target:c}),va(e,t,l),e.edgeCount++,c}}},{name:"undirectedEdge",separator:!0,regex:ct.undirectedEdge,populate:function(e,t){if(e.currentSubject==null){var n=mt(),i=t,o=mt();return n.checks.push({type:Re.UNDIRECTED_EDGE,nodes:[i,o]}),va(e,t,n),e.edgeCount++,o}else{var l=mt(),u=t,c=mt();return l.checks.push({type:Re.NODE_NEIGHBOR,node:u,neighbor:c}),va(e,t,l),c}}},{name:"child",separator:!0,regex:ct.child,populate:function(e,t){if(e.currentSubject==null){var n=mt(),i=mt(),o=e[e.length-1];return n.checks.push({type:Re.CHILD,parent:o,child:i}),va(e,t,n),e.compoundCount++,i}else if(e.currentSubject===t){var l=mt(),u=e[e.length-1],c=mt(),f=mt(),v=mt(),h=mt();return l.checks.push({type:Re.COMPOUND_SPLIT,left:u,right:c,subject:f}),f.checks=t.checks,t.checks=[{type:Re.TRUE}],h.checks.push({type:Re.TRUE}),c.checks.push({type:Re.PARENT,parent:h,child:v}),va(e,u,l),e.currentSubject=f,e.compoundCount++,v}else{var p=mt(),y=mt(),m=[{type:Re.PARENT,parent:p,child:y}];return p.checks=t.checks,t.checks=m,e.compoundCount++,y}}},{name:"descendant",separator:!0,regex:ct.descendant,populate:function(e,t){if(e.currentSubject==null){var n=mt(),i=mt(),o=e[e.length-1];return n.checks.push({type:Re.DESCENDANT,ancestor:o,descendant:i}),va(e,t,n),e.compoundCount++,i}else if(e.currentSubject===t){var l=mt(),u=e[e.length-1],c=mt(),f=mt(),v=mt(),h=mt();return l.checks.push({type:Re.COMPOUND_SPLIT,left:u,right:c,subject:f}),f.checks=t.checks,t.checks=[{type:Re.TRUE}],h.checks.push({type:Re.TRUE}),c.checks.push({type:Re.ANCESTOR,ancestor:h,descendant:v}),va(e,u,l),e.currentSubject=f,e.compoundCount++,v}else{var p=mt(),y=mt(),m=[{type:Re.ANCESTOR,ancestor:p,descendant:y}];return p.checks=t.checks,t.checks=m,e.compoundCount++,y}}},{name:"subject",modifier:!0,regex:ct.subject,populate:function(e,t){if(e.currentSubject!=null&&e.currentSubject!==t)return pt("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var n=e[e.length-1],i=n.checks[0],o=i==null?null:i.type;o===Re.DIRECTED_EDGE?i.type=Re.NODE_TARGET:o===Re.UNDIRECTED_EDGE&&(i.type=Re.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];uv.forEach(function(r){return r.regexObj=new RegExp("^"+r.regex)});var C2=function(e){for(var t,n,i,o=0;o<uv.length;o++){var l=uv[o],u=l.name,c=e.match(l.regexObj);if(c!=null){n=c,t=l,i=u;var f=c[0];e=e.substring(f.length);break}}return{expr:t,match:n,name:i,remaining:e}},k2=function(e){var t=e.match(/^\s+/);if(t){var n=t[0];e=e.substring(n.length)}return e},T2=function(e){var t=this,n=t.inputText=e,i=t[0]=mt();for(t.length=1,n=k2(n);;){var o=C2(n);if(o.expr==null)return pt("The selector `"+e+"`is invalid"),!1;var l=o.match.slice(1),u=o.expr.populate(t,i,l);if(u===!1)return!1;if(u!=null&&(i=u),n=o.remaining,n.match(/^\s*$/))break}var c=t[t.length-1];t.currentSubject!=null&&(c.subject=t.currentSubject),c.edgeCount=t.edgeCount,c.compoundCount=t.compoundCount;for(var f=0;f<t.length;f++){var v=t[f];if(v.compoundCount>0&&v.edgeCount>0)return pt("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(v.edgeCount>1)return pt("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;v.edgeCount===1&&pt("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},P2=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(v){return v??""},t=function(v){return qe(v)?'"'+v+'"':e(v)},n=function(v){return" "+v+" "},i=function(v,h){var p=v.type,y=v.value;switch(p){case Re.GROUP:{var m=e(y);return m.substring(0,m.length-1)}case Re.DATA_COMPARE:{var E=v.field,x=v.operator;return"["+E+n(e(x))+t(y)+"]"}case Re.DATA_BOOL:{var S=v.operator,b=v.field;return"["+e(S)+b+"]"}case Re.DATA_EXIST:{var k=v.field;return"["+k+"]"}case Re.META_COMPARE:{var T=v.operator,D=v.field;return"[["+D+n(e(T))+t(y)+"]]"}case Re.STATE:return y;case Re.ID:return"#"+y;case Re.CLASS:return"."+y;case Re.PARENT:case Re.CHILD:return o(v.parent,h)+n(">")+o(v.child,h);case Re.ANCESTOR:case Re.DESCENDANT:return o(v.ancestor,h)+" "+o(v.descendant,h);case Re.COMPOUND_SPLIT:{var R=o(v.left,h),P=o(v.subject,h),B=o(v.right,h);return R+(R.length>0?" ":"")+P+B}case Re.TRUE:return""}},o=function(v,h){return v.checks.reduce(function(p,y,m){return p+(h===v&&m===0?"$":"")+i(y,h)},"")},l="",u=0;u<this.length;u++){var c=this[u];l+=o(c,c.subject),this.length>1&&u<this.length-1&&(l+=", ")}return this.toStringCache=l,l},D2={parse:T2,toString:P2},Y0=function(e,t,n){var i,o=qe(e),l=Ee(e),u=qe(n),c,f,v=!1,h=!1,p=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),h=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),v=!0),(o||u||v)&&(c=!o&&!l?"":""+e,f=""+n),v&&(e=c=c.toLowerCase(),n=f=f.toLowerCase()),t){case"*=":i=c.indexOf(f)>=0;break;case"$=":i=c.indexOf(f,c.length-f.length)>=0;break;case"^=":i=c.indexOf(f)===0;break;case"=":i=e===n;break;case">":p=!0,i=e>n;break;case">=":p=!0,i=e>=n;break;case"<":p=!0,i=e<n;break;case"<=":p=!0,i=e<=n;break;default:i=!1;break}return h&&(e!=null||!p)&&(i=!i),i},R2=function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},B2=function(e){return e!==void 0},zv=function(e,t){return e.data(t)},A2=function(e,t){return e[t]()},Vt=[],Tt=function(e,t){return e.checks.every(function(n){return Vt[n.type](n,t)})};Vt[Re.GROUP]=function(r,e){var t=r.value;return t==="*"||t===e.group()};Vt[Re.STATE]=function(r,e){var t=r.value;return E2(t,e)};Vt[Re.ID]=function(r,e){var t=r.value;return e.id()===t};Vt[Re.CLASS]=function(r,e){var t=r.value;return e.hasClass(t)};Vt[Re.META_COMPARE]=function(r,e){var t=r.field,n=r.operator,i=r.value;return Y0(A2(e,t),n,i)};Vt[Re.DATA_COMPARE]=function(r,e){var t=r.field,n=r.operator,i=r.value;return Y0(zv(e,t),n,i)};Vt[Re.DATA_BOOL]=function(r,e){var t=r.field,n=r.operator;return R2(zv(e,t),n)};Vt[Re.DATA_EXIST]=function(r,e){var t=r.field;return r.operator,B2(zv(e,t))};Vt[Re.UNDIRECTED_EDGE]=function(r,e){var t=r.nodes[0],n=r.nodes[1],i=e.source(),o=e.target();return Tt(t,i)&&Tt(n,o)||Tt(n,i)&&Tt(t,o)};Vt[Re.NODE_NEIGHBOR]=function(r,e){return Tt(r.node,e)&&e.neighborhood().some(function(t){return t.isNode()&&Tt(r.neighbor,t)})};Vt[Re.DIRECTED_EDGE]=function(r,e){return Tt(r.source,e.source())&&Tt(r.target,e.target())};Vt[Re.NODE_SOURCE]=function(r,e){return Tt(r.source,e)&&e.outgoers().some(function(t){return t.isNode()&&Tt(r.target,t)})};Vt[Re.NODE_TARGET]=function(r,e){return Tt(r.target,e)&&e.incomers().some(function(t){return t.isNode()&&Tt(r.source,t)})};Vt[Re.CHILD]=function(r,e){return Tt(r.child,e)&&Tt(r.parent,e.parent())};Vt[Re.PARENT]=function(r,e){return Tt(r.parent,e)&&e.children().some(function(t){return Tt(r.child,t)})};Vt[Re.DESCENDANT]=function(r,e){return Tt(r.descendant,e)&&e.ancestors().some(function(t){return Tt(r.ancestor,t)})};Vt[Re.ANCESTOR]=function(r,e){return Tt(r.ancestor,e)&&e.descendants().some(function(t){return Tt(r.descendant,t)})};Vt[Re.COMPOUND_SPLIT]=function(r,e){return Tt(r.subject,e)&&Tt(r.left,e)&&Tt(r.right,e)};Vt[Re.TRUE]=function(){return!0};Vt[Re.COLLECTION]=function(r,e){var t=r.value;return t.has(e)};Vt[Re.FILTER]=function(r,e){var t=r.value;return t(e)};var N2=function(e){var t=this;if(t.length===1&&t[0].checks.length===1&&t[0].checks[0].type===Re.ID)return e.getElementById(t[0].checks[0].value).collection();var n=function(o){for(var l=0;l<t.length;l++){var u=t[l];if(Tt(u,o))return!0}return!1};return t.text()==null&&(n=function(){return!0}),e.filter(n)},M2=function(e){for(var t=this,n=0;n<t.length;n++){var i=t[n];if(Tt(i,e))return!0}return!1},L2={matches:M2,filter:N2},Sa=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||qe(e)&&e.match(/^\s*$/)||(Kr(e)?this.addQuery({checks:[{type:Re.COLLECTION,value:e.collection()}]}):_t(e)?this.addQuery({checks:[{type:Re.FILTER,value:e}]}):qe(e)?this.parse(e)||(this.invalid=!0):Bt("A selector must be created from a string; found "))},Ca=Sa.prototype;[D2,L2].forEach(function(r){return je(Ca,r)});Ca.text=function(){return this.inputText};Ca.size=function(){return this.length};Ca.eq=function(r){return this[r]};Ca.sameText=function(r){return!this.invalid&&!r.invalid&&this.text()===r.text()};Ca.addQuery=function(r){this[this.length++]=r};Ca.selector=Ca.toString;var ya={allAre:function(e){var t=new Sa(e);return this.every(function(n){return t.matches(n)})},is:function(e){var t=new Sa(e);return this.some(function(n){return t.matches(n)})},some:function(e,t){for(var n=0;n<this.length;n++){var i=t?e.apply(t,[this[n],n,this]):e(this[n],n,this);if(i)return!0}return!1},every:function(e,t){for(var n=0;n<this.length;n++){var i=t?e.apply(t,[this[n],n,this]):e(this[n],n,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length,n=e.length;return t!==n?!1:t===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(n){return t.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(n){return t.hasElementWithId(n.id())})}};ya.allAreNeighbours=ya.allAreNeighbors;ya.has=ya.contains;ya.equal=ya.equals=ya.same;var nn=function(e,t){return function(i,o,l,u){var c=i,f=this,v;if(c==null?v="":Kr(c)&&c.length===1&&(v=c.id()),f.length===1&&v){var h=f[0]._private,p=h.traversalCache=h.traversalCache||{},y=p[t]=p[t]||[],m=ti(v),E=y[m];return E||(y[m]=e.call(f,i,o,l,u))}else return e.call(f,i,o,l,u)}},Zi={parent:function(e){var t=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var o=this[i],l=o._private.parent;l&&t.push(l)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var o=n[i];t.push(o)}n=n.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var i=this[n],o=i.parents();t=t||o,t=t.intersect(o)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(t){return t.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(t){return t.isChild()}).filter(e)},children:nn(function(r){for(var e=[],t=0;t<this.length;t++)for(var n=this[t],i=n._private.children,o=0;o<i.length;o++)e.push(i[o]);return this.spawn(e,!0).filter(r)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var t=[];function n(i){for(var o=0;o<i.length;o++){var l=i[o];t.push(l),l.children().nonempty()&&n(l.children())}}return n(this.children()),this.spawn(t,!0).filter(e)}};function Ov(r,e,t,n){for(var i=[],o=new Ji,l=r.cy(),u=l.hasCompoundNodes(),c=0;c<r.length;c++){var f=r[c];t?i.push(f):u&&n(i,o,f)}for(;i.length>0;){var v=i.shift();e(v),o.add(v.id()),u&&n(i,o,v)}return r}function X0(r,e,t){if(t.isParent())for(var n=t._private.children,i=0;i<n.length;i++){var o=n[i];e.has(o.id())||r.push(o)}}Zi.forEachDown=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Ov(this,r,e,X0)};function Q0(r,e,t){if(t.isChild()){var n=t._private.parent;e.has(n.id())||r.push(n)}}Zi.forEachUp=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Ov(this,r,e,Q0)};function I2(r,e,t){Q0(r,e,t),X0(r,e,t)}Zi.forEachUpAndDown=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Ov(this,r,e,I2)};Zi.ancestors=Zi.parents;var ss,Z0;ss=Z0={data:ht.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ht.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ht.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ht.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ht.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ht.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};ss.attr=ss.data;ss.removeAttr=ss.removeData;var z2=Z0,Tu={};function Wd(r){return function(e){var t=this;if(e===void 0&&(e=!0),t.length!==0)if(t.isNode()&&!t.removed()){for(var n=0,i=t[0],o=i._private.edges,l=0;l<o.length;l++){var u=o[l];!e&&u.isLoop()||(n+=r(i,u))}return n}else return}}je(Tu,{degree:Wd(function(r,e){return e.source().same(e.target())?2:1}),indegree:Wd(function(r,e){return e.target().same(r)?1:0}),outdegree:Wd(function(r,e){return e.source().same(r)?1:0})});function Ii(r,e){return function(t){for(var n,i=this.nodes(),o=0;o<i.length;o++){var l=i[o],u=l[r](t);u!==void 0&&(n===void 0||e(u,n))&&(n=u)}return n}}je(Tu,{minDegree:Ii("degree",function(r,e){return r<e}),maxDegree:Ii("degree",function(r,e){return r>e}),minIndegree:Ii("indegree",function(r,e){return r<e}),maxIndegree:Ii("indegree",function(r,e){return r>e}),minOutdegree:Ii("outdegree",function(r,e){return r<e}),maxOutdegree:Ii("outdegree",function(r,e){return r>e})});je(Tu,{totalDegree:function(e){for(var t=0,n=this.nodes(),i=0;i<n.length;i++)t+=n[i].degree(e);return t}});var hn,J0,e1=function(e,t,n){for(var i=0;i<e.length;i++){var o=e[i];if(!o.locked()){var l=o._private.position,u={x:t.x!=null?t.x-l.x:0,y:t.y!=null?t.y-l.y:0};o.isParent()&&!(u.x===0&&u.y===0)&&o.children().shift(u,n),o.dirtyBoundingBoxCache()}}},vy={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){e1(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};hn=J0={position:ht.data(vy),silentPosition:ht.data(je({},vy,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){e1(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(ft(e))t?this.silentPosition(e):this.position(e);else if(_t(e)){var n=e,i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var l=this[o],u=void 0;(u=n(l,o))&&(t?l.silentPosition(u):l.position(u))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,n){var i;if(ft(e)?(i={x:Ee(e.x)?e.x:0,y:Ee(e.y)?e.y:0},n=t):qe(e)&&Ee(t)&&(i={x:0,y:0},i[e]=t),i!=null){var o=this.cy();o.startBatch();for(var l=0;l<this.length;l++){var u=this[l];if(!(o.hasCompoundNodes()&&u.isChild()&&u.ancestors().anySame(this))){var c=u.position(),f={x:c.x+i.x,y:c.y+i.y};n?u.silentPosition(f):u.position(f)}}o.endBatch()}return this},silentShift:function(e,t){return ft(e)?this.shift(e,!0):qe(e)&&Ee(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var n=this[0],i=this.cy(),o=i.zoom(),l=i.pan(),u=ft(e)?e:void 0,c=u!==void 0||t!==void 0&&qe(e);if(n&&n.isNode())if(c)for(var f=0;f<this.length;f++){var v=this[f];t!==void 0?v.position(e,(t-l[e])/o):u!==void 0&&v.position(D0(u,o,l))}else{var h=n.position();return u=xu(h,o,l),e===void 0?u:u[e]}else if(!c)return;return this},relativePosition:function(e,t){var n=this[0],i=this.cy(),o=ft(e)?e:void 0,l=o!==void 0||t!==void 0&&qe(e),u=i.hasCompoundNodes();if(n&&n.isNode())if(l)for(var c=0;c<this.length;c++){var f=this[c],v=u?f.parent():null,h=v&&v.length>0,p=h;h&&(v=v[0]);var y=p?v.position():{x:0,y:0};t!==void 0?f.position(e,t+y[e]):o!==void 0&&f.position({x:o.x+y.x,y:o.y+y.y})}else{var m=n.position(),E=u?n.parent():null,x=E&&E.length>0,S=x;x&&(E=E[0]);var b=S?E.position():{x:0,y:0};return o={x:m.x-b.x,y:m.y-b.y},e===void 0?o:o[e]}else if(!l)return;return this}};hn.modelPosition=hn.point=hn.position;hn.modelPositions=hn.points=hn.positions;hn.renderedPoint=hn.renderedPosition;hn.relativePoint=hn.relativePosition;var O2=J0,Yi,Ra;Yi=Ra={};Ra.renderedBoundingBox=function(r){var e=this.boundingBox(r),t=this.cy(),n=t.zoom(),i=t.pan(),o=e.x1*n+i.x,l=e.x2*n+i.x,u=e.y1*n+i.y,c=e.y2*n+i.y;return{x1:o,x2:l,y1:u,y2:c,w:l-o,h:c-u}};Ra.dirtyCompoundBoundsCache=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(t){if(t.isParent()){var n=t._private;n.compoundBoundsClean=!1,n.bbCache=null,r||t.emitAndNotify("bounds")}}),this)};Ra.updateCompoundBounds=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!r&&e.batching())return this;function t(l){if(!l.isParent())return;var u=l._private,c=l.children(),f=l.pstyle("compound-sizing-wrt-labels").value==="include",v={width:{val:l.pstyle("min-width").pfValue,left:l.pstyle("min-width-bias-left"),right:l.pstyle("min-width-bias-right")},height:{val:l.pstyle("min-height").pfValue,top:l.pstyle("min-height-bias-top"),bottom:l.pstyle("min-height-bias-bottom")}},h=c.boundingBox({includeLabels:f,includeOverlays:!1,useCache:!1}),p=u.position;(h.w===0||h.h===0)&&(h={w:l.pstyle("width").pfValue,h:l.pstyle("height").pfValue},h.x1=p.x-h.w/2,h.x2=p.x+h.w/2,h.y1=p.y-h.h/2,h.y2=p.y+h.h/2);function y(L,M,z){var O=0,_=0,W=M+z;return L>0&&W>0&&(O=M/W*L,_=z/W*L),{biasDiff:O,biasComplementDiff:_}}function m(L,M,z,O){if(z.units==="%")switch(O){case"width":return L>0?z.pfValue*L:0;case"height":return M>0?z.pfValue*M:0;case"average":return L>0&&M>0?z.pfValue*(L+M)/2:0;case"min":return L>0&&M>0?L>M?z.pfValue*M:z.pfValue*L:0;case"max":return L>0&&M>0?L>M?z.pfValue*L:z.pfValue*M:0;default:return 0}else return z.units==="px"?z.pfValue:0}var E=v.width.left.value;v.width.left.units==="px"&&v.width.val>0&&(E=E*100/v.width.val);var x=v.width.right.value;v.width.right.units==="px"&&v.width.val>0&&(x=x*100/v.width.val);var S=v.height.top.value;v.height.top.units==="px"&&v.height.val>0&&(S=S*100/v.height.val);var b=v.height.bottom.value;v.height.bottom.units==="px"&&v.height.val>0&&(b=b*100/v.height.val);var k=y(v.width.val-h.w,E,x),T=k.biasDiff,D=k.biasComplementDiff,R=y(v.height.val-h.h,S,b),P=R.biasDiff,B=R.biasComplementDiff;u.autoPadding=m(h.w,h.h,l.pstyle("padding"),l.pstyle("padding-relative-to").value),u.autoWidth=Math.max(h.w,v.width.val),p.x=(-T+h.x1+h.x2+D)/2,u.autoHeight=Math.max(h.h,v.height.val),p.y=(-P+h.y1+h.y2+B)/2}for(var n=0;n<this.length;n++){var i=this[n],o=i._private;(!o.compoundBoundsClean||r)&&(t(i),e.batching()||(o.compoundBoundsClean=!0))}return this};var rn=function(e){return e===1/0||e===-1/0?0:e},dn=function(e,t,n,i,o){i-t===0||o-n===0||t==null||n==null||i==null||o==null||(e.x1=t<e.x1?t:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=o>e.y2?o:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},ha=function(e,t){return t==null?e:dn(e,t.x1,t.y1,t.x2,t.y2)},Uo=function(e,t,n){return _r(e,t,n)},zl=function(e,t,n){if(!t.cy().headless()){var i=t._private,o=i.rstyle,l=o.arrowWidth/2,u=t.pstyle(n+"-arrow-shape").value,c,f;if(u!=="none"){n==="source"?(c=o.srcX,f=o.srcY):n==="target"?(c=o.tgtX,f=o.tgtY):(c=o.midX,f=o.midY);var v=i.arrowBounds=i.arrowBounds||{},h=v[n]=v[n]||{};h.x1=c-l,h.y1=f-l,h.x2=c+l,h.y2=f+l,h.w=h.x2-h.x1,h.h=h.y2-h.y1,jl(h,1),dn(e,h.x1,h.y1,h.x2,h.y2)}}},$d=function(e,t,n){if(!t.cy().headless()){var i;n?i=n+"-":i="";var o=t._private,l=o.rstyle,u=t.pstyle(i+"label").strValue;if(u){var c=t.pstyle("text-halign"),f=t.pstyle("text-valign"),v=Uo(l,"labelWidth",n),h=Uo(l,"labelHeight",n),p=Uo(l,"labelX",n),y=Uo(l,"labelY",n),m=t.pstyle(i+"text-margin-x").pfValue,E=t.pstyle(i+"text-margin-y").pfValue,x=t.isEdge(),S=t.pstyle(i+"text-rotation"),b=t.pstyle("text-outline-width").pfValue,k=t.pstyle("text-border-width").pfValue,T=k/2,D=t.pstyle("text-background-padding").pfValue,R=2,P=h,B=v,L=B/2,M=P/2,z,O,_,W;if(x)z=p-L,O=p+L,_=y-M,W=y+M;else{switch(c.value){case"left":z=p-B,O=p;break;case"center":z=p-L,O=p+L;break;case"right":z=p,O=p+B;break}switch(f.value){case"top":_=y-P,W=y;break;case"center":_=y-M,W=y+M;break;case"bottom":_=y,W=y+P;break}}var U=m-Math.max(b,T)-D-R,H=m+Math.max(b,T)+D+R,q=E-Math.max(b,T)-D-R,V=E+Math.max(b,T)+D+R;z+=U,O+=H,_+=q,W+=V;var G=n||"main",j=o.labelBounds,N=j[G]=j[G]||{};N.x1=z,N.y1=_,N.x2=O,N.y2=W,N.w=O-z,N.h=W-_,N.leftPad=U,N.rightPad=H,N.topPad=q,N.botPad=V;var F=x&&S.strValue==="autorotate",ee=S.pfValue!=null&&S.pfValue!==0;if(F||ee){var ae=F?Uo(o.rstyle,"labelAngle",n):S.pfValue,ne=Math.cos(ae),se=Math.sin(ae),fe=(z+O)/2,ge=(_+W)/2;if(!x){switch(c.value){case"left":fe=O;break;case"right":fe=z;break}switch(f.value){case"top":ge=W;break;case"bottom":ge=_;break}}var le=function(Ge,We){return Ge=Ge-fe,We=We-ge,{x:Ge*ne-We*se+fe,y:Ge*se+We*ne+ge}},Q=le(z,_),Z=le(z,W),ie=le(O,_),de=le(O,W);z=Math.min(Q.x,Z.x,ie.x,de.x),O=Math.max(Q.x,Z.x,ie.x,de.x),_=Math.min(Q.y,Z.y,ie.y,de.y),W=Math.max(Q.y,Z.y,ie.y,de.y)}var be=G+"Rot",Ie=j[be]=j[be]||{};Ie.x1=z,Ie.y1=_,Ie.x2=O,Ie.y2=W,Ie.w=O-z,Ie.h=W-_,dn(e,z,_,O,W),dn(o.labelBounds.all,z,_,O,W)}return e}},hy=function(e,t){if(!t.cy().headless()){var n=t.pstyle("outline-opacity").value,i=t.pstyle("outline-width").value,o=t.pstyle("outline-offset").value,l=i+o;t1(e,t,n,l,"outside",l/2)}},t1=function(e,t,n,i,o,l){if(!(n===0||i<=0||o==="inside")){var u=t.cy(),c=t.pstyle("shape").value,f=u.renderer().nodeShapes[c],v=t.position(),h=v.x,p=v.y,y=t.width(),m=t.height();if(f.hasMiterBounds){o==="center"&&(i/=2);var E=f.miterBounds(h,p,y,m,i);ha(e,E)}else l!=null&&l>0&&Gl(e,[l,l,l,l])}},_2=function(e,t){if(!t.cy().headless()){var n=t.pstyle("border-opacity").value,i=t.pstyle("border-width").pfValue,o=t.pstyle("border-position").value;t1(e,t,n,i,o)}},F2=function(e,t){var n=e._private.cy,i=n.styleEnabled(),o=n.headless(),l=Br(),u=e._private,c=e.isNode(),f=e.isEdge(),v,h,p,y,m,E,x=u.rstyle,S=c&&i?e.pstyle("bounds-expansion").pfValue:[0],b=function(nt){return nt.pstyle("display").value!=="none"},k=!i||b(e)&&(!f||b(e.source())&&b(e.target()));if(k){var T=0,D=0;i&&t.includeOverlays&&(T=e.pstyle("overlay-opacity").value,T!==0&&(D=e.pstyle("overlay-padding").value));var R=0,P=0;i&&t.includeUnderlays&&(R=e.pstyle("underlay-opacity").value,R!==0&&(P=e.pstyle("underlay-padding").value));var B=Math.max(D,P),L=0,M=0;if(i&&(L=e.pstyle("width").pfValue,M=L/2),c&&t.includeNodes){var z=e.position();m=z.x,E=z.y;var O=e.outerWidth(),_=O/2,W=e.outerHeight(),U=W/2;v=m-_,h=m+_,p=E-U,y=E+U,dn(l,v,p,h,y),i&&hy(l,e),i&&t.includeOutlines&&!o&&hy(l,e),i&&_2(l,e)}else if(f&&t.includeEdges)if(i&&!o){var H=e.pstyle("curve-style").strValue;if(v=Math.min(x.srcX,x.midX,x.tgtX),h=Math.max(x.srcX,x.midX,x.tgtX),p=Math.min(x.srcY,x.midY,x.tgtY),y=Math.max(x.srcY,x.midY,x.tgtY),v-=M,h+=M,p-=M,y+=M,dn(l,v,p,h,y),H==="haystack"){var q=x.haystackPts;if(q&&q.length===2){if(v=q[0].x,p=q[0].y,h=q[1].x,y=q[1].y,v>h){var V=v;v=h,h=V}if(p>y){var G=p;p=y,y=G}dn(l,v-M,p-M,h+M,y+M)}}else if(H==="bezier"||H==="unbundled-bezier"||pa(H,"segments")||pa(H,"taxi")){var j;switch(H){case"bezier":case"unbundled-bezier":j=x.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":j=x.linePts;break}if(j!=null)for(var N=0;N<j.length;N++){var F=j[N];v=F.x-M,h=F.x+M,p=F.y-M,y=F.y+M,dn(l,v,p,h,y)}}}else{var ee=e.source(),ae=ee.position(),ne=e.target(),se=ne.position();if(v=ae.x,h=se.x,p=ae.y,y=se.y,v>h){var fe=v;v=h,h=fe}if(p>y){var ge=p;p=y,y=ge}v-=M,h+=M,p-=M,y+=M,dn(l,v,p,h,y)}if(i&&t.includeEdges&&f&&(zl(l,e,"mid-source"),zl(l,e,"mid-target"),zl(l,e,"source"),zl(l,e,"target")),i){var le=e.pstyle("ghost").value==="yes";if(le){var Q=e.pstyle("ghost-offset-x").pfValue,Z=e.pstyle("ghost-offset-y").pfValue;dn(l,l.x1+Q,l.y1+Z,l.x2+Q,l.y2+Z)}}var ie=u.bodyBounds=u.bodyBounds||{};Jg(ie,l),Gl(ie,S),jl(ie,1),i&&(v=l.x1,h=l.x2,p=l.y1,y=l.y2,dn(l,v-B,p-B,h+B,y+B));var de=u.overlayBounds=u.overlayBounds||{};Jg(de,l),Gl(de,S),jl(de,1);var be=u.labelBounds=u.labelBounds||{};be.all!=null?xS(be.all):be.all=Br(),i&&t.includeLabels&&(t.includeMainLabels&&$d(l,e,null),f&&(t.includeSourceLabels&&$d(l,e,"source"),t.includeTargetLabels&&$d(l,e,"target")))}return l.x1=rn(l.x1),l.y1=rn(l.y1),l.x2=rn(l.x2),l.y2=rn(l.y2),l.w=rn(l.x2-l.x1),l.h=rn(l.y2-l.y1),l.w>0&&l.h>0&&k&&(Gl(l,S),jl(l,1)),l},r1=function(e){var t=0,n=function(l){return(l?1:0)<<t++},i=0;return i+=n(e.incudeNodes),i+=n(e.includeEdges),i+=n(e.includeLabels),i+=n(e.includeMainLabels),i+=n(e.includeSourceLabels),i+=n(e.includeTargetLabels),i+=n(e.includeOverlays),i+=n(e.includeOutlines),i},n1=function(e){var t=function(u){return Math.round(u)};if(e.isEdge()){var n=e.source().position(),i=e.target().position();return Gg([t(n.x),t(n.y),t(i.x),t(i.y)])}else{var o=e.position();return Gg([t(o.x),t(o.y)])}},py=function(e,t){var n=e._private,i,o=e.isEdge(),l=t==null?gy:r1(t),u=l===gy;if(n.bbCache==null?(i=F2(e,ls),n.bbCache=i,n.bbCachePosKey=n1(e)):i=n.bbCache,!u){var c=e.isNode();i=Br(),(t.includeNodes&&c||t.includeEdges&&!c)&&(t.includeOverlays?ha(i,n.overlayBounds):ha(i,n.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!o||t.includeSourceLabels&&t.includeTargetLabels)?ha(i,n.labelBounds.all):(t.includeMainLabels&&ha(i,n.labelBounds.mainRot),t.includeSourceLabels&&ha(i,n.labelBounds.sourceRot),t.includeTargetLabels&&ha(i,n.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},ls={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},gy=r1(ls),my=hr(ls);Ra.boundingBox=function(r){var e,t=r===void 0||r.useCache===void 0||r.useCache===!0,n=Xi(function(v){var h=v._private;return h.bbCache==null||h.styleDirty||h.bbCachePosKey!==n1(v)},function(v){return v.id()});if(t&&this.length===1&&!n(this[0]))r===void 0?r=ls:r=my(r),e=py(this[0],r);else{e=Br(),r=r||ls;var i=my(r),o=this,l=o.cy(),u=l.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),u&&this.recalculateRenderedStyle(t),this.updateCompoundBounds(!t);for(var c=0;c<o.length;c++){var f=o[c];n(f)&&f.dirtyBoundingBoxCache(),ha(e,py(f,i))}}return e.x1=rn(e.x1),e.y1=rn(e.y1),e.x2=rn(e.x2),e.y2=rn(e.y2),e.w=rn(e.x2-e.x1),e.h=rn(e.y2-e.y1),e};Ra.dirtyBoundingBoxCache=function(){for(var r=0;r<this.length;r++){var e=this[r]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Ra.boundingBoxAt=function(r){var e=this.nodes(),t=this.cy(),n=t.hasCompoundNodes(),i=t.collection();if(n&&(i=e.filter(function(f){return f.isParent()}),e=e.not(i)),ft(r)){var o=r;r=function(){return o}}var l=function(v,h){return v._private.bbAtOldPos=r(v,h)},u=function(v){return v._private.bbAtOldPos};t.startBatch(),e.forEach(l).silentPositions(r),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var c=wS(this.boundingBox({useCache:!1}));return e.silentPositions(u),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),t.endBatch(),c};Yi.boundingbox=Yi.bb=Yi.boundingBox;Yi.renderedBoundingbox=Yi.renderedBoundingBox;var V2=Ra,Qo,ws;Qo=ws={};var a1=function(e){e.uppercaseName=Ng(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Ng(e.outerName),Qo[e.name]=function(){var n=this[0],i=n._private,o=i.cy,l=o._private.styleEnabled;if(n)if(l){if(n.isParent())return n.updateCompoundBounds(),i[e.autoName]||0;var u=n.pstyle(e.name);switch(u.strValue){case"label":return n.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return u.pfValue}}else return 1},Qo["outer"+e.uppercaseName]=function(){var n=this[0],i=n._private,o=i.cy,l=o._private.styleEnabled;if(n)if(l){var u=n[e.name](),c=n.pstyle("border-position").value,f;c==="center"?f=n.pstyle("border-width").pfValue:c==="outside"?f=2*n.pstyle("border-width").pfValue:f=0;var v=2*n.padding();return u+f+v}else return 1},Qo["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var i=n[e.name]();return i*this.cy().zoom()}},Qo["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var i=n[e.outerName]();return i*this.cy().zoom()}}};a1({name:"width"});a1({name:"height"});ws.padding=function(){var r=this[0],e=r._private;return r.isParent()?(r.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:r.pstyle("padding").pfValue):r.pstyle("padding").pfValue};ws.paddedHeight=function(){var r=this[0];return r.height()+2*r.padding()};ws.paddedWidth=function(){var r=this[0];return r.width()+2*r.padding()};var q2=ws,W2=function(e,t){if(e.isEdge()&&e.takesUpSpace())return t(e)},$2=function(e,t){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return xu(t(e),n.zoom(),n.pan())}},U2=function(e,t){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),i=n.pan(),o=n.zoom();return t(e).map(function(l){return xu(l,o,i)})}},H2=function(e){return e.renderer().getControlPoints(e)},j2=function(e){return e.renderer().getSegmentPoints(e)},G2=function(e){return e.renderer().getSourceEndpoint(e)},K2=function(e){return e.renderer().getTargetEndpoint(e)},Y2=function(e){return e.renderer().getEdgeMidpoint(e)},yy={controlPoints:{get:H2,mult:!0},segmentPoints:{get:j2,mult:!0},sourceEndpoint:{get:G2},targetEndpoint:{get:K2},midpoint:{get:Y2}},X2=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},Q2=Object.keys(yy).reduce(function(r,e){var t=yy[e],n=X2(e);return r[e]=function(){return W2(this,t.get)},t.mult?r[n]=function(){return U2(this,t.get)}:r[n]=function(){return $2(this,t.get)},r},{}),Z2=je({},O2,V2,q2,Q2);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var i1=function(e,t){this.recycle(e,t)};function Ho(){return!1}function Ol(){return!0}i1.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Ho,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Ol:Ho):e!=null&&e.type?t=e:this.type=e,t!=null&&(this.originalEvent=t.originalEvent,this.type=t.type!=null?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,i=this.cy.zoom(),o=this.cy.pan();this.renderedPosition={x:n.x*i+o.x,y:n.y*i+o.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Ol;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Ol;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Ol,this.stopPropagation()},isDefaultPrevented:Ho,isPropagationStopped:Ho,isImmediatePropagationStopped:Ho};var o1=/^([^.]+)(\.(?:[^.]+))?$/,J2=".*",s1={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},wy=Object.keys(s1),ek={};function Pu(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ek,e=arguments.length>1?arguments[1]:void 0,t=0;t<wy.length;t++){var n=wy[t];this[n]=r[n]||s1[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var ka=Pu.prototype,l1=function(e,t,n,i,o,l,u){_t(i)&&(o=i,i=null),u&&(l==null?l=u:l=je({},l,u));for(var c=yt(n)?n:n.split(/\s+/),f=0;f<c.length;f++){var v=c[f];if(!xa(v)){var h=v.match(o1);if(h){var p=h[1],y=h[2]?h[2]:null,m=t(e,v,p,y,i,o,l);if(m===!1)break}}}},xy=function(e,t){return e.addEventFields(e.context,t),new i1(t.type,t)},tk=function(e,t,n){if(sE(n)){t(e,n);return}else if(ft(n)){t(e,xy(e,n));return}for(var i=yt(n)?n:n.split(/\s+/),o=0;o<i.length;o++){var l=i[o];if(!xa(l)){var u=l.match(o1);if(u){var c=u[1],f=u[2]?u[2]:null,v=xy(e,{type:c,namespace:f,target:e.context});t(e,v)}}}};ka.on=ka.addListener=function(r,e,t,n,i){return l1(this,function(o,l,u,c,f,v,h){_t(v)&&o.listeners.push({event:l,callback:v,type:u,namespace:c,qualifier:f,conf:h})},r,e,t,n,i),this};ka.one=function(r,e,t,n){return this.on(r,e,t,n,{one:!0})};ka.removeListener=ka.off=function(r,e,t,n){var i=this;this.emitting!==0&&(this.listeners=$E(this.listeners));for(var o=this.listeners,l=function(f){var v=o[f];l1(i,function(h,p,y,m,E,x){if((v.type===y||r==="*")&&(!m&&v.namespace!==".*"||v.namespace===m)&&(!E||h.qualifierCompare(v.qualifier,E))&&(!x||v.callback===x))return o.splice(f,1),!1},r,e,t,n)},u=o.length-1;u>=0;u--)l(u);return this};ka.removeAllListeners=function(){return this.removeListener("*")};ka.emit=ka.trigger=function(r,e,t){var n=this.listeners,i=n.length;return this.emitting++,yt(e)||(e=[e]),tk(this,function(o,l){t!=null&&(n=[{event:l.event,type:l.type,namespace:l.namespace,callback:t}],i=n.length);for(var u=function(){var v=n[c];if(v.type===l.type&&(!v.namespace||v.namespace===l.namespace||v.namespace===J2)&&o.eventMatches(o.context,v,l)){var h=[l];e!=null&&HE(h,e),o.beforeEmit(o.context,v,l),v.conf&&v.conf.one&&(o.listeners=o.listeners.filter(function(m){return m!==v}));var p=o.callbackContext(o.context,v,l),y=v.callback.apply(p,h);o.afterEmit(o.context,v,l),y===!1&&(l.stopPropagation(),l.preventDefault())}},c=0;c<i;c++)u();o.bubble(o.context)&&!l.isPropagationStopped()&&o.parent(o.context).emit(l,e)},r),this.emitting--,this};var rk={qualifierCompare:function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},eventMatches:function(e,t,n){var i=t.qualifier;return i!=null?e!==n.target&&vs(n.target)&&i.matches(n.target):!0},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,n){return t.qualifier!=null?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},_l=function(e){return qe(e)?new Sa(e):e},u1={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new Pu(rk,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var i=_l(t),o=0;o<this.length;o++){var l=this[o];l.emitter().on(e,i,n)}return this},removeListener:function(e,t,n){for(var i=_l(t),o=0;o<this.length;o++){var l=this[o];l.emitter().removeListener(e,i,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var t=this[e];t.emitter().removeAllListeners()}return this},one:function(e,t,n){for(var i=_l(t),o=0;o<this.length;o++){var l=this[o];l.emitter().one(e,i,n)}return this},once:function(e,t,n){for(var i=_l(t),o=0;o<this.length;o++){var l=this[o];l.emitter().on(e,i,n,{once:!0,onceCollection:this})}},emit:function(e,t){for(var n=0;n<this.length;n++){var i=this[n];i.emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,t),this}};ht.eventAliasesOn(u1);var c1={nodes:function(e){return this.filter(function(t){return t.isNode()}).filter(e)},edges:function(e){return this.filter(function(t){return t.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?e.push(i):t.push(i)}return{nodes:e,edges:t}},filter:function(e,t){if(e===void 0)return this;if(qe(e)||Kr(e))return new Sa(e).filter(this);if(_t(e)){for(var n=this.spawn(),i=this,o=0;o<i.length;o++){var l=i[o],u=t?e.apply(t,[l,o,i]):e(l,o,i);u&&n.push(l)}return n}return this.spawn()},not:function(e){if(e){qe(e)&&(e=this.filter(e));for(var t=this.spawn(),n=0;n<this.length;n++){var i=this[n],o=e.has(i);o||t.push(i)}return t}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(qe(e)){var t=e;return this.filter(t)}for(var n=this.spawn(),i=this,o=e,l=this.length<e.length,u=l?i:o,c=l?o:i,f=0;f<u.length;f++){var v=u[f];c.has(v)&&n.push(v)}return n},xor:function(e){var t=this._private.cy;qe(e)&&(e=t.$(e));var n=this.spawn(),i=this,o=e,l=function(c,f){for(var v=0;v<c.length;v++){var h=c[v],p=h._private.data.id,y=f.hasElementWithId(p);y||n.push(h)}};return l(i,o),l(o,i),n},diff:function(e){var t=this._private.cy;qe(e)&&(e=t.$(e));var n=this.spawn(),i=this.spawn(),o=this.spawn(),l=this,u=e,c=function(v,h,p){for(var y=0;y<v.length;y++){var m=v[y],E=m._private.data.id,x=h.hasElementWithId(E);x?o.merge(m):p.push(m)}};return c(l,u,n),c(u,l,i),{left:n,right:i,both:o}},add:function(e){var t=this._private.cy;if(!e)return this;if(qe(e)){var n=e;e=t.mutableElements().filter(n)}for(var i=this.spawnSelf(),o=0;o<e.length;o++){var l=e[o],u=!this.has(l);u&&i.push(l)}return i},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&qe(e)){var i=e;e=n.mutableElements().filter(i)}for(var o=t.map,l=0;l<e.length;l++){var u=e[l],c=u._private.data.id,f=!o.has(c);if(f){var v=this.length++;this[v]=u,o.set(c,{ele:u,index:v})}}return this},unmergeAt:function(e){var t=this[e],n=t.id(),i=this._private,o=i.map;this[e]=void 0,o.delete(n);var l=e===this.length-1;if(this.length>1&&!l){var u=this.length-1,c=this[u],f=c._private.data.id;this[u]=void 0,this[e]=c,o.set(f,{ele:c,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,i=t.map,o=i.get(n);if(!o)return this;var l=o.index;return this.unmergeAt(l),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&qe(e)){var n=e;e=t.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--){var n=this[t];e(n)&&this.unmergeAt(t)}return this},map:function(e,t){for(var n=[],i=this,o=0;o<i.length;o++){var l=i[o],u=t?e.apply(t,[l,o,i]):e(l,o,i);n.push(u)}return n},reduce:function(e,t){for(var n=t,i=this,o=0;o<i.length;o++)n=e(n,i[o],o,i);return n},max:function(e,t){for(var n=-1/0,i,o=this,l=0;l<o.length;l++){var u=o[l],c=t?e.apply(t,[u,l,o]):e(u,l,o);c>n&&(n=c,i=u)}return{value:n,ele:i}},min:function(e,t){for(var n=1/0,i,o=this,l=0;l<o.length;l++){var u=o[l],c=t?e.apply(t,[u,l,o]):e(u,l,o);c<n&&(n=c,i=u)}return{value:n,ele:i}}},vt=c1;vt.u=vt["|"]=vt["+"]=vt.union=vt.or=vt.add;vt["\\"]=vt["!"]=vt["-"]=vt.difference=vt.relativeComplement=vt.subtract=vt.not;vt.n=vt["&"]=vt["."]=vt.and=vt.intersection=vt.intersect;vt["^"]=vt["(+)"]=vt["(-)"]=vt.symmetricDifference=vt.symdiff=vt.xor;vt.fnFilter=vt.filterFn=vt.stdFilter=vt.filter;vt.complement=vt.abscomp=vt.absoluteComplement;var nk={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},f1=function(e,t){var n=e.cy(),i=n.hasCompoundNodes();function o(v){var h=v.pstyle("z-compound-depth");return h.value==="auto"?i?v.zDepth():0:h.value==="bottom"?-1:h.value==="top"?Tv:0}var l=o(e)-o(t);if(l!==0)return l;function u(v){var h=v.pstyle("z-index-compare");return h.value==="auto"&&v.isNode()?1:0}var c=u(e)-u(t);if(c!==0)return c;var f=e.pstyle("z-index").value-t.pstyle("z-index").value;return f!==0?f:e.poolIndex()-t.poolIndex()},uu={forEach:function(e,t){if(_t(e))for(var n=this.length,i=0;i<n;i++){var o=this[i],l=t?e.apply(t,[o,i,this]):e(o,i,this);if(l===!1)break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],i=this.length;t==null&&(t=i),e==null&&(e=0),e<0&&(e=i+e),t<0&&(t=i+t);for(var o=e;o>=0&&o<t&&o<i;o++)n.push(this[o]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!_t(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(f1)},zDepth:function(){var e=this[0];if(e){var t=e._private,n=t.group;if(n==="nodes"){var i=t.data.parent?e.parents().size():0;return e.isParent()?i:Tv-1}else{var o=t.source,l=t.target,u=o.zDepth(),c=l.zDepth();return Math.max(u,c,0)}}}};uu.each=uu.forEach;var ak=function(){var e="undefined",t=(typeof Symbol>"u"?"undefined":Jt(Symbol))!=e&&Jt(Symbol.iterator)!=e;t&&(uu[Symbol.iterator]=function(){var n=this,i={value:void 0,done:!1},o=0,l=this.length;return u0({next:function(){return o<l?i.value=n[o++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};ak();var ik=hr({nodeDimensionsIncludeLabels:!1}),Yl={layoutDimensions:function(e){e=ik(e);var t;if(!this.takesUpSpace())t={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();t={w:n.w,h:n.h}}else t={w:this.outerWidth(),h:this.outerHeight()};return(t.w===0||t.h===0)&&(t.w=t.h=1),t},layoutPositions:function(e,t,n){var i=this.nodes().filter(function(D){return!D.isParent()}),o=this.cy(),l=t.eles,u=function(R){return R.id()},c=Xi(n,u);e.emit({type:"layoutstart",layout:e}),e.animations=[];var f=function(R,P,B){var L={x:P.x1+P.w/2,y:P.y1+P.h/2},M={x:(B.x-L.x)*R,y:(B.y-L.y)*R};return{x:L.x+M.x,y:L.y+M.y}},v=t.spacingFactor&&t.spacingFactor!==1,h=function(){if(!v)return null;for(var R=Br(),P=0;P<i.length;P++){var B=i[P],L=c(B,P);R0(R,L.x,L.y)}return R},p=h(),y=Xi(function(D,R){var P=c(D,R);if(v){var B=Math.abs(t.spacingFactor);P=f(B,p,P)}return t.transform!=null&&(P=t.transform(D,P)),P},u);if(t.animate){for(var m=0;m<i.length;m++){var E=i[m],x=y(E,m),S=t.animateFilter==null||t.animateFilter(E,m);if(S){var b=E.animation({position:x,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(b)}else E.position(x)}if(t.fit){var k=o.animation({fit:{boundingBox:l.boundingBoxAt(y),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(k)}else if(t.zoom!==void 0&&t.pan!==void 0){var T=o.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(T)}e.animations.forEach(function(D){return D.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),eo.all(e.animations.map(function(D){return D.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(y),t.fit&&o.fit(t.eles,t.padding),t.zoom!=null&&o.zoom(t.zoom),t.pan&&o.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var t=this.cy();return t.makeLayout(je({},e,{eles:this}))}};Yl.createLayout=Yl.makeLayout=Yl.layout;function d1(r,e,t){var n=t._private,i=n.styleCache=n.styleCache||[],o;return(o=i[r])!=null||(o=i[r]=e(t)),o}function Du(r,e){return r=ti(r),function(n){return d1(r,e,n)}}function Ru(r,e){r=ti(r);var t=function(i){return e.call(i)};return function(){var i=this[0];if(i)return d1(r,t,i)}}var dr={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),i=t.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),t=function(o){return o._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(t)}else this.forEach(function(i){t(i),i.connectedEdges().forEach(t)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching()){var n=t._private.batchStyleEles;return n.merge(this),this}var i=t.hasCompoundNodes(),o=this;e=!!(e||e===void 0),i&&(o=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var l=o;return e?l.emitAndNotify("style"):l.emit("style"),o.forEach(function(u){return u._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var n=this[t];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],i=n.cy();if(i.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,i.style().apply(n));var o=n._private.style[e];return o??(t?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled()&&t)return t.pstyle(e).units},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];if(n)return t.style().getRenderedStyle(n,e)},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,o=n.style();if(ft(e)){var l=e;o.applyBypass(this,l,i),this.emitAndNotify("style")}else if(qe(e))if(t===void 0){var u=this[0];return u?o.getStylePropertyValue(u,e):void 0}else o.applyBypass(this,e,t,i),this.emitAndNotify("style");else if(e===void 0){var c=this[0];return c?o.getRawStyle(c):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=!1,i=t.style(),o=this;if(e===void 0)for(var l=0;l<o.length;l++){var u=o[l];i.removeAllBypasses(u,n)}else{e=e.split(/\s+/);for(var c=0;c<o.length;c++){var f=o[c];i.removeBypasses(f,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var i=n._private,o=n.pstyle("opacity").value;if(!t)return o;var l=i.data.parent?n.parents():null;if(l)for(var u=0;u<l.length;u++){var c=l[u],f=c.pstyle("opacity").value;o=f*o}return o}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],n=t.cy().hasCompoundNodes();if(t)return n?t.effectiveOpacity()===0:t.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return!!t._private.backgrounding}};function Ud(r,e){var t=r._private,n=t.data.parent?r.parents():null;if(n)for(var i=0;i<n.length;i++){var o=n[i];if(!e(o))return!1}return!0}function _v(r){var e=r.ok,t=r.edgeOkViaNode||r.ok,n=r.parentOk||r.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var o=this[0],l=i.hasCompoundNodes();if(o){var u=o._private;if(!e(o))return!1;if(o.isNode())return!l||Ud(o,n);var c=u.source,f=u.target;return t(c)&&(!l||Ud(c,t))&&(c===f||t(f)&&(!l||Ud(f,t)))}}}var to=Du("eleTakesUpSpace",function(r){return r.pstyle("display").value==="element"&&r.width()!==0&&(r.isNode()?r.height()!==0:!0)});dr.takesUpSpace=Ru("takesUpSpace",_v({ok:to}));var ok=Du("eleInteractive",function(r){return r.pstyle("events").value==="yes"&&r.pstyle("visibility").value==="visible"&&to(r)}),sk=Du("parentInteractive",function(r){return r.pstyle("visibility").value==="visible"&&to(r)});dr.interactive=Ru("interactive",_v({ok,parentOk:sk,edgeOkViaNode:to}));dr.noninteractive=function(){var r=this[0];if(r)return!r.interactive()};var lk=Du("eleVisible",function(r){return r.pstyle("visibility").value==="visible"&&r.pstyle("opacity").pfValue!==0&&to(r)}),uk=to;dr.visible=Ru("visible",_v({ok:lk,edgeOkViaNode:uk}));dr.hidden=function(){var r=this[0];if(r)return!r.visible()};dr.isBundledBezier=Ru("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});dr.bypass=dr.css=dr.style;dr.renderedCss=dr.renderedStyle;dr.removeBypass=dr.removeCss=dr.removeStyle;dr.pstyle=dr.parsedStyle;var wa={};function by(r){return function(){var e=arguments,t=[];if(e.length===2){var n=e[0],i=e[1];this.on(r.event,n,i)}else if(e.length===1&&_t(e[0])){var o=e[0];this.on(r.event,o)}else if(e.length===0||e.length===1&&yt(e[0])){for(var l=e.length===1?e[0]:null,u=0;u<this.length;u++){var c=this[u],f=!r.ableField||c._private[r.ableField],v=c._private[r.field]!=r.value;if(r.overrideAble){var h=r.overrideAble(c);if(h!==void 0&&(f=h,!h))return this}f&&(c._private[r.field]=r.value,v&&t.push(c))}var p=this.spawn(t);p.updateStyle(),p.emit(r.event),l&&p.emit(l)}return this}}function ro(r){wa[r.field]=function(){var e=this[0];if(e){if(r.overrideField){var t=r.overrideField(e);if(t!==void 0)return t}return e._private[r.field]}},wa[r.on]=by({event:r.on,field:r.field,ableField:r.ableField,overrideAble:r.overrideAble,value:!0}),wa[r.off]=by({event:r.off,field:r.field,ableField:r.ableField,overrideAble:r.overrideAble,value:!1})}ro({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});ro({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});ro({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});ro({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});wa.deselect=wa.unselect;wa.grabbed=function(){var r=this[0];if(r)return r._private.grabbed};ro({field:"active",on:"activate",off:"unactivate"});ro({field:"pannable",on:"panify",off:"unpanify"});wa.inactive=function(){var r=this[0];if(r)return!r._private.active};var Er={},Ey=function(e){return function(n){for(var i=this,o=[],l=0;l<i.length;l++){var u=i[l];if(u.isNode()){for(var c=!1,f=u.connectedEdges(),v=0;v<f.length;v++){var h=f[v],p=h.source(),y=h.target();if(e.noIncomingEdges&&y===u&&p!==u||e.noOutgoingEdges&&p===u&&y!==u){c=!0;break}}c||o.push(u)}}return this.spawn(o,!0).filter(n)}},Sy=function(e){return function(t){for(var n=this,i=[],o=0;o<n.length;o++){var l=n[o];if(l.isNode())for(var u=l.connectedEdges(),c=0;c<u.length;c++){var f=u[c],v=f.source(),h=f.target();e.outgoing&&v===l?(i.push(f),i.push(h)):e.incoming&&h===l&&(i.push(f),i.push(v))}}return this.spawn(i,!0).filter(t)}},Cy=function(e){return function(t){for(var n=this,i=[],o={};;){var l=e.outgoing?n.outgoers():n.incomers();if(l.length===0)break;for(var u=!1,c=0;c<l.length;c++){var f=l[c],v=f.id();o[v]||(o[v]=!0,i.push(f),u=!0)}if(!u)break;n=l}return this.spawn(i,!0).filter(t)}};Er.clearTraversalCache=function(){for(var r=0;r<this.length;r++)this[r]._private.traversalCache=null};je(Er,{roots:Ey({noIncomingEdges:!0}),leaves:Ey({noOutgoingEdges:!0}),outgoers:nn(Sy({outgoing:!0}),"outgoers"),successors:Cy({outgoing:!0}),incomers:nn(Sy({incoming:!0}),"incomers"),predecessors:Cy({})});je(Er,{neighborhood:nn(function(r){for(var e=[],t=this.nodes(),n=0;n<t.length;n++)for(var i=t[n],o=i.connectedEdges(),l=0;l<o.length;l++){var u=o[l],c=u.source(),f=u.target(),v=i===c?f:c;v.length>0&&e.push(v[0]),e.push(u[0])}return this.spawn(e,!0).filter(r)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Er.neighbourhood=Er.neighborhood;Er.closedNeighbourhood=Er.closedNeighborhood;Er.openNeighbourhood=Er.openNeighborhood;je(Er,{source:nn(function(e){var t=this[0],n;return t&&(n=t._private.source||t.cy().collection()),n&&e?n.filter(e):n},"source"),target:nn(function(e){var t=this[0],n;return t&&(n=t._private.target||t.cy().collection()),n&&e?n.filter(e):n},"target"),sources:ky({attr:"source"}),targets:ky({attr:"target"})});function ky(r){return function(t){for(var n=[],i=0;i<this.length;i++){var o=this[i],l=o._private[r.attr];l&&n.push(l)}return this.spawn(n,!0).filter(t)}}je(Er,{edgesWith:nn(Ty(),"edgesWith"),edgesTo:nn(Ty({thisIsSrc:!0}),"edgesTo")});function Ty(r){return function(t){var n=[],i=this._private.cy,o=r||{};qe(t)&&(t=i.$(t));for(var l=0;l<t.length;l++)for(var u=t[l]._private.edges,c=0;c<u.length;c++){var f=u[c],v=f._private.data,h=this.hasElementWithId(v.source)&&t.hasElementWithId(v.target),p=t.hasElementWithId(v.source)&&this.hasElementWithId(v.target),y=h||p;y&&((o.thisIsSrc||o.thisIsTgt)&&(o.thisIsSrc&&!h||o.thisIsTgt&&!p)||n.push(f))}return this.spawn(n,!0)}}je(Er,{connectedEdges:nn(function(r){for(var e=[],t=this,n=0;n<t.length;n++){var i=t[n];if(i.isNode())for(var o=i._private.edges,l=0;l<o.length;l++){var u=o[l];e.push(u)}}return this.spawn(e,!0).filter(r)},"connectedEdges"),connectedNodes:nn(function(r){for(var e=[],t=this,n=0;n<t.length;n++){var i=t[n];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(r)},"connectedNodes"),parallelEdges:nn(Py(),"parallelEdges"),codirectedEdges:nn(Py({codirected:!0}),"codirectedEdges")});function Py(r){var e={codirected:!1};return r=je({},e,r),function(n){for(var i=[],o=this.edges(),l=r,u=0;u<o.length;u++)for(var c=o[u],f=c._private,v=f.source,h=v._private.data.id,p=f.data.target,y=v._private.edges,m=0;m<y.length;m++){var E=y[m],x=E._private.data,S=x.target,b=x.source,k=S===p&&b===h,T=h===S&&p===b;(l.codirected&&k||!l.codirected&&(k||T))&&i.push(E)}return this.spawn(i,!0).filter(n)}}je(Er,{components:function(e){var t=this,n=t.cy(),i=n.collection(),o=e==null?t.nodes():e.nodes(),l=[];e!=null&&o.empty()&&(o=e.sources());var u=function(v,h){i.merge(v),o.unmerge(v),h.merge(v)};if(o.empty())return t.spawn();var c=function(){var v=n.collection();l.push(v);var h=o[0];u(h,v),t.bfs({directed:!1,roots:h,visit:function(y){return u(y,v)}}),v.forEach(function(p){p.connectedEdges().forEach(function(y){t.has(y)&&v.has(y.source())&&v.has(y.target())&&v.merge(y)})})};do c();while(o.length>0);return l},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Er.componentsOf=Er.components;var vr=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){Bt("A collection must have a reference to the core");return}var o=new Vn,l=!1;if(!t)t=[];else if(t.length>0&&ft(t[0])&&!vs(t[0])){l=!0;for(var u=[],c=new Ji,f=0,v=t.length;f<v;f++){var h=t[f];h.data==null&&(h.data={});var p=h.data;if(p.id==null)p.id=T0();else if(e.hasElementWithId(p.id)||c.has(p.id))continue;var y=new wu(e,h,!1);u.push(y),c.add(p.id)}t=u}this.length=0;for(var m=0,E=t.length;m<E;m++){var x=t[m][0];if(x!=null){var S=x._private.data.id;(!n||!o.has(S))&&(n&&o.set(S,{index:this.length,ele:x}),this[this.length]=x,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(b){this.lazyMap=b},rebuildMap:function(){for(var k=this.lazyMap=new Vn,T=this.eles,D=0;D<T.length;D++){var R=T[D];k.set(R.id(),{index:D,ele:R})}}},n&&(this._private.map=o),l&&!i&&this.restore()},bt=wu.prototype=vr.prototype=Object.create(Array.prototype);bt.instanceString=function(){return"collection"};bt.spawn=function(r,e){return new vr(this.cy(),r,e)};bt.spawnSelf=function(){return this.spawn(this)};bt.cy=function(){return this._private.cy};bt.renderer=function(){return this._private.cy.renderer()};bt.element=function(){return this[0]};bt.collection=function(){return d0(this)?this:new vr(this._private.cy,[this])};bt.unique=function(){return new vr(this._private.cy,this,!0)};bt.hasElementWithId=function(r){return r=""+r,this._private.map.has(r)};bt.getElementById=function(r){r=""+r;var e=this._private.cy,t=this._private.map.get(r);return t?t.ele:new vr(e)};bt.$id=bt.getElementById;bt.poolIndex=function(){var r=this._private.cy,e=r._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index};bt.indexOf=function(r){var e=r[0]._private.data.id;return this._private.map.get(e).index};bt.indexOfId=function(r){return r=""+r,this._private.map.get(r).index};bt.json=function(r){var e=this.element(),t=this.cy();if(e==null&&r)return this;if(e!=null){var n=e._private;if(ft(r)){if(t.startBatch(),r.data){e.data(r.data);var i=n.data;if(e.isEdge()){var o=!1,l={},u=r.data.source,c=r.data.target;u!=null&&u!=i.source&&(l.source=""+u,o=!0),c!=null&&c!=i.target&&(l.target=""+c,o=!0),o&&(e=e.move(l))}else{var f="parent"in r.data,v=r.data.parent;f&&(v!=null||i.parent!=null)&&v!=i.parent&&(v===void 0&&(v=null),v!=null&&(v=""+v),e=e.move({parent:v}))}}r.position&&e.position(r.position);var h=function(E,x,S){var b=r[E];b!=null&&b!==n[E]&&(b?e[x]():e[S]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),h("pannable","panify","unpanify"),r.classes!=null&&e.classes(r.classes),t.endBatch(),this}else if(r===void 0){var p={data:kn(n.data),position:kn(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};p.classes="";var y=0;return n.classes.forEach(function(m){return p.classes+=y++===0?m:" "+m}),p}}};bt.jsons=function(){for(var r=[],e=0;e<this.length;e++){var t=this[e],n=t.json();r.push(n)}return r};bt.clone=function(){for(var r=this.cy(),e=[],t=0;t<this.length;t++){var n=this[t],i=n.json(),o=new wu(r,i,!1);e.push(o)}return new vr(r,e)};bt.copy=bt.clone;bt.restore=function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this,n=t.cy(),i=n._private,o=[],l=[],u,c=0,f=t.length;c<f;c++){var v=t[c];e&&!v.removed()||(v.isNode()?o.push(v):l.push(v))}u=o.concat(l);var h,p=function(){u.splice(h,1),h--};for(h=0;h<u.length;h++){var y=u[h],m=y._private,E=m.data;if(y.clearTraversalCache(),!(!e&&!m.removed)){if(E.id===void 0)E.id=T0();else if(Ee(E.id))E.id=""+E.id;else if(xa(E.id)||!qe(E.id)){Bt("Can not create element with invalid string ID `"+E.id+"`"),p();continue}else if(n.hasElementWithId(E.id)){Bt("Can not create second element with ID `"+E.id+"`"),p();continue}}var x=E.id;if(y.isNode()){var S=m.position;S.x==null&&(S.x=0),S.y==null&&(S.y=0)}if(y.isEdge()){for(var b=y,k=["source","target"],T=k.length,D=!1,R=0;R<T;R++){var P=k[R],B=E[P];Ee(B)&&(B=E[P]=""+E[P]),B==null||B===""?(Bt("Can not create edge `"+x+"` with unspecified "+P),D=!0):n.hasElementWithId(B)||(Bt("Can not create edge `"+x+"` with nonexistant "+P+" `"+B+"`"),D=!0)}if(D){p();continue}var L=n.getElementById(E.source),M=n.getElementById(E.target);L.same(M)?L._private.edges.push(b):(L._private.edges.push(b),M._private.edges.push(b)),b._private.source=L,b._private.target=M}m.map=new Vn,m.map.set(x,{ele:y,index:0}),m.removed=!1,e&&n.addToPool(y)}for(var z=0;z<o.length;z++){var O=o[z],_=O._private.data;Ee(_.parent)&&(_.parent=""+_.parent);var W=_.parent,U=W!=null;if(U||O._private.parent){var H=O._private.parent?n.collection().merge(O._private.parent):n.getElementById(W);if(H.empty())_.parent=void 0;else if(H[0].removed())pt("Node added with missing parent, reference to parent removed"),_.parent=void 0,O._private.parent=null;else{for(var q=!1,V=H;!V.empty();){if(O.same(V)){q=!0,_.parent=void 0;break}V=V.parent()}q||(H[0]._private.children.push(O),O._private.parent=H[0],i.hasCompoundNodes=!0)}}}if(u.length>0){for(var G=u.length===t.length?t:new vr(n,u),j=0;j<G.length;j++){var N=G[j];N.isNode()||(N.parallelEdges().clearTraversalCache(),N.source().clearTraversalCache(),N.target().clearTraversalCache())}var F;i.hasCompoundNodes?F=n.collection().merge(G).merge(G.connectedNodes()).merge(G.parent()):F=G,F.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(r),r?G.emitAndNotify("add"):e&&G.emit("add")}return t};bt.removed=function(){var r=this[0];return r&&r._private.removed};bt.inside=function(){var r=this[0];return r&&!r._private.removed};bt.remove=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this,n=[],i={},o=t._private.cy;function l(W){for(var U=W._private.edges,H=0;H<U.length;H++)c(U[H])}function u(W){for(var U=W._private.children,H=0;H<U.length;H++)c(U[H])}function c(W){var U=i[W.id()];e&&W.removed()||U||(i[W.id()]=!0,W.isNode()?(n.push(W),l(W),u(W)):n.unshift(W))}for(var f=0,v=t.length;f<v;f++){var h=t[f];c(h)}function p(W,U){var H=W._private.edges;ba(H,U),W.clearTraversalCache()}function y(W){W.clearTraversalCache()}var m=[];m.ids={};function E(W,U){U=U[0],W=W[0];var H=W._private.children,q=W.id();ba(H,U),U._private.parent=null,m.ids[q]||(m.ids[q]=!0,m.push(W))}t.dirtyCompoundBoundsCache(),e&&o.removeFromPool(n);for(var x=0;x<n.length;x++){var S=n[x];if(S.isEdge()){var b=S.source()[0],k=S.target()[0];p(b,S),p(k,S);for(var T=S.parallelEdges(),D=0;D<T.length;D++){var R=T[D];y(R),R.isBundledBezier()&&R.dirtyBoundingBoxCache()}}else{var P=S.parent();P.length!==0&&E(P,S)}e&&(S._private.removed=!0)}var B=o._private.elements;o._private.hasCompoundNodes=!1;for(var L=0;L<B.length;L++){var M=B[L];if(M.isParent()){o._private.hasCompoundNodes=!0;break}}var z=new vr(this.cy(),n);z.size()>0&&(r?z.emitAndNotify("remove"):e&&z.emit("remove"));for(var O=0;O<m.length;O++){var _=m[O];(!e||!_.removed())&&_.updateStyle()}return z};bt.move=function(r){var e=this._private.cy,t=this,n=!1,i=!1,o=function(m){return m==null?m:""+m};if(r.source!==void 0||r.target!==void 0){var l=o(r.source),u=o(r.target),c=l!=null&&e.hasElementWithId(l),f=u!=null&&e.hasElementWithId(u);(c||f)&&(e.batch(function(){t.remove(n,i),t.emitAndNotify("moveout");for(var y=0;y<t.length;y++){var m=t[y],E=m._private.data;m.isEdge()&&(c&&(E.source=l),f&&(E.target=u))}t.restore(n,i)}),t.emitAndNotify("move"))}else if(r.parent!==void 0){var v=o(r.parent),h=v===null||e.hasElementWithId(v);if(h){var p=v===null?void 0:v;e.batch(function(){var y=t.remove(n,i);y.emitAndNotify("moveout");for(var m=0;m<t.length;m++){var E=t[m],x=E._private.data;E.isNode()&&(x.parent=p)}y.restore(n,i)}),t.emitAndNotify("move")}}return this};[_0,x2,Kl,ya,Zi,z2,Tu,Z2,u1,c1,nk,uu,Yl,dr,wa,Er].forEach(function(r){je(bt,r)});var ck={add:function(e){var t,n=this;if(Kr(e)){var i=e;if(i._private.cy===n)t=i.restore();else{for(var o=[],l=0;l<i.length;l++){var u=i[l];o.push(u.json())}t=new vr(n,o)}}else if(yt(e)){var c=e;t=new vr(n,c)}else if(ft(e)&&(yt(e.nodes)||yt(e.edges))){for(var f=e,v=[],h=["nodes","edges"],p=0,y=h.length;p<y;p++){var m=h[p],E=f[m];if(yt(E))for(var x=0,S=E.length;x<S;x++){var b=je({group:m},E[x]);v.push(b)}}t=new vr(n,v)}else{var k=e;t=new wu(n,k).collection()}return t},remove:function(e){if(!Kr(e)){if(qe(e)){var t=e;e=this.$(t)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function fk(r,e,t,n){var i=4,o=.001,l=1e-7,u=10,c=11,f=1/(c-1),v=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var h=0;h<4;++h)if(typeof arguments[h]!="number"||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;r=Math.min(r,1),t=Math.min(t,1),r=Math.max(r,0),t=Math.max(t,0);var p=v?new Float32Array(c):new Array(c);function y(M,z){return 1-3*z+3*M}function m(M,z){return 3*z-6*M}function E(M){return 3*M}function x(M,z,O){return((y(z,O)*M+m(z,O))*M+E(z))*M}function S(M,z,O){return 3*y(z,O)*M*M+2*m(z,O)*M+E(z)}function b(M,z){for(var O=0;O<i;++O){var _=S(z,r,t);if(_===0)return z;var W=x(z,r,t)-M;z-=W/_}return z}function k(){for(var M=0;M<c;++M)p[M]=x(M*f,r,t)}function T(M,z,O){var _,W,U=0;do W=z+(O-z)/2,_=x(W,r,t)-M,_>0?O=W:z=W;while(Math.abs(_)>l&&++U<u);return W}function D(M){for(var z=0,O=1,_=c-1;O!==_&&p[O]<=M;++O)z+=f;--O;var W=(M-p[O])/(p[O+1]-p[O]),U=z+W*f,H=S(U,r,t);return H>=o?b(M,U):H===0?U:T(M,z,z+f)}var R=!1;function P(){R=!0,(r!==e||t!==n)&&k()}var B=function(z){return R||P(),r===e&&t===n?z:z===0?0:z===1?1:x(D(z),e,n)};B.getControlPoints=function(){return[{x:r,y:e},{x:t,y:n}]};var L="generateBezier("+[r,e,t,n]+")";return B.toString=function(){return L},B}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var dk=(function(){function r(n){return-n.tension*n.x-n.friction*n.v}function e(n,i,o){var l={x:n.x+o.dx*i,v:n.v+o.dv*i,tension:n.tension,friction:n.friction};return{dx:l.v,dv:r(l)}}function t(n,i){var o={dx:n.v,dv:r(n)},l=e(n,i*.5,o),u=e(n,i*.5,l),c=e(n,i,u),f=1/6*(o.dx+2*(l.dx+u.dx)+c.dx),v=1/6*(o.dv+2*(l.dv+u.dv)+c.dv);return n.x=n.x+f*i,n.v=n.v+v*i,n}return function n(i,o,l){var u={x:-1,v:0,tension:null,friction:null},c=[0],f=0,v=1/1e4,h=16/1e3,p,y,m;for(i=parseFloat(i)||500,o=parseFloat(o)||20,l=l||null,u.tension=i,u.friction=o,p=l!==null,p?(f=n(i,o),y=f/l*h):y=h;m=t(m||u,y),c.push(1+m.x),f+=16,Math.abs(m.x)>v&&Math.abs(m.v)>v;);return p?function(E){return c[E*(c.length-1)|0]}:f}})(),xt=function(e,t,n,i){var o=fk(e,t,n,i);return function(l,u,c){return l+(u-l)*o(c)}},Xl={linear:function(e,t,n){return e+(t-e)*n},ease:xt(.25,.1,.25,1),"ease-in":xt(.42,0,1,1),"ease-out":xt(0,0,.58,1),"ease-in-out":xt(.42,0,.58,1),"ease-in-sine":xt(.47,0,.745,.715),"ease-out-sine":xt(.39,.575,.565,1),"ease-in-out-sine":xt(.445,.05,.55,.95),"ease-in-quad":xt(.55,.085,.68,.53),"ease-out-quad":xt(.25,.46,.45,.94),"ease-in-out-quad":xt(.455,.03,.515,.955),"ease-in-cubic":xt(.55,.055,.675,.19),"ease-out-cubic":xt(.215,.61,.355,1),"ease-in-out-cubic":xt(.645,.045,.355,1),"ease-in-quart":xt(.895,.03,.685,.22),"ease-out-quart":xt(.165,.84,.44,1),"ease-in-out-quart":xt(.77,0,.175,1),"ease-in-quint":xt(.755,.05,.855,.06),"ease-out-quint":xt(.23,1,.32,1),"ease-in-out-quint":xt(.86,0,.07,1),"ease-in-expo":xt(.95,.05,.795,.035),"ease-out-expo":xt(.19,1,.22,1),"ease-in-out-expo":xt(1,0,0,1),"ease-in-circ":xt(.6,.04,.98,.335),"ease-out-circ":xt(.075,.82,.165,1),"ease-in-out-circ":xt(.785,.135,.15,.86),spring:function(e,t,n){if(n===0)return Xl.linear;var i=dk(e,t,n);return function(o,l,u){return o+(l-o)*i(u)}},"cubic-bezier":xt};function Dy(r,e,t,n,i){if(n===1||e===t)return t;var o=i(e,t,n);return r==null||((r.roundValue||r.color)&&(o=Math.round(o)),r.min!==void 0&&(o=Math.max(o,r.min)),r.max!==void 0&&(o=Math.min(o,r.max))),o}function Ry(r,e){return r.pfValue!=null||r.value!=null?r.pfValue!=null&&(e==null||e.type.units!=="%")?r.pfValue:r.value:r}function zi(r,e,t,n,i){var o=i!=null?i.type:null;t<0?t=0:t>1&&(t=1);var l=Ry(r,i),u=Ry(e,i);if(Ee(l)&&Ee(u))return Dy(o,l,u,t,n);if(yt(l)&&yt(u)){for(var c=[],f=0;f<u.length;f++){var v=l[f],h=u[f];if(v!=null&&h!=null){var p=Dy(o,v,h,t,n);c.push(p)}else c.push(h)}return c}}function vk(r,e,t,n){var i=!n,o=r._private,l=e._private,u=l.easing,c=l.startTime,f=n?r:r.cy(),v=f.style();if(!l.easingImpl)if(u==null)l.easingImpl=Xl.linear;else{var h;if(qe(u)){var p=v.parse("transition-timing-function",u);h=p.value}else h=u;var y,m;qe(h)?(y=h,m=[]):(y=h[1],m=h.slice(2).map(function(G){return+G})),m.length>0?(y==="spring"&&m.push(l.duration),l.easingImpl=Xl[y].apply(null,m)):l.easingImpl=Xl[y]}var E=l.easingImpl,x;if(l.duration===0?x=1:x=(t-c)/l.duration,l.applying&&(x=l.progress),x<0?x=0:x>1&&(x=1),l.delay==null){var S=l.startPosition,b=l.position;if(b&&i&&!r.locked()){var k={};jo(S.x,b.x)&&(k.x=zi(S.x,b.x,x,E)),jo(S.y,b.y)&&(k.y=zi(S.y,b.y,x,E)),r.position(k)}var T=l.startPan,D=l.pan,R=o.pan,P=D!=null&&n;P&&(jo(T.x,D.x)&&(R.x=zi(T.x,D.x,x,E)),jo(T.y,D.y)&&(R.y=zi(T.y,D.y,x,E)),r.emit("pan"));var B=l.startZoom,L=l.zoom,M=L!=null&&n;M&&(jo(B,L)&&(o.zoom=is(o.minZoom,zi(B,L,x,E),o.maxZoom)),r.emit("zoom")),(P||M)&&r.emit("viewport");var z=l.style;if(z&&z.length>0&&i){for(var O=0;O<z.length;O++){var _=z[O],W=_.name,U=_,H=l.startStyle[W],q=v.properties[H.name],V=zi(H,U,x,E,q);v.overrideBypass(r,W,V)}r.emit("style")}}return l.progress=x,x}function jo(r,e){return r==null||e==null?!1:Ee(r)&&Ee(e)?!0:!!(r&&e)}function hk(r,e,t,n){var i=e._private;i.started=!0,i.startTime=t-i.progress*i.duration}function By(r,e){var t=e._private.aniEles,n=[];function i(v,h){var p=v._private,y=p.animation.current,m=p.animation.queue,E=!1;if(y.length===0){var x=m.shift();x&&y.push(x)}for(var S=function(R){for(var P=R.length-1;P>=0;P--){var B=R[P];B()}R.splice(0,R.length)},b=y.length-1;b>=0;b--){var k=y[b],T=k._private;if(T.stopped){y.splice(b,1),T.hooked=!1,T.playing=!1,T.started=!1,S(T.frames);continue}!T.playing&&!T.applying||(T.playing&&T.applying&&(T.applying=!1),T.started||hk(v,k,r),vk(v,k,r,h),T.applying&&(T.applying=!1),S(T.frames),T.step!=null&&T.step(r),k.completed()&&(y.splice(b,1),T.hooked=!1,T.playing=!1,T.started=!1,S(T.completes)),E=!0)}return!h&&y.length===0&&m.length===0&&n.push(v),E}for(var o=!1,l=0;l<t.length;l++){var u=t[l],c=i(u);o=o||c}var f=i(e,!0);(o||f)&&(t.length>0?e.notify("draw",t):e.notify("draw")),t.unmerge(n),e.emit("step")}var pk={animate:ht.animate(),animation:ht.animation(),animated:ht.animated(),clearQueue:ht.clearQueue(),delay:ht.delay(),delayAnimation:ht.delayAnimation(),stop:ht.stop(),addToAnimationPool:function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function t(){e._private.animationsRunning&&au(function(o){By(o,e),t()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(o,l){By(l,e)},n.beforeRenderPriorities.animations):t()}},gk={qualifierCompare:function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},eventMatches:function(e,t,n){var i=t.qualifier;return i!=null?e!==n.target&&vs(n.target)&&i.matches(n.target):!0},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,n){return t.qualifier!=null?n.target:e}},Fl=function(e){return qe(e)?new Sa(e):e},v1={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Pu(gk,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,Fl(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,Fl(t),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,n){return this.emitter().one(e,Fl(t),n),this},once:function(e,t,n){return this.emitter().one(e,Fl(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};ht.eventAliasesOn(v1);var cv={png:function(e){var t=this._private.renderer;return e=e||{},t.png(e)},jpg:function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)}};cv.jpeg=cv.jpg;var Ql={layout:function(e){var t=this;if(e==null){Bt("Layout options must be specified to make a layout");return}if(e.name==null){Bt("A `name` must be specified to make a layout");return}var n=e.name,i=t.extension("layout",n);if(i==null){Bt("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var o;qe(e.eles)?o=t.$(e.eles):o=e.eles!=null?e.eles:t.$();var l=new i(je({},e,{cy:t,eles:o}));return l}};Ql.createLayout=Ql.makeLayout=Ql.layout;var mk={notify:function(e,t){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();t!=null&&i.merge(t);return}if(n.notificationsEnabled){var o=this.renderer();this.destroyed()||!o||o.notify(e,t)}},notifications:function(e){var t=this._private;return e===void 0?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var i=e.batchNotifications[n];i.empty()?t.notify(n):t.notify(n,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var n=Object.keys(e),i=0;i<n.length;i++){var o=n[i],l=e[o],u=t.getElementById(o);u.data(l)}})}},yk=hr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),fv={renderTo:function(e,t,n,i){var o=this._private.renderer;return o.renderTo(e,t,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,n=t.extension("renderer",e.name);if(n==null){Bt("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&pt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=yk(e);i.cy=t,t._private.renderer=new n(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var i=n._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};fv.invalidateDimensions=fv.resize;var Zl={collection:function(e,t){return qe(e)?this.$(e):Kr(e)?e.collection():yt(e)?(t||(t={}),new vr(this,e,t.unique,t.removed)):new vr(this)},nodes:function(e){var t=this.$(function(n){return n.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(n){return n.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};Zl.elements=Zl.filter=Zl.$;var lr={},Jo="t",wk="f";lr.apply=function(r){for(var e=this,t=e._private,n=t.cy,i=n.collection(),o=0;o<r.length;o++){var l=r[o],u=e.getContextMeta(l);if(!u.empty){var c=e.getContextStyle(u),f=e.applyContextStyle(u,c,l);l._private.appliedInitStyle?e.updateTransitions(l,f.diffProps):l._private.appliedInitStyle=!0;var v=e.updateStyleHints(l);v&&i.push(l)}}return i};lr.getPropertiesDiff=function(r,e){var t=this,n=t._private.propDiffs=t._private.propDiffs||{},i=r+"-"+e,o=n[i];if(o)return o;for(var l=[],u={},c=0;c<t.length;c++){var f=t[c],v=r[c]===Jo,h=e[c]===Jo,p=v!==h,y=f.mappedProperties.length>0;if(p||h&&y){var m=void 0;p&&y||p?m=f.properties:y&&(m=f.mappedProperties);for(var E=0;E<m.length;E++){for(var x=m[E],S=x.name,b=!1,k=c+1;k<t.length;k++){var T=t[k],D=e[k]===Jo;if(D&&(b=T.properties[x.name]!=null,b))break}!u[S]&&!b&&(u[S]=!0,l.push(S))}}}return n[i]=l,l};lr.getContextMeta=function(r){for(var e=this,t="",n,i=r._private.styleCxtKey||"",o=0;o<e.length;o++){var l=e[o],u=l.selector&&l.selector.matches(r);u?t+=Jo:t+=wk}return n=e.getPropertiesDiff(i,t),r._private.styleCxtKey=t,{key:t,diffPropNames:n,empty:n.length===0}};lr.getContextStyle=function(r){var e=r.key,t=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var i={_private:{key:e}},o=0;o<t.length;o++){var l=t[o],u=e[o]===Jo;if(u)for(var c=0;c<l.properties.length;c++){var f=l.properties[c];i[f.name]=f}}return n[e]=i,i};lr.applyContextStyle=function(r,e,t){for(var n=this,i=r.diffPropNames,o={},l=n.types,u=0;u<i.length;u++){var c=i[u],f=e[c],v=t.pstyle(c);if(!f)if(v)v.bypass?f={name:c,deleteBypassed:!0}:f={name:c,delete:!0};else continue;if(v!==f){if(f.mapped===l.fn&&v!=null&&v.mapping!=null&&v.mapping.value===f.value){var h=v.mapping,p=h.fnValue=f.value(t);if(p===h.prevFnValue)continue}var y=o[c]={prev:v};n.applyParsedProperty(t,f),y.next=t.pstyle(c),y.next&&y.next.bypass&&(y.next=y.next.bypassed)}}return{diffProps:o}};lr.updateStyleHints=function(r){var e=r._private,t=this,n=t.propertyGroupNames,i=t.propertyGroupKeys,o=function(ie,de,be){return t.getPropertiesHash(ie,de,be)},l=e.styleKey;if(r.removed())return!1;var u=e.group==="nodes",c=r._private.style;n=Object.keys(c);for(var f=0;f<i.length;f++){var v=i[f];e.styleKeys[v]=[Qa,Wi]}for(var h=function(ie,de){return e.styleKeys[de][0]=rs(ie,e.styleKeys[de][0])},p=function(ie,de){return e.styleKeys[de][1]=ns(ie,e.styleKeys[de][1])},y=function(ie,de){h(ie,de),p(ie,de)},m=function(ie,de){for(var be=0;be<ie.length;be++){var Ie=ie.charCodeAt(be);h(Ie,de),p(Ie,de)}},E=2e9,x=function(ie){return-128<ie&&ie<128&&Math.floor(ie)!==ie?E-(ie*1024|0):ie},S=0;S<n.length;S++){var b=n[S],k=c[b];if(k!=null){var T=this.properties[b],D=T.type,R=T.groupKey,P=void 0;T.hashOverride!=null?P=T.hashOverride(r,k):k.pfValue!=null&&(P=k.pfValue);var B=T.enums==null?k.value:null,L=P!=null,M=B!=null,z=L||M,O=k.units;if(D.number&&z&&!D.multiple){var _=L?P:B;y(x(_),R),!L&&O!=null&&m(O,R)}else m(k.strValue,R)}}for(var W=[Qa,Wi],U=0;U<i.length;U++){var H=i[U],q=e.styleKeys[H];W[0]=rs(q[0],W[0]),W[1]=ns(q[1],W[1])}e.styleKey=IE(W[0],W[1]);var V=e.styleKeys;e.labelDimsKey=da(V.labelDimensions);var G=o(r,["label"],V.labelDimensions);if(e.labelKey=da(G),e.labelStyleKey=da(Al(V.commonLabel,G)),!u){var j=o(r,["source-label"],V.labelDimensions);e.sourceLabelKey=da(j),e.sourceLabelStyleKey=da(Al(V.commonLabel,j));var N=o(r,["target-label"],V.labelDimensions);e.targetLabelKey=da(N),e.targetLabelStyleKey=da(Al(V.commonLabel,N))}if(u){var F=e.styleKeys,ee=F.nodeBody,ae=F.nodeBorder,ne=F.nodeOutline,se=F.backgroundImage,fe=F.compound,ge=F.pie,le=F.stripe,Q=[ee,ae,ne,se,fe,ge,le].filter(function(Z){return Z!=null}).reduce(Al,[Qa,Wi]);e.nodeKey=da(Q),e.hasPie=ge!=null&&ge[0]!==Qa&&ge[1]!==Wi,e.hasStripe=le!=null&&le[0]!==Qa&&le[1]!==Wi}return l!==e.styleKey};lr.clearStyleHints=function(r){var e=r._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null,e.hasStripe=null};lr.applyParsedProperty=function(r,e){var t=this,n=e,i=r._private.style,o,l=t.types,u=t.properties[n.name].type,c=n.bypass,f=i[n.name],v=f&&f.bypass,h=r._private,p="mapping",y=function(ee){return ee==null?null:ee.pfValue!=null?ee.pfValue:ee.value},m=function(){var ee=y(f),ae=y(n);t.checkTriggers(r,n.name,ee,ae)};if(e.name==="curve-style"&&r.isEdge()&&(e.value!=="bezier"&&r.isLoop()||e.value==="haystack"&&(r.source().isParent()||r.target().isParent()))&&(n=e=this.parse(e.name,"bezier",c)),n.delete)return i[n.name]=void 0,m(),!0;if(n.deleteBypassed)return f?f.bypass?(f.bypassed=void 0,m(),!0):!1:(m(),!0);if(n.deleteBypass)return f?f.bypass?(i[n.name]=f.bypassed,m(),!0):!1:(m(),!0);var E=function(){pt("Do not assign mappings to elements without corresponding data (i.e. ele `"+r.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case l.mapData:{for(var x=n.field.split("."),S=h.data,b=0;b<x.length&&S;b++){var k=x[b];S=S[k]}if(S==null)return E(),!1;var T;if(Ee(S)){var D=n.fieldMax-n.fieldMin;D===0?T=0:T=(S-n.fieldMin)/D}else return pt("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+S+"` for `"+r.id()+"` is non-numeric)"),!1;if(T<0?T=0:T>1&&(T=1),u.color){var R=n.valueMin[0],P=n.valueMax[0],B=n.valueMin[1],L=n.valueMax[1],M=n.valueMin[2],z=n.valueMax[2],O=n.valueMin[3]==null?1:n.valueMin[3],_=n.valueMax[3]==null?1:n.valueMax[3],W=[Math.round(R+(P-R)*T),Math.round(B+(L-B)*T),Math.round(M+(z-M)*T),Math.round(O+(_-O)*T)];o={bypass:n.bypass,name:n.name,value:W,strValue:"rgb("+W[0]+", "+W[1]+", "+W[2]+")"}}else if(u.number){var U=n.valueMin+(n.valueMax-n.valueMin)*T;o=this.parse(n.name,U,n.bypass,p)}else return!1;if(!o)return E(),!1;o.mapping=n,n=o;break}case l.data:{for(var H=n.field.split("."),q=h.data,V=0;V<H.length&&q;V++){var G=H[V];q=q[G]}if(q!=null&&(o=this.parse(n.name,q,n.bypass,p)),!o)return E(),!1;o.mapping=n,n=o;break}case l.fn:{var j=n.value,N=n.fnValue!=null?n.fnValue:j(r);if(n.prevFnValue=N,N==null)return pt("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+r.id()+"` is null)"),!1;if(o=this.parse(n.name,N,n.bypass,p),!o)return pt("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+r.id()+"` is invalid)"),!1;o.mapping=kn(n),n=o;break}case void 0:break;default:return!1}return c?(v?n.bypassed=f.bypassed:n.bypassed=f,i[n.name]=n):v?f.bypassed=n:i[n.name]=n,m(),!0};lr.cleanElements=function(r,e){for(var t=0;t<r.length;t++){var n=r[t];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var i=n._private.style,o=Object.keys(i),l=0;l<o.length;l++){var u=o[l],c=i[u];c!=null&&(c.bypass?c.bypassed=null:i[u]=null)}}};lr.update=function(){var r=this._private.cy,e=r.mutableElements();e.updateStyle()};lr.updateTransitions=function(r,e){var t=this,n=r._private,i=r.pstyle("transition-property").value,o=r.pstyle("transition-duration").pfValue,l=r.pstyle("transition-delay").pfValue;if(i.length>0&&o>0){for(var u={},c=!1,f=0;f<i.length;f++){var v=i[f],h=r.pstyle(v),p=e[v];if(p){var y=p.prev,m=y,E=p.next!=null?p.next:h,x=!1,S=void 0,b=1e-6;m&&(Ee(m.pfValue)&&Ee(E.pfValue)?(x=E.pfValue-m.pfValue,S=m.pfValue+b*x):Ee(m.value)&&Ee(E.value)?(x=E.value-m.value,S=m.value+b*x):yt(m.value)&&yt(E.value)&&(x=m.value[0]!==E.value[0]||m.value[1]!==E.value[1]||m.value[2]!==E.value[2],S=m.strValue),x&&(u[v]=E.strValue,this.applyBypass(r,v,S),c=!0))}}if(!c)return;n.transitioning=!0,new eo(function(k){l>0?r.delayAnimation(l).play().promise().then(k):k()}).then(function(){return r.animation({style:u,duration:o,easing:r.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){t.removeBypasses(r,i),r.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(r,i),r.emitAndNotify("style"),n.transitioning=!1)};lr.checkTrigger=function(r,e,t,n,i,o){var l=this.properties[e],u=i(l);r.removed()||u!=null&&u(t,n,r)&&o(l)};lr.checkZOrderTrigger=function(r,e,t,n){var i=this;this.checkTrigger(r,e,t,n,function(o){return o.triggersZOrder},function(){i._private.cy.notify("zorder",r)})};lr.checkBoundsTrigger=function(r,e,t,n){this.checkTrigger(r,e,t,n,function(i){return i.triggersBounds},function(i){r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache()})};lr.checkConnectedEdgesBoundsTrigger=function(r,e,t,n){this.checkTrigger(r,e,t,n,function(i){return i.triggersBoundsOfConnectedEdges},function(i){r.connectedEdges().forEach(function(o){o.dirtyBoundingBoxCache()})})};lr.checkParallelEdgesBoundsTrigger=function(r,e,t,n){this.checkTrigger(r,e,t,n,function(i){return i.triggersBoundsOfParallelEdges},function(i){r.parallelEdges().forEach(function(o){o.dirtyBoundingBoxCache()})})};lr.checkTriggers=function(r,e,t,n){r.dirtyStyleCache(),this.checkZOrderTrigger(r,e,t,n),this.checkBoundsTrigger(r,e,t,n),this.checkConnectedEdgesBoundsTrigger(r,e,t,n),this.checkParallelEdgesBoundsTrigger(r,e,t,n)};var xs={};xs.applyBypass=function(r,e,t,n){var i=this,o=[],l=!0;if(e==="*"||e==="**"){if(t!==void 0)for(var u=0;u<i.properties.length;u++){var c=i.properties[u],f=c.name,v=this.parse(f,t,!0);v&&o.push(v)}}else if(qe(e)){var h=this.parse(e,t,!0);h&&o.push(h)}else if(ft(e)){var p=e;n=t;for(var y=Object.keys(p),m=0;m<y.length;m++){var E=y[m],x=p[E];if(x===void 0&&(x=p[mu(E)]),x!==void 0){var S=this.parse(E,x,!0);S&&o.push(S)}}}else return!1;if(o.length===0)return!1;for(var b=!1,k=0;k<r.length;k++){for(var T=r[k],D={},R=void 0,P=0;P<o.length;P++){var B=o[P];if(n){var L=T.pstyle(B.name);R=D[B.name]={prev:L}}b=this.applyParsedProperty(T,kn(B))||b,n&&(R.next=T.pstyle(B.name))}b&&this.updateStyleHints(T),n&&this.updateTransitions(T,D,l)}return b};xs.overrideBypass=function(r,e,t){e=Cv(e);for(var n=0;n<r.length;n++){var i=r[n],o=i._private.style[e],l=this.properties[e].type,u=l.color,c=l.mutiple,f=o?o.pfValue!=null?o.pfValue:o.value:null;!o||!o.bypass?this.applyBypass(i,e,t):(o.value=t,o.pfValue!=null&&(o.pfValue=t),u?o.strValue="rgb("+t.join(",")+")":c?o.strValue=t.join(" "):o.strValue=""+t,this.updateStyleHints(i)),this.checkTriggers(i,e,f,t)}};xs.removeAllBypasses=function(r,e){return this.removeBypasses(r,this.propertyNames,e)};xs.removeBypasses=function(r,e,t){for(var n=!0,i=0;i<r.length;i++){for(var o=r[i],l={},u=0;u<e.length;u++){var c=e[u],f=this.properties[c],v=o.pstyle(f.name);if(!(!v||!v.bypass)){var h="",p=this.parse(c,h,!0),y=l[f.name]={prev:v};this.applyParsedProperty(o,p),y.next=o.pstyle(f.name)}}this.updateStyleHints(o),t&&this.updateTransitions(o,l,n)}};var Fv={};Fv.getEmSizeInPixels=function(){var r=this.containerCss("font-size");return r!=null?parseFloat(r):1};Fv.containerCss=function(r){var e=this._private.cy,t=e.container(),n=e.window();if(n&&t&&n.getComputedStyle)return n.getComputedStyle(t).getPropertyValue(r)};var Tn={};Tn.getRenderedStyle=function(r,e){return e?this.getStylePropertyValue(r,e,!0):this.getRawStyle(r,!0)};Tn.getRawStyle=function(r,e){var t=this;if(r=r[0],r){for(var n={},i=0;i<t.properties.length;i++){var o=t.properties[i],l=t.getStylePropertyValue(r,o.name,e);l!=null&&(n[o.name]=l,n[mu(o.name)]=l)}return n}};Tn.getIndexedStyle=function(r,e,t,n){var i=r.pstyle(e)[t][n];return i??r.cy().style().getDefaultProperty(e)[t][0]};Tn.getStylePropertyValue=function(r,e,t){var n=this;if(r=r[0],r){var i=n.properties[e];i.alias&&(i=i.pointsTo);var o=i.type,l=r.pstyle(i.name);if(l){var u=l.value,c=l.units,f=l.strValue;if(t&&o.number&&u!=null&&Ee(u)){var v=r.cy().zoom(),h=function(x){return x*v},p=function(x,S){return h(x)+S},y=yt(u),m=y?c.every(function(E){return E!=null}):c!=null;return m?y?u.map(function(E,x){return p(E,c[x])}).join(" "):p(u,c):y?u.map(function(E){return qe(E)?E:""+h(E)}).join(" "):""+h(u)}else if(f!=null)return f}return null}};Tn.getAnimationStartStyle=function(r,e){for(var t={},n=0;n<e.length;n++){var i=e[n],o=i.name,l=r.pstyle(o);l!==void 0&&(ft(l)?l=this.parse(o,l.strValue):l=this.parse(o,l)),l&&(t[o]=l)}return t};Tn.getPropsList=function(r){var e=this,t=[],n=r,i=e.properties;if(n)for(var o=Object.keys(n),l=0;l<o.length;l++){var u=o[l],c=n[u],f=i[u]||i[Cv(u)],v=this.parse(f.name,c);v&&t.push(v)}return t};Tn.getNonDefaultPropertiesHash=function(r,e,t){var n=t.slice(),i,o,l,u,c,f;for(c=0;c<e.length;c++)if(i=e[c],o=r.pstyle(i,!1),o!=null)if(o.pfValue!=null)n[0]=rs(u,n[0]),n[1]=ns(u,n[1]);else for(l=o.strValue,f=0;f<l.length;f++)u=l.charCodeAt(f),n[0]=rs(u,n[0]),n[1]=ns(u,n[1]);return n};Tn.getPropertiesHash=Tn.getNonDefaultPropertiesHash;var Bu={};Bu.appendFromJson=function(r){for(var e=this,t=0;t<r.length;t++){var n=r[t],i=n.selector,o=n.style||n.css,l=Object.keys(o);e.selector(i);for(var u=0;u<l.length;u++){var c=l[u],f=o[c];e.css(c,f)}}return e};Bu.fromJson=function(r){var e=this;return e.resetToDefault(),e.appendFromJson(r),e};Bu.json=function(){for(var r=[],e=this.defaultLength;e<this.length;e++){for(var t=this[e],n=t.selector,i=t.properties,o={},l=0;l<i.length;l++){var u=i[l];o[u.name]=u.strValue}r.push({selector:n?n.toString():"core",style:o})}return r};var Vv={};Vv.appendFromString=function(r){var e=this,t=this,n=""+r,i,o,l;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function u(){n.length>i.length?n=n.substr(i.length):n=""}function c(){o.length>l.length?o=o.substr(l.length):o=""}for(;;){var f=n.match(/^\s*$/);if(f)break;var v=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!v){pt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=v[0];var h=v[1];if(h!=="core"){var p=new Sa(h);if(p.invalid){pt("Skipping parsing of block: Invalid selector found in string stylesheet: "+h),u();continue}}var y=v[2],m=!1;o=y;for(var E=[];;){var x=o.match(/^\s*$/);if(x)break;var S=o.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!S){pt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+y),m=!0;break}l=S[0];var b=S[1],k=S[2],T=e.properties[b];if(!T){pt("Skipping property: Invalid property name in: "+l),c();continue}var D=t.parse(b,k);if(!D){pt("Skipping property: Invalid property definition in: "+l),c();continue}E.push({name:b,val:k}),c()}if(m){u();break}t.selector(h);for(var R=0;R<E.length;R++){var P=E[R];t.css(P.name,P.val)}u()}return t};Vv.fromString=function(r){var e=this;return e.resetToDefault(),e.appendFromString(r),e};var Ht={};(function(){var r=Zt,e=vE,t=pE,n=gE,i=mE,o=function(Z){return"^"+Z+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},l=function(Z){var ie=r+"|\\w+|"+e+"|"+t+"|"+n+"|"+i;return"^"+Z+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+r+")\\s*\\,\\s*("+r+")\\s*,\\s*("+ie+")\\s*\\,\\s*("+ie+")\\)$"},u=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Ht.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:o("data")},layoutData:{mapping:!0,regex:o("layoutData")},scratch:{mapping:!0,regex:o("scratch")},mapData:{mapping:!0,regex:l("mapData")},mapLayoutData:{mapping:!0,regex:l("mapLayoutData")},mapScratch:{mapping:!0,regex:l("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:u,singleRegexMatchValue:!0},urls:{regexes:u,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Z,ie){switch(Z.length){case 2:return ie[0]!=="deg"&&ie[0]!=="rad"&&ie[1]!=="deg"&&ie[1]!=="rad";case 1:return qe(Z[0])||ie[0]==="deg"||ie[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+r+")\\s*,\\s*("+r+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+r+")\\s*,\\s*("+r+")\\s*,\\s*("+r+")\\s*,\\s*("+r+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Z){var ie=Z.length;return ie===1||ie===2||ie===4}}};var c={zeroNonZero:function(Z,ie){return(Z==null||ie==null)&&Z!==ie||Z==0&&ie!=0?!0:Z!=0&&ie==0},any:function(Z,ie){return Z!=ie},emptyNonEmpty:function(Z,ie){var de=xa(Z),be=xa(ie);return de&&!be||!de&&be}},f=Ht.types,v=[{name:"label",type:f.text,triggersBounds:c.any,triggersZOrder:c.emptyNonEmpty},{name:"text-rotation",type:f.textRotation,triggersBounds:c.any},{name:"text-margin-x",type:f.bidirectionalSize,triggersBounds:c.any},{name:"text-margin-y",type:f.bidirectionalSize,triggersBounds:c.any}],h=[{name:"source-label",type:f.text,triggersBounds:c.any},{name:"source-text-rotation",type:f.textRotation,triggersBounds:c.any},{name:"source-text-margin-x",type:f.bidirectionalSize,triggersBounds:c.any},{name:"source-text-margin-y",type:f.bidirectionalSize,triggersBounds:c.any},{name:"source-text-offset",type:f.size,triggersBounds:c.any}],p=[{name:"target-label",type:f.text,triggersBounds:c.any},{name:"target-text-rotation",type:f.textRotation,triggersBounds:c.any},{name:"target-text-margin-x",type:f.bidirectionalSize,triggersBounds:c.any},{name:"target-text-margin-y",type:f.bidirectionalSize,triggersBounds:c.any},{name:"target-text-offset",type:f.size,triggersBounds:c.any}],y=[{name:"font-family",type:f.fontFamily,triggersBounds:c.any},{name:"font-style",type:f.fontStyle,triggersBounds:c.any},{name:"font-weight",type:f.fontWeight,triggersBounds:c.any},{name:"font-size",type:f.size,triggersBounds:c.any},{name:"text-transform",type:f.textTransform,triggersBounds:c.any},{name:"text-wrap",type:f.textWrap,triggersBounds:c.any},{name:"text-overflow-wrap",type:f.textOverflowWrap,triggersBounds:c.any},{name:"text-max-width",type:f.size,triggersBounds:c.any},{name:"text-outline-width",type:f.size,triggersBounds:c.any},{name:"line-height",type:f.positiveNumber,triggersBounds:c.any}],m=[{name:"text-valign",type:f.valign,triggersBounds:c.any},{name:"text-halign",type:f.halign,triggersBounds:c.any},{name:"color",type:f.color},{name:"text-outline-color",type:f.color},{name:"text-outline-opacity",type:f.zeroOneNumber},{name:"text-background-color",type:f.color},{name:"text-background-opacity",type:f.zeroOneNumber},{name:"text-background-padding",type:f.size,triggersBounds:c.any},{name:"text-border-opacity",type:f.zeroOneNumber},{name:"text-border-color",type:f.color},{name:"text-border-width",type:f.size,triggersBounds:c.any},{name:"text-border-style",type:f.borderStyle,triggersBounds:c.any},{name:"text-background-shape",type:f.textBackgroundShape,triggersBounds:c.any},{name:"text-justification",type:f.justification},{name:"box-select-labels",type:f.bool,triggersBounds:c.any}],E=[{name:"events",type:f.bool,triggersZOrder:c.any},{name:"text-events",type:f.bool,triggersZOrder:c.any},{name:"box-selection",type:f.boxSelection,triggersZOrder:c.any}],x=[{name:"display",type:f.display,triggersZOrder:c.any,triggersBounds:c.any,triggersBoundsOfConnectedEdges:c.any,triggersBoundsOfParallelEdges:function(Z,ie,de){return Z===ie?!1:de.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:f.visibility,triggersZOrder:c.any},{name:"opacity",type:f.zeroOneNumber,triggersZOrder:c.zeroNonZero},{name:"text-opacity",type:f.zeroOneNumber},{name:"min-zoomed-font-size",type:f.size},{name:"z-compound-depth",type:f.zCompoundDepth,triggersZOrder:c.any},{name:"z-index-compare",type:f.zIndexCompare,triggersZOrder:c.any},{name:"z-index",type:f.number,triggersZOrder:c.any}],S=[{name:"overlay-padding",type:f.size,triggersBounds:c.any},{name:"overlay-color",type:f.color},{name:"overlay-opacity",type:f.zeroOneNumber,triggersBounds:c.zeroNonZero},{name:"overlay-shape",type:f.overlayShape,triggersBounds:c.any},{name:"overlay-corner-radius",type:f.cornerRadius}],b=[{name:"underlay-padding",type:f.size,triggersBounds:c.any},{name:"underlay-color",type:f.color},{name:"underlay-opacity",type:f.zeroOneNumber,triggersBounds:c.zeroNonZero},{name:"underlay-shape",type:f.overlayShape,triggersBounds:c.any},{name:"underlay-corner-radius",type:f.cornerRadius}],k=[{name:"transition-property",type:f.propList},{name:"transition-duration",type:f.time},{name:"transition-delay",type:f.time},{name:"transition-timing-function",type:f.easing}],T=function(Z,ie){return ie.value==="label"?-Z.poolIndex():ie.pfValue},D=[{name:"height",type:f.nodeSize,triggersBounds:c.any,hashOverride:T},{name:"width",type:f.nodeSize,triggersBounds:c.any,hashOverride:T},{name:"shape",type:f.nodeShape,triggersBounds:c.any},{name:"shape-polygon-points",type:f.polygonPointList,triggersBounds:c.any},{name:"corner-radius",type:f.cornerRadius},{name:"background-color",type:f.color},{name:"background-fill",type:f.fill},{name:"background-opacity",type:f.zeroOneNumber},{name:"background-blacken",type:f.nOneOneNumber},{name:"background-gradient-stop-colors",type:f.colors},{name:"background-gradient-stop-positions",type:f.percentages},{name:"background-gradient-direction",type:f.gradientDirection},{name:"padding",type:f.sizeMaybePercent,triggersBounds:c.any},{name:"padding-relative-to",type:f.paddingRelativeTo,triggersBounds:c.any},{name:"bounds-expansion",type:f.boundsExpansion,triggersBounds:c.any}],R=[{name:"border-color",type:f.color},{name:"border-opacity",type:f.zeroOneNumber},{name:"border-width",type:f.size,triggersBounds:c.any},{name:"border-style",type:f.borderStyle},{name:"border-cap",type:f.lineCap},{name:"border-join",type:f.lineJoin},{name:"border-dash-pattern",type:f.numbers},{name:"border-dash-offset",type:f.number},{name:"border-position",type:f.linePosition}],P=[{name:"outline-color",type:f.color},{name:"outline-opacity",type:f.zeroOneNumber},{name:"outline-width",type:f.size,triggersBounds:c.any},{name:"outline-style",type:f.borderStyle},{name:"outline-offset",type:f.size,triggersBounds:c.any}],B=[{name:"background-image",type:f.urls},{name:"background-image-crossorigin",type:f.bgCrossOrigin},{name:"background-image-opacity",type:f.zeroOneNumbers},{name:"background-image-containment",type:f.bgContainment},{name:"background-image-smoothing",type:f.bools},{name:"background-position-x",type:f.bgPos},{name:"background-position-y",type:f.bgPos},{name:"background-width-relative-to",type:f.bgRelativeTo},{name:"background-height-relative-to",type:f.bgRelativeTo},{name:"background-repeat",type:f.bgRepeat},{name:"background-fit",type:f.bgFit},{name:"background-clip",type:f.bgClip},{name:"background-width",type:f.bgWH},{name:"background-height",type:f.bgWH},{name:"background-offset-x",type:f.bgPos},{name:"background-offset-y",type:f.bgPos}],L=[{name:"position",type:f.position,triggersBounds:c.any},{name:"compound-sizing-wrt-labels",type:f.compoundIncludeLabels,triggersBounds:c.any},{name:"min-width",type:f.size,triggersBounds:c.any},{name:"min-width-bias-left",type:f.sizeMaybePercent,triggersBounds:c.any},{name:"min-width-bias-right",type:f.sizeMaybePercent,triggersBounds:c.any},{name:"min-height",type:f.size,triggersBounds:c.any},{name:"min-height-bias-top",type:f.sizeMaybePercent,triggersBounds:c.any},{name:"min-height-bias-bottom",type:f.sizeMaybePercent,triggersBounds:c.any}],M=[{name:"line-style",type:f.lineStyle},{name:"line-color",type:f.color},{name:"line-fill",type:f.fill},{name:"line-cap",type:f.lineCap},{name:"line-opacity",type:f.zeroOneNumber},{name:"line-dash-pattern",type:f.numbers},{name:"line-dash-offset",type:f.number},{name:"line-outline-width",type:f.size},{name:"line-outline-color",type:f.color},{name:"line-gradient-stop-colors",type:f.colors},{name:"line-gradient-stop-positions",type:f.percentages},{name:"curve-style",type:f.curveStyle,triggersBounds:c.any,triggersBoundsOfParallelEdges:function(Z,ie){return Z===ie?!1:Z==="bezier"||ie==="bezier"}},{name:"haystack-radius",type:f.zeroOneNumber,triggersBounds:c.any},{name:"source-endpoint",type:f.edgeEndpoint,triggersBounds:c.any},{name:"target-endpoint",type:f.edgeEndpoint,triggersBounds:c.any},{name:"control-point-step-size",type:f.size,triggersBounds:c.any},{name:"control-point-distances",type:f.bidirectionalSizes,triggersBounds:c.any},{name:"control-point-weights",type:f.numbers,triggersBounds:c.any},{name:"segment-distances",type:f.bidirectionalSizes,triggersBounds:c.any},{name:"segment-weights",type:f.numbers,triggersBounds:c.any},{name:"segment-radii",type:f.numbers,triggersBounds:c.any},{name:"radius-type",type:f.radiusType,triggersBounds:c.any},{name:"taxi-turn",type:f.bidirectionalSizeMaybePercent,triggersBounds:c.any},{name:"taxi-turn-min-distance",type:f.size,triggersBounds:c.any},{name:"taxi-direction",type:f.axisDirection,triggersBounds:c.any},{name:"taxi-radius",type:f.number,triggersBounds:c.any},{name:"edge-distances",type:f.edgeDistances,triggersBounds:c.any},{name:"arrow-scale",type:f.positiveNumber,triggersBounds:c.any},{name:"loop-direction",type:f.angle,triggersBounds:c.any},{name:"loop-sweep",type:f.angle,triggersBounds:c.any},{name:"source-distance-from-node",type:f.size,triggersBounds:c.any},{name:"target-distance-from-node",type:f.size,triggersBounds:c.any}],z=[{name:"ghost",type:f.bool,triggersBounds:c.any},{name:"ghost-offset-x",type:f.bidirectionalSize,triggersBounds:c.any},{name:"ghost-offset-y",type:f.bidirectionalSize,triggersBounds:c.any},{name:"ghost-opacity",type:f.zeroOneNumber}],O=[{name:"selection-box-color",type:f.color},{name:"selection-box-opacity",type:f.zeroOneNumber},{name:"selection-box-border-color",type:f.color},{name:"selection-box-border-width",type:f.size},{name:"active-bg-color",type:f.color},{name:"active-bg-opacity",type:f.zeroOneNumber},{name:"active-bg-size",type:f.size},{name:"outside-texture-bg-color",type:f.color},{name:"outside-texture-bg-opacity",type:f.zeroOneNumber}],_=[];Ht.pieBackgroundN=16,_.push({name:"pie-size",type:f.sizeMaybePercent}),_.push({name:"pie-hole",type:f.sizeMaybePercent}),_.push({name:"pie-start-angle",type:f.angle});for(var W=1;W<=Ht.pieBackgroundN;W++)_.push({name:"pie-"+W+"-background-color",type:f.color}),_.push({name:"pie-"+W+"-background-size",type:f.percent}),_.push({name:"pie-"+W+"-background-opacity",type:f.zeroOneNumber});var U=[];Ht.stripeBackgroundN=16,U.push({name:"stripe-size",type:f.sizeMaybePercent}),U.push({name:"stripe-direction",type:f.axisDirectionPrimary});for(var H=1;H<=Ht.stripeBackgroundN;H++)U.push({name:"stripe-"+H+"-background-color",type:f.color}),U.push({name:"stripe-"+H+"-background-size",type:f.percent}),U.push({name:"stripe-"+H+"-background-opacity",type:f.zeroOneNumber});var q=[],V=Ht.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:f.arrowShape,triggersBounds:c.any},{name:"arrow-color",type:f.color},{name:"arrow-fill",type:f.arrowFill},{name:"arrow-width",type:f.arrowWidth}].forEach(function(Q){V.forEach(function(Z){var ie=Z+"-"+Q.name,de=Q.type,be=Q.triggersBounds;q.push({name:ie,type:de,triggersBounds:be})})},{});var G=Ht.properties=[].concat(E,k,x,S,b,z,m,y,v,h,p,D,R,P,B,_,U,L,M,q,O),j=Ht.propertyGroups={behavior:E,transition:k,visibility:x,overlay:S,underlay:b,ghost:z,commonLabel:m,labelDimensions:y,mainLabel:v,sourceLabel:h,targetLabel:p,nodeBody:D,nodeBorder:R,nodeOutline:P,backgroundImage:B,pie:_,stripe:U,compound:L,edgeLine:M,edgeArrow:q,core:O},N=Ht.propertyGroupNames={},F=Ht.propertyGroupKeys=Object.keys(j);F.forEach(function(Q){N[Q]=j[Q].map(function(Z){return Z.name}),j[Q].forEach(function(Z){return Z.groupKey=Q})});var ee=Ht.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Ht.propertyNames=G.map(function(Q){return Q.name});for(var ae=0;ae<G.length;ae++){var ne=G[ae];G[ne.name]=ne}for(var se=0;se<ee.length;se++){var fe=ee[se],ge=G[fe.pointsTo],le={name:fe.name,alias:!0,pointsTo:ge};G.push(le),G[fe.name]=le}})();Ht.getDefaultProperty=function(r){return this.getDefaultProperties()[r]};Ht.getDefaultProperties=function(){var r=this._private;if(r.defaultProperties!=null)return r.defaultProperties;for(var e=je({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(c,f){for(var v=1;v<=Ht.pieBackgroundN;v++){var h=f.name.replace("{{i}}",v),p=f.value;c[h]=p}return c},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(c,f){for(var v=1;v<=Ht.stripeBackgroundN;v++){var h=f.name.replace("{{i}}",v),p=f.value;c[h]=p}return c},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(c,f){return Ht.arrowPrefixes.forEach(function(v){var h=v+"-"+f.name,p=f.value;c[h]=p}),c},{})),t={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var o=i.name,l=e[o],u=this.parse(o,l);t[o]=u}}return r.defaultProperties=t,r.defaultProperties};Ht.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Au={};Au.parse=function(r,e,t,n){var i=this;if(_t(e))return i.parseImplWarn(r,e,t,n);var o=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,l=t?"t":"f",u=""+e,c=S0(r,u,l,o),f=i.propCache=i.propCache||[],v;return(v=f[c])||(v=f[c]=i.parseImplWarn(r,e,t,n)),(t||n==="mapping")&&(v=kn(v),v&&(v.value=kn(v.value))),v};Au.parseImplWarn=function(r,e,t,n){var i=this.parseImpl(r,e,t,n);return!i&&e!=null&&pt("The style property `".concat(r,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&pt("The style value of `label` is deprecated for `"+i.name+"`"),i};Au.parseImpl=function(r,e,t,n){var i=this;r=Cv(r);var o=i.properties[r],l=e,u=i.types;if(!o||e===void 0)return null;o.alias&&(o=o.pointsTo,r=o.name);var c=qe(e);c&&(e=e.trim());var f=o.type;if(!f)return null;if(t&&(e===""||e===null))return{name:r,value:e,bypass:!0,deleteBypass:!0};if(_t(e))return{name:r,value:e,strValue:"fn",mapped:u.fn,bypass:t};var v,h;if(!(!c||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(v=new RegExp(u.data.regex).exec(e))){if(t)return!1;var p=u.data;return{name:r,value:v,strValue:""+e,mapped:p,field:v[1],bypass:t}}else if(e.length>=10&&e[0]==="m"&&(h=new RegExp(u.mapData.regex).exec(e))){if(t||f.multiple)return!1;var y=u.mapData;if(!(f.color||f.number))return!1;var m=this.parse(r,h[4]);if(!m||m.mapped)return!1;var E=this.parse(r,h[5]);if(!E||E.mapped)return!1;if(m.pfValue===E.pfValue||m.strValue===E.strValue)return pt("`"+r+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+r+": "+m.strValue+"`"),this.parse(r,m.strValue);if(f.color){var x=m.value,S=E.value,b=x[0]===S[0]&&x[1]===S[1]&&x[2]===S[2]&&(x[3]===S[3]||(x[3]==null||x[3]===1)&&(S[3]==null||S[3]===1));if(b)return!1}return{name:r,value:h,strValue:""+e,mapped:y,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:m.value,valueMax:E.value,bypass:t}}}if(f.multiple&&n!=="multiple"){var k;if(c?k=e.split(/\s+/):yt(e)?k=e:k=[e],f.evenMultiple&&k.length%2!==0)return null;for(var T=[],D=[],R=[],P="",B=!1,L=0;L<k.length;L++){var M=i.parse(r,k[L],t,"multiple");B=B||qe(M.value),T.push(M.value),R.push(M.pfValue!=null?M.pfValue:M.value),D.push(M.units),P+=(L>0?" ":"")+M.strValue}return f.validate&&!f.validate(T,D)?null:f.singleEnum&&B?T.length===1&&qe(T[0])?{name:r,value:T[0],strValue:T[0],bypass:t}:null:{name:r,value:T,pfValue:R,strValue:P,bypass:t,units:D}}var z=function(){for(var le=0;le<f.enums.length;le++){var Q=f.enums[le];if(Q===e)return{name:r,value:e,strValue:""+e,bypass:t}}return null};if(f.number){var O,_="px";if(f.units&&(O=f.units),f.implicitUnits&&(_=f.implicitUnits),!f.unitless)if(c){var W="px|em"+(f.allowPercent?"|\\%":"");O&&(W=O);var U=e.match("^("+Zt+")("+W+")?$");U&&(e=U[1],O=U[2]||_)}else(!O||f.implicitUnits)&&(O=_);if(e=parseFloat(e),isNaN(e)&&f.enums===void 0)return null;if(isNaN(e)&&f.enums!==void 0)return e=l,z();if(f.integer&&!oE(e)||f.min!==void 0&&(e<f.min||f.strictMin&&e===f.min)||f.max!==void 0&&(e>f.max||f.strictMax&&e===f.max))return null;var H={name:r,value:e,strValue:""+e+(O||""),units:O,bypass:t};return f.unitless||O!=="px"&&O!=="em"?H.pfValue=e:H.pfValue=O==="px"||!O?e:this.getEmSizeInPixels()*e,(O==="ms"||O==="s")&&(H.pfValue=O==="ms"?e:1e3*e),(O==="deg"||O==="rad")&&(H.pfValue=O==="rad"?e:gS(e)),O==="%"&&(H.pfValue=e/100),H}else if(f.propList){var q=[],V=""+e;if(V!=="none"){for(var G=V.split(/\s*,\s*|\s+/),j=0;j<G.length;j++){var N=G[j].trim();i.properties[N]?q.push(N):pt("`"+N+"` is not a valid property name")}if(q.length===0)return null}return{name:r,value:q,strValue:q.length===0?"none":q.join(" "),bypass:t}}else if(f.color){var F=g0(e);return F?{name:r,value:F,pfValue:F,strValue:"rgb("+F[0]+","+F[1]+","+F[2]+")",bypass:t}:null}else if(f.regex||f.regexes){if(f.enums){var ee=z();if(ee)return ee}for(var ae=f.regexes?f.regexes:[f.regex],ne=0;ne<ae.length;ne++){var se=new RegExp(ae[ne]),fe=se.exec(e);if(fe)return{name:r,value:f.singleRegexMatchValue?fe[1]:fe,strValue:""+e,bypass:t}}return null}else return f.string?{name:r,value:""+e,strValue:""+e,bypass:t}:f.enums?z():null};var sr=function(e){if(!(this instanceof sr))return new sr(e);if(!Sv(e)){Bt("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Sr=sr.prototype;Sr.instanceString=function(){return"style"};Sr.clear=function(){for(var r=this._private,e=r.cy,t=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,r.contextStyles={},r.propDiffs={},this.cleanElements(t,!0),t.forEach(function(i){var o=i[0]._private;o.styleDirty=!0,o.appliedInitStyle=!1}),this};Sr.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Sr.core=function(r){return this._private.coreStyle[r]||this.getDefaultProperty(r)};Sr.selector=function(r){var e=r==="core"?null:new Sa(r),t=this.length++;return this[t]={selector:e,properties:[],mappedProperties:[],index:t},this};Sr.css=function(){var r=this,e=arguments;if(e.length===1)for(var t=e[0],n=0;n<r.properties.length;n++){var i=r.properties[n],o=t[i.name];o===void 0&&(o=t[mu(i.name)]),o!==void 0&&this.cssRule(i.name,o)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Sr.style=Sr.css;Sr.cssRule=function(r,e){var t=this.parse(r,e);if(t){var n=this.length-1;this[n].properties.push(t),this[n].properties[t.name]=t,t.name.match(/pie-(\d+)-background-size/)&&t.value&&(this._private.hasPie=!0),t.name.match(/stripe-(\d+)-background-size/)&&t.value&&(this._private.hasStripe=!0),t.mapped&&this[n].mappedProperties.push(t);var i=!this[n].selector;i&&(this._private.coreStyle[t.name]=t)}return this};Sr.append=function(r){return v0(r)?r.appendToStyle(this):yt(r)?this.appendFromJson(r):qe(r)&&this.appendFromString(r),this};sr.fromJson=function(r,e){var t=new sr(r);return t.fromJson(e),t};sr.fromString=function(r,e){return new sr(r).fromString(e)};[lr,xs,Fv,Tn,Bu,Vv,Ht,Au].forEach(function(r){je(Sr,r)});sr.types=Sr.types;sr.properties=Sr.properties;sr.propertyGroups=Sr.propertyGroups;sr.propertyGroupNames=Sr.propertyGroupNames;sr.propertyGroupKeys=Sr.propertyGroupKeys;var xk={style:function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},setStyle:function(e){var t=this._private;return v0(e)?t.style=e.generateStyle(this):yt(e)?t.style=sr.fromJson(this,e):qe(e)?t.style=sr.fromString(this,e):t.style=sr(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},bk="single",ai={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var t=this._private;if(t.selectionType==null&&(t.selectionType=bk),e!==void 0)(e==="additive"||e==="single")&&(t.selectionType=e);else return t.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,t=this._private.pan,n,i,o,l,u;switch(e.length){case 0:return t;case 1:if(qe(e[0]))return n=e[0],t[n];if(ft(e[0])){if(!this._private.panningEnabled)return this;o=e[0],l=o.x,u=o.y,Ee(l)&&(t.x=l),Ee(u)&&(t.y=u),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],i=e[1],(n==="x"||n==="y")&&Ee(i)&&(t[n]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,t){var n=arguments,i=this._private.pan,o,l,u,c,f;if(!this._private.panningEnabled)return this;switch(n.length){case 1:ft(e)&&(u=n[0],c=u.x,f=u.y,Ee(c)&&(i.x+=c),Ee(f)&&(i.y+=f),this.emit("pan viewport"));break;case 2:o=e,l=t,(o==="x"||o==="y")&&Ee(l)&&(i[o]+=l),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(Ee(e)&&t===void 0&&(t=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(qe(e)){var i=e;e=this.$(i)}else if(uE(e)){var o=e;n={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Kr(e)||(e=this.mutableElements());if(!(Kr(e)&&e.empty())){n=n||e.boundingBox();var l=this.width(),u=this.height(),c;if(t=Ee(t)?t:0,!isNaN(l)&&!isNaN(u)&&l>0&&u>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){c=Math.min((l-2*t)/n.w,(u-2*t)/n.h),c=c>this._private.maxZoom?this._private.maxZoom:c,c=c<this._private.minZoom?this._private.minZoom:c;var f={x:(l-c*(n.x1+n.x2))/2,y:(u-c*(n.y1+n.y2))/2};return{zoom:c,pan:f}}}}},zoomRange:function(e,t){var n=this._private;if(t==null){var i=e;e=i.min,t=i.max}return Ee(e)&&Ee(t)&&e<=t?(n.minZoom=e,n.maxZoom=t):Ee(e)&&t===void 0&&e<=n.maxZoom?n.minZoom=e:Ee(t)&&e===void 0&&t>=n.minZoom&&(n.maxZoom=t),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t=this._private,n=t.pan,i=t.zoom,o,l,u=!1;if(t.zoomingEnabled||(u=!0),Ee(e)?l=e:ft(e)&&(l=e.level,e.position!=null?o=xu(e.position,i,n):e.renderedPosition!=null&&(o=e.renderedPosition),o!=null&&!t.panningEnabled&&(u=!0)),l=l>t.maxZoom?t.maxZoom:l,l=l<t.minZoom?t.minZoom:l,u||!Ee(l)||l===i||o!=null&&(!Ee(o.x)||!Ee(o.y)))return null;if(o!=null){var c=n,f=i,v=l,h={x:-v/f*(o.x-c.x)+o.x,y:-v/f*(o.y-c.y)+o.y};return{zoomed:!0,panned:!0,zoom:v,pan:h}}else return{zoomed:!0,panned:!1,zoom:l,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return t==null||!t.zoomed?this:(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var t=this._private,n=!0,i=!0,o=[],l=!1,u=!1;if(!e)return this;if(Ee(e.zoom)||(n=!1),ft(e.pan)||(i=!1),!n&&!i)return this;if(n){var c=e.zoom;c<t.minZoom||c>t.maxZoom||!t.zoomingEnabled?l=!0:(t.zoom=c,o.push("zoom"))}if(i&&(!l||!e.cancelOnFailedZoom)&&t.panningEnabled){var f=e.pan;Ee(f.x)&&(t.pan.x=f.x,u=!1),Ee(f.y)&&(t.pan.y=f.y,u=!1),u||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(qe(e)){var n=e;e=this.mutableElements().filter(n)}else Kr(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),o=this.width(),l=this.height();t=t===void 0?this._private.zoom:t;var u={x:(o-t*(i.x1+i.x2))/2,y:(l-t*(i.y1+i.y2))/2};return u}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,t=e.container,n=this;return e.sizeCache=e.sizeCache||(t?(function(){var i=n.window().getComputedStyle(t),o=function(u){return parseFloat(i.getPropertyValue(u))};return{width:t.clientWidth-o("padding-left")-o("padding-right"),height:t.clientHeight-o("padding-top")-o("padding-bottom")}})():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};ai.centre=ai.center;ai.autolockNodes=ai.autolock;ai.autoungrabifyNodes=ai.autoungrabify;var us={data:ht.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ht.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ht.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ht.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};us.attr=us.data;us.removeAttr=us.removeData;var cs=function(e){var t=this;e=je({},e);var n=e.container;n&&!nu(n)&&nu(n[0])&&(n=n[0]);var i=n?n._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var o=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=t;var l=Qt!==void 0&&n!==void 0&&!e.headless,u=e;u.layout=je({name:l?"grid":"null"},u.layout),u.renderer=je({name:l?"canvas":"null"},u.renderer);var c=function(m,E,x){return E!==void 0?E:x!==void 0?x:m},f=this._private={container:n,ready:!1,options:u,elements:new vr(this),listeners:[],aniEles:new vr(this),data:u.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:c(!0,u.zoomingEnabled),userZoomingEnabled:c(!0,u.userZoomingEnabled),panningEnabled:c(!0,u.panningEnabled),userPanningEnabled:c(!0,u.userPanningEnabled),boxSelectionEnabled:c(!0,u.boxSelectionEnabled),autolock:c(!1,u.autolock,u.autolockNodes),autoungrabify:c(!1,u.autoungrabify,u.autoungrabifyNodes),autounselectify:c(!1,u.autounselectify),styleEnabled:u.styleEnabled===void 0?l:u.styleEnabled,zoom:Ee(u.zoom)?u.zoom:1,pan:{x:ft(u.pan)&&Ee(u.pan.x)?u.pan.x:0,y:ft(u.pan)&&Ee(u.pan.y)?u.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:c(250,u.multiClickDebounceTime)};this.createEmitter(),this.selectionType(u.selectionType),this.zoomRange({min:u.minZoom,max:u.maxZoom});var v=function(m,E){var x=m.some(cE);if(x)return eo.all(m).then(E);E(m)};f.styleEnabled&&t.setStyle([]);var h=je({},u,u.renderer);t.initRenderer(h);var p=function(m,E,x){t.notifications(!1);var S=t.mutableElements();S.length>0&&S.remove(),m!=null&&(ft(m)||yt(m))&&t.add(m),t.one("layoutready",function(k){t.notifications(!0),t.emit(k),t.one("load",E),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",x),t.emit("done")});var b=je({},t._private.options.layout);b.eles=t.elements(),t.layout(b).run()};v([u.style,u.elements],function(y){var m=y[0],E=y[1];f.styleEnabled&&t.style().append(m),p(E,function(){t.startAnimationLoop(),f.ready=!0,_t(u.ready)&&t.on("ready",u.ready);for(var x=0;x<o.length;x++){var S=o[x];t.on("ready",S)}i&&(i.readies=[]),t.emit("ready")},u.done)})},cu=cs.prototype;je(cu,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Qt;var t=this._private.container.ownerDocument;return t===void 0||t==null?Qt:t.defaultView||Qt},mount:function(e){if(e!=null){var t=this,n=t._private,i=n.options;return!nu(e)&&nu(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),n.container=e,n.styleEnabled=!0,t.invalidateSize(),t.initRenderer(je({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),t.startAnimationLoop(),t.style(i.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return kn(this._private.options)},json:function(e){var t=this,n=t._private,i=t.mutableElements(),o=function(T){return t.getElementById(T.id())};if(ft(e)){if(t.startBatch(),e.elements){var l={},u=function(T,D){for(var R=[],P=[],B=0;B<T.length;B++){var L=T[B];if(!L.data.id){pt("cy.json() cannot handle elements without an ID attribute");continue}var M=""+L.data.id,z=t.getElementById(M);l[M]=!0,z.length!==0?P.push({ele:z,json:L}):(D&&(L.group=D),R.push(L))}t.add(R);for(var O=0;O<P.length;O++){var _=P[O],W=_.ele,U=_.json;W.json(U)}};if(yt(e.elements))u(e.elements);else for(var c=["nodes","edges"],f=0;f<c.length;f++){var v=c[f],h=e.elements[v];yt(h)&&u(h,v)}var p=t.collection();i.filter(function(k){return!l[k.id()]}).forEach(function(k){k.isParent()?p.merge(k):k.remove()}),p.forEach(function(k){return k.children().move({parent:null})}),p.forEach(function(k){return o(k).remove()})}e.style&&t.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&t.pan(e.pan),e.data&&t.data(e.data);for(var y=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],m=0;m<y.length;m++){var E=y[m];e[E]!=null&&t[E](e[E])}return t.endBatch(),this}else{var x=!!e,S={};x?S.elements=this.elements().map(function(k){return k.json()}):(S.elements={},i.forEach(function(k){var T=k.group();S.elements[T]||(S.elements[T]=[]),S.elements[T].push(k.json())})),this._private.styleEnabled&&(S.style=t.style().json()),S.data=kn(t.data());var b=n.options;return S.zoomingEnabled=n.zoomingEnabled,S.userZoomingEnabled=n.userZoomingEnabled,S.zoom=n.zoom,S.minZoom=n.minZoom,S.maxZoom=n.maxZoom,S.panningEnabled=n.panningEnabled,S.userPanningEnabled=n.userPanningEnabled,S.pan=kn(n.pan),S.boxSelectionEnabled=n.boxSelectionEnabled,S.renderer=kn(b.renderer),S.hideEdgesOnViewport=b.hideEdgesOnViewport,S.textureOnViewport=b.textureOnViewport,S.wheelSensitivity=b.wheelSensitivity,S.motionBlur=b.motionBlur,S.multiClickDebounceTime=b.multiClickDebounceTime,S}}});cu.$id=cu.getElementById;[ck,pk,v1,cv,Ql,mk,fv,Zl,xk,ai,us].forEach(function(r){je(cu,r)});var Ek={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},Sk={maximal:!1,acyclic:!1},Oi=function(e){return e.scratch("breadthfirst")},Ay=function(e,t){return e.scratch("breadthfirst",t)};function h1(r){this.options=je({},Ek,Sk,r)}h1.prototype.run=function(){var r=this.options,e=r.cy,t=r.eles,n=t.nodes().filter(function(Ve){return Ve.isChildless()}),i=t,o=r.directed,l=r.acyclic||r.maximal||r.maximalAdjustments>0,u=!!r.boundingBox,c=Br(u?r.boundingBox:structuredClone(e.extent())),f;if(Kr(r.roots))f=r.roots;else if(yt(r.roots)){for(var v=[],h=0;h<r.roots.length;h++){var p=r.roots[h],y=e.getElementById(p);v.push(y)}f=e.collection(v)}else if(qe(r.roots))f=e.$(r.roots);else if(o)f=n.roots();else{var m=t.components();f=e.collection();for(var E=function(){var Se=m[x],Be=Se.maxDegree(!1),ze=Se.filter(function(Ke){return Ke.degree(!1)===Be});f=f.add(ze)},x=0;x<m.length;x++)E()}var S=[],b={},k=function(Se,Be){S[Be]==null&&(S[Be]=[]);var ze=S[Be].length;S[Be].push(Se),Ay(Se,{index:ze,depth:Be})},T=function(Se,Be){var ze=Oi(Se),Ke=ze.depth,Fe=ze.index;S[Ke][Fe]=null,Se.isChildless()&&k(Se,Be)};i.bfs({roots:f,directed:r.directed,visit:function(Se,Be,ze,Ke,Fe){var Qe=Se[0],at=Qe.id();Qe.isChildless()&&k(Qe,Fe),b[at]=!0}});for(var D=[],R=0;R<n.length;R++){var P=n[R];b[P.id()]||D.push(P)}var B=function(Se){for(var Be=S[Se],ze=0;ze<Be.length;ze++){var Ke=Be[ze];if(Ke==null){Be.splice(ze,1),ze--;continue}Ay(Ke,{depth:Se,index:ze})}},L=function(Se,Be){for(var ze=Oi(Se),Ke=Se.incomers().filter(function($e){return $e.isNode()&&t.has($e)}),Fe=-1,Qe=Se.id(),at=0;at<Ke.length;at++){var st=Ke[at],ot=Oi(st);Fe=Math.max(Fe,ot.depth)}if(ze.depth<=Fe){if(!r.acyclic&&Be[Qe])return null;var lt=Fe+1;return T(Se,lt),Be[Qe]=lt,!0}return!1};if(o&&l){var M=[],z={},O=function(Se){return M.push(Se)},_=function(){return M.shift()};for(n.forEach(function(Ve){return M.push(Ve)});M.length>0;){var W=_(),U=L(W,z);if(U)W.outgoers().filter(function(Ve){return Ve.isNode()&&t.has(Ve)}).forEach(O);else if(U===null){pt("Detected double maximal shift for node `"+W.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var H=0;if(r.avoidOverlap)for(var q=0;q<n.length;q++){var V=n[q],G=V.layoutDimensions(r),j=G.w,N=G.h;H=Math.max(H,j,N)}var F={},ee=function(Se){if(F[Se.id()])return F[Se.id()];for(var Be=Oi(Se).depth,ze=Se.neighborhood(),Ke=0,Fe=0,Qe=0;Qe<ze.length;Qe++){var at=ze[Qe];if(!(at.isEdge()||at.isParent()||!n.has(at))){var st=Oi(at);if(st!=null){var ot=st.index,lt=st.depth;if(!(ot==null||lt==null)){var $e=S[lt].length;lt<Be&&(Ke+=ot/$e,Fe++)}}}}return Fe=Math.max(1,Fe),Ke=Ke/Fe,Fe===0&&(Ke=0),F[Se.id()]=Ke,Ke},ae=function(Se,Be){var ze=ee(Se),Ke=ee(Be),Fe=ze-Ke;return Fe===0?p0(Se.id(),Be.id()):Fe};r.depthSort!==void 0&&(ae=r.depthSort);for(var ne=S.length,se=0;se<ne;se++)S[se].sort(ae),B(se);for(var fe=[],ge=0;ge<D.length;ge++)fe.push(D[ge]);var le=function(){for(var Se=0;Se<ne;Se++)B(Se)};fe.length&&(S.unshift(fe),ne=S.length,le());for(var Q=0,Z=0;Z<ne;Z++)Q=Math.max(S[Z].length,Q);var ie={x:c.x1+c.w/2,y:c.y1+c.h/2},de=n.reduce(function(Ve,Se){return(function(Be){return{w:Ve.w===-1?Be.w:(Ve.w+Be.w)/2,h:Ve.h===-1?Be.h:(Ve.h+Be.h)/2}})(Se.boundingBox({includeLabels:r.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),be=Math.max(ne===1?0:u?(c.h-r.padding*2-de.h)/(ne-1):(c.h-r.padding*2-de.h)/(ne+1),H),Ie=S.reduce(function(Ve,Se){return Math.max(Ve,Se.length)},0),nt=function(Se){var Be=Oi(Se),ze=Be.depth,Ke=Be.index;if(r.circle){var Fe=Math.min(c.w/2/ne,c.h/2/ne);Fe=Math.max(Fe,H);var Qe=Fe*ze+Fe-(ne>0&&S[0].length<=3?Fe/2:0),at=2*Math.PI/S[ze].length*Ke;return ze===0&&S[0].length===1&&(Qe=1),{x:ie.x+Qe*Math.cos(at),y:ie.y+Qe*Math.sin(at)}}else{var st=S[ze].length,ot=Math.max(st===1?0:u?(c.w-r.padding*2-de.w)/((r.grid?Ie:st)-1):(c.w-r.padding*2-de.w)/((r.grid?Ie:st)+1),H),lt={x:ie.x+(Ke+1-(st+1)/2)*ot,y:ie.y+(ze+1-(ne+1)/2)*be};return lt}},Ge={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(Ge).indexOf(r.direction)===-1&&Bt("Invalid direction '".concat(r.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(Ge).join(", ")));var We=function(Se){return FE(nt(Se),c,Ge[r.direction])};return t.nodes().layoutPositions(this,r,We),this};var Ck={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function p1(r){this.options=je({},Ck,r)}p1.prototype.run=function(){var r=this.options,e=r,t=r.cy,n=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,o=n.nodes().not(":parent");e.sort&&(o=o.sort(e.sort));for(var l=Br(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),u={x:l.x1+l.w/2,y:l.y1+l.h/2},c=e.sweep===void 0?2*Math.PI-2*Math.PI/o.length:e.sweep,f=c/Math.max(1,o.length-1),v,h=0,p=0;p<o.length;p++){var y=o[p],m=y.layoutDimensions(e),E=m.w,x=m.h;h=Math.max(h,E,x)}if(Ee(e.radius)?v=e.radius:o.length<=1?v=0:v=Math.min(l.h,l.w)/2-h,o.length>1&&e.avoidOverlap){h*=1.75;var S=Math.cos(f)-Math.cos(0),b=Math.sin(f)-Math.sin(0),k=Math.sqrt(h*h/(S*S+b*b));v=Math.max(k,v)}var T=function(R,P){var B=e.startAngle+P*f*(i?1:-1),L=v*Math.cos(B),M=v*Math.sin(B),z={x:u.x+L,y:u.y+M};return z};return n.nodes().layoutPositions(this,e,T),this};var kk={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function g1(r){this.options=je({},kk,r)}g1.prototype.run=function(){for(var r=this.options,e=r,t=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=r.cy,i=e.eles,o=i.nodes().not(":parent"),l=Br(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),u={x:l.x1+l.w/2,y:l.y1+l.h/2},c=[],f=0,v=0;v<o.length;v++){var h=o[v],p=void 0;p=e.concentric(h),c.push({value:p,node:h}),h._private.scratch.concentric=p}o.updateStyle();for(var y=0;y<o.length;y++){var m=o[y],E=m.layoutDimensions(e);f=Math.max(f,E.w,E.h)}c.sort(function(be,Ie){return Ie.value-be.value});for(var x=e.levelWidth(o),S=[[]],b=S[0],k=0;k<c.length;k++){var T=c[k];if(b.length>0){var D=Math.abs(b[0].value-T.value);D>=x&&(b=[],S.push(b))}b.push(T)}var R=f+e.minNodeSpacing;if(!e.avoidOverlap){var P=S.length>0&&S[0].length>1,B=Math.min(l.w,l.h)/2-R,L=B/(S.length+P?1:0);R=Math.min(R,L)}for(var M=0,z=0;z<S.length;z++){var O=S[z],_=e.sweep===void 0?2*Math.PI-2*Math.PI/O.length:e.sweep,W=O.dTheta=_/Math.max(1,O.length-1);if(O.length>1&&e.avoidOverlap){var U=Math.cos(W)-Math.cos(0),H=Math.sin(W)-Math.sin(0),q=Math.sqrt(R*R/(U*U+H*H));M=Math.max(q,M)}O.r=M,M+=R}if(e.equidistant){for(var V=0,G=0,j=0;j<S.length;j++){var N=S[j],F=N.r-G;V=Math.max(V,F)}G=0;for(var ee=0;ee<S.length;ee++){var ae=S[ee];ee===0&&(G=ae.r),ae.r=G,G+=V}}for(var ne={},se=0;se<S.length;se++)for(var fe=S[se],ge=fe.dTheta,le=fe.r,Q=0;Q<fe.length;Q++){var Z=fe[Q],ie=e.startAngle+(t?1:-1)*ge*Q,de={x:u.x+le*Math.cos(ie),y:u.y+le*Math.sin(ie)};ne[Z.node.id()]=de}return i.nodes().layoutPositions(this,e,function(be){var Ie=be.id();return ne[Ie]}),this};var Hd,Tk={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Nu(r){this.options=je({},Tk,r),this.options.layout=this;var e=this.options.eles.nodes(),t=this.options.eles.edges(),n=t.filter(function(i){var o=i.source().data("id"),l=i.target().data("id"),u=e.some(function(f){return f.data("id")===o}),c=e.some(function(f){return f.data("id")===l});return!u||!c});this.options.eles=this.options.eles.not(n)}Nu.prototype.run=function(){var r=this.options,e=r.cy,t=this;t.stopped=!1,(r.animate===!0||r.animate===!1)&&t.emit({type:"layoutstart",layout:t}),r.debug===!0?Hd=!0:Hd=!1;var n=Pk(e,t,r);Hd&&Rk(n),r.randomize&&Bk(n);var i=qn(),o=function(){Ak(n,e,r),r.fit===!0&&e.fit(r.padding)},l=function(p){return!(t.stopped||p>=r.numIter||(Nk(n,r),n.temperature=n.temperature*r.coolingFactor,n.temperature<r.minTemp))},u=function(){if(r.animate===!0||r.animate===!1)o(),t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t});else{var p=r.eles.nodes(),y=y1(n,r,p);p.layoutPositions(t,r,y)}},c=0,f=!0;if(r.animate===!0){var v=function(){for(var p=0;f&&p<r.refresh;)f=l(c),c++,p++;if(!f)My(n,r),u();else{var y=qn();y-i>=r.animationThreshold&&o(),au(v)}};v()}else{for(;f;)f=l(c),c++;My(n,r),u()}return this};Nu.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Nu.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Pk=function(e,t,n){for(var i=n.eles.edges(),o=n.eles.nodes(),l=Br(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),u={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:l.w,clientHeight:l.h,boundingBox:l},c=n.eles.components(),f={},v=0;v<c.length;v++)for(var h=c[v],p=0;p<h.length;p++){var y=h[p];f[y.id()]=v}for(var v=0;v<u.nodeSize;v++){var m=o[v],E=m.layoutDimensions(n),x={};x.isLocked=m.locked(),x.id=m.data("id"),x.parentId=m.data("parent"),x.cmptId=f[m.id()],x.children=[],x.positionX=m.position("x"),x.positionY=m.position("y"),x.offsetX=0,x.offsetY=0,x.height=E.w,x.width=E.h,x.maxX=x.positionX+x.width/2,x.minX=x.positionX-x.width/2,x.maxY=x.positionY+x.height/2,x.minY=x.positionY-x.height/2,x.padLeft=parseFloat(m.style("padding")),x.padRight=parseFloat(m.style("padding")),x.padTop=parseFloat(m.style("padding")),x.padBottom=parseFloat(m.style("padding")),x.nodeRepulsion=_t(n.nodeRepulsion)?n.nodeRepulsion(m):n.nodeRepulsion,u.layoutNodes.push(x),u.idToIndex[x.id]=v}for(var S=[],b=0,k=-1,T=[],v=0;v<u.nodeSize;v++){var m=u.layoutNodes[v],D=m.parentId;D!=null?u.layoutNodes[u.idToIndex[D]].children.push(m.id):(S[++k]=m.id,T.push(m.id))}for(u.graphSet.push(T);b<=k;){var R=S[b++],P=u.idToIndex[R],y=u.layoutNodes[P],B=y.children;if(B.length>0){u.graphSet.push(B);for(var v=0;v<B.length;v++)S[++k]=B[v]}}for(var v=0;v<u.graphSet.length;v++)for(var L=u.graphSet[v],p=0;p<L.length;p++){var M=u.idToIndex[L[p]];u.indexToGraph[M]=v}for(var v=0;v<u.edgeSize;v++){var z=i[v],O={};O.id=z.data("id"),O.sourceId=z.data("source"),O.targetId=z.data("target");var _=_t(n.idealEdgeLength)?n.idealEdgeLength(z):n.idealEdgeLength,W=_t(n.edgeElasticity)?n.edgeElasticity(z):n.edgeElasticity,U=u.idToIndex[O.sourceId],H=u.idToIndex[O.targetId],q=u.indexToGraph[U],V=u.indexToGraph[H];if(q!=V){for(var G=Dk(O.sourceId,O.targetId,u),j=u.graphSet[G],N=0,x=u.layoutNodes[U];j.indexOf(x.id)===-1;)x=u.layoutNodes[u.idToIndex[x.parentId]],N++;for(x=u.layoutNodes[H];j.indexOf(x.id)===-1;)x=u.layoutNodes[u.idToIndex[x.parentId]],N++;_*=N*n.nestingFactor}O.idealLength=_,O.elasticity=W,u.layoutEdges.push(O)}return u},Dk=function(e,t,n){var i=m1(e,t,0,n);return 2>i.count?0:i.graph},m1=function(e,t,n,i){var o=i.graphSet[n];if(-1<o.indexOf(e)&&-1<o.indexOf(t))return{count:2,graph:n};for(var l=0,u=0;u<o.length;u++){var c=o[u],f=i.idToIndex[c],v=i.layoutNodes[f].children;if(v.length!==0){var h=i.indexToGraph[i.idToIndex[v[0]]],p=m1(e,t,h,i);if(p.count!==0)if(p.count===1){if(l++,l===2)break}else return p}}return{count:l,graph:n}},Rk,Bk=function(e,t){for(var n=e.clientWidth,i=e.clientHeight,o=0;o<e.nodeSize;o++){var l=e.layoutNodes[o];l.children.length===0&&!l.isLocked&&(l.positionX=Math.random()*n,l.positionY=Math.random()*i)}},y1=function(e,t,n){var i=e.boundingBox,o={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(n.forEach(function(l){var u=e.layoutNodes[e.idToIndex[l.data("id")]];o.x1=Math.min(o.x1,u.positionX),o.x2=Math.max(o.x2,u.positionX),o.y1=Math.min(o.y1,u.positionY),o.y2=Math.max(o.y2,u.positionY)}),o.w=o.x2-o.x1,o.h=o.y2-o.y1),function(l,u){var c=e.layoutNodes[e.idToIndex[l.data("id")]];if(t.boundingBox){var f=o.w===0?.5:(c.positionX-o.x1)/o.w,v=o.h===0?.5:(c.positionY-o.y1)/o.h;return{x:i.x1+f*i.w,y:i.y1+v*i.h}}else return{x:c.positionX,y:c.positionY}}},Ak=function(e,t,n){var i=n.layout,o=n.eles.nodes(),l=y1(e,n,o);o.positions(l),e.ready!==!0&&(e.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},Nk=function(e,t,n){Mk(e,t),zk(e),Ok(e,t),_k(e),Fk(e)},Mk=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],o=i.length,l=0;l<o;l++)for(var u=e.layoutNodes[e.idToIndex[i[l]]],c=l+1;c<o;c++){var f=e.layoutNodes[e.idToIndex[i[c]]];Lk(u,f,e,t)}},Ny=function(e){return-1+2*e*Math.random()},Lk=function(e,t,n,i){var o=e.cmptId,l=t.cmptId;if(!(o!==l&&!n.isCompound)){var u=t.positionX-e.positionX,c=t.positionY-e.positionY,f=1;u===0&&c===0&&(u=Ny(f),c=Ny(f));var v=Ik(e,t,u,c);if(v>0)var h=i.nodeOverlap*v,p=Math.sqrt(u*u+c*c),y=h*u/p,m=h*c/p;else var E=fu(e,u,c),x=fu(t,-1*u,-1*c),S=x.x-E.x,b=x.y-E.y,k=S*S+b*b,p=Math.sqrt(k),h=(e.nodeRepulsion+t.nodeRepulsion)/k,y=h*S/p,m=h*b/p;e.isLocked||(e.offsetX-=y,e.offsetY-=m),t.isLocked||(t.offsetX+=y,t.offsetY+=m)}},Ik=function(e,t,n,i){if(n>0)var o=e.maxX-t.minX;else var o=t.maxX-e.minX;if(i>0)var l=e.maxY-t.minY;else var l=t.maxY-e.minY;return o>=0&&l>=0?Math.sqrt(o*o+l*l):0},fu=function(e,t,n){var i=e.positionX,o=e.positionY,l=e.height||1,u=e.width||1,c=n/t,f=l/u,v={};return t===0&&0<n||t===0&&0>n?(v.x=i,v.y=o+l/2,v):0<t&&-1*f<=c&&c<=f?(v.x=i+u/2,v.y=o+u*n/2/t,v):0>t&&-1*f<=c&&c<=f?(v.x=i-u/2,v.y=o-u*n/2/t,v):0<n&&(c<=-1*f||c>=f)?(v.x=i+l*t/2/n,v.y=o+l/2,v):(0>n&&(c<=-1*f||c>=f)&&(v.x=i-l*t/2/n,v.y=o-l/2),v)},zk=function(e,t){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],o=e.idToIndex[i.sourceId],l=e.layoutNodes[o],u=e.idToIndex[i.targetId],c=e.layoutNodes[u],f=c.positionX-l.positionX,v=c.positionY-l.positionY;if(!(f===0&&v===0)){var h=fu(l,f,v),p=fu(c,-1*f,-1*v),y=p.x-h.x,m=p.y-h.y,E=Math.sqrt(y*y+m*m),x=Math.pow(i.idealLength-E,2)/i.elasticity;if(E!==0)var S=x*y/E,b=x*m/E;else var S=0,b=0;l.isLocked||(l.offsetX+=S,l.offsetY+=b),c.isLocked||(c.offsetX-=S,c.offsetY-=b)}}},Ok=function(e,t){if(t.gravity!==0)for(var n=1,i=0;i<e.graphSet.length;i++){var o=e.graphSet[i],l=o.length;if(i===0)var u=e.clientHeight/2,c=e.clientWidth/2;else var f=e.layoutNodes[e.idToIndex[o[0]]],v=e.layoutNodes[e.idToIndex[f.parentId]],u=v.positionX,c=v.positionY;for(var h=0;h<l;h++){var p=e.layoutNodes[e.idToIndex[o[h]]];if(!p.isLocked){var y=u-p.positionX,m=c-p.positionY,E=Math.sqrt(y*y+m*m);if(E>n){var x=t.gravity*y/E,S=t.gravity*m/E;p.offsetX+=x,p.offsetY+=S}}}}},_k=function(e,t){var n=[],i=0,o=-1;for(n.push.apply(n,e.graphSet[0]),o+=e.graphSet[0].length;i<=o;){var l=n[i++],u=e.idToIndex[l],c=e.layoutNodes[u],f=c.children;if(0<f.length&&!c.isLocked){for(var v=c.offsetX,h=c.offsetY,p=0;p<f.length;p++){var y=e.layoutNodes[e.idToIndex[f[p]]];y.offsetX+=v,y.offsetY+=h,n[++o]=f[p]}c.offsetX=0,c.offsetY=0}}},Fk=function(e,t){for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(!(0<i.children.length||i.isLocked)){var o=Vk(i.offsetX,i.offsetY,e.temperature);i.positionX+=o.x,i.positionY+=o.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,w1(i,e)}}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},Vk=function(e,t,n){var i=Math.sqrt(e*e+t*t);if(i>n)var o={x:n*e/i,y:n*t/i};else var o={x:e,y:t};return o},w1=function(e,t){var n=e.parentId;if(n!=null){var i=t.layoutNodes[t.idToIndex[n]],o=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,o=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,o=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,o=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,o=!0),o)return w1(i,t)}},My=function(e,t){for(var n=e.layoutNodes,i=[],o=0;o<n.length;o++){var l=n[o],u=l.cmptId,c=i[u]=i[u]||[];c.push(l)}for(var f=0,o=0;o<i.length;o++){var v=i[o];if(v){v.x1=1/0,v.x2=-1/0,v.y1=1/0,v.y2=-1/0;for(var h=0;h<v.length;h++){var p=v[h];v.x1=Math.min(v.x1,p.positionX-p.width/2),v.x2=Math.max(v.x2,p.positionX+p.width/2),v.y1=Math.min(v.y1,p.positionY-p.height/2),v.y2=Math.max(v.y2,p.positionY+p.height/2)}v.w=v.x2-v.x1,v.h=v.y2-v.y1,f+=v.w*v.h}}i.sort(function(b,k){return k.w*k.h-b.w*b.h});for(var y=0,m=0,E=0,x=0,S=Math.sqrt(f)*e.clientWidth/e.clientHeight,o=0;o<i.length;o++){var v=i[o];if(v){for(var h=0;h<v.length;h++){var p=v[h];p.isLocked||(p.positionX+=y-v.x1,p.positionY+=m-v.y1)}y+=v.w+t.componentSpacing,E+=v.w+t.componentSpacing,x=Math.max(x,v.h),E>S&&(m+=x+t.componentSpacing,y=0,E=0,x=0)}}},qk={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function x1(r){this.options=je({},qk,r)}x1.prototype.run=function(){var r=this.options,e=r,t=r.cy,n=e.eles,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var o=Br(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});if(o.h===0||o.w===0)n.nodes().layoutPositions(this,e,function(ee){return{x:o.x1,y:o.y1}});else{var l=i.size(),u=Math.sqrt(l*o.h/o.w),c=Math.round(u),f=Math.round(o.w/o.h*u),v=function(ae){if(ae==null)return Math.min(c,f);var ne=Math.min(c,f);ne==c?c=ae:f=ae},h=function(ae){if(ae==null)return Math.max(c,f);var ne=Math.max(c,f);ne==c?c=ae:f=ae},p=e.rows,y=e.cols!=null?e.cols:e.columns;if(p!=null&&y!=null)c=p,f=y;else if(p!=null&&y==null)c=p,f=Math.ceil(l/c);else if(p==null&&y!=null)f=y,c=Math.ceil(l/f);else if(f*c>l){var m=v(),E=h();(m-1)*E>=l?v(m-1):(E-1)*m>=l&&h(E-1)}else for(;f*c<l;){var x=v(),S=h();(S+1)*x>=l?h(S+1):v(x+1)}var b=o.w/f,k=o.h/c;if(e.condense&&(b=0,k=0),e.avoidOverlap)for(var T=0;T<i.length;T++){var D=i[T],R=D._private.position;(R.x==null||R.y==null)&&(R.x=0,R.y=0);var P=D.layoutDimensions(e),B=e.avoidOverlapPadding,L=P.w+B,M=P.h+B;b=Math.max(b,L),k=Math.max(k,M)}for(var z={},O=function(ae,ne){return!!z["c-"+ae+"-"+ne]},_=function(ae,ne){z["c-"+ae+"-"+ne]=!0},W=0,U=0,H=function(){U++,U>=f&&(U=0,W++)},q={},V=0;V<i.length;V++){var G=i[V],j=e.position(G);if(j&&(j.row!==void 0||j.col!==void 0)){var N={row:j.row,col:j.col};if(N.col===void 0)for(N.col=0;O(N.row,N.col);)N.col++;else if(N.row===void 0)for(N.row=0;O(N.row,N.col);)N.row++;q[G.id()]=N,_(N.row,N.col)}}var F=function(ae,ne){var se,fe;if(ae.locked()||ae.isParent())return!1;var ge=q[ae.id()];if(ge)se=ge.col*b+b/2+o.x1,fe=ge.row*k+k/2+o.y1;else{for(;O(W,U);)H();se=U*b+b/2+o.x1,fe=W*k+k/2+o.y1,_(W,U),H()}return{x:se,y:fe}};i.layoutPositions(this,e,F)}return this};var Wk={ready:function(){},stop:function(){}};function qv(r){this.options=je({},Wk,r)}qv.prototype.run=function(){var r=this.options,e=r.eles,t=this;return r.cy,t.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),t.one("layoutready",r.ready),t.emit("layoutready"),t.one("layoutstop",r.stop),t.emit("layoutstop"),this};qv.prototype.stop=function(){return this};var $k={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function b1(r){this.options=je({},$k,r)}b1.prototype.run=function(){var r=this.options,e=r.eles,t=e.nodes(),n=_t(r.positions);function i(o){if(r.positions==null)return fS(o.position());if(n)return r.positions(o);var l=r.positions[o._private.data.id];return l??null}return t.layoutPositions(this,r,function(o,l){var u=i(o);return o.locked()||u==null?!1:u}),this};var Uk={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function E1(r){this.options=je({},Uk,r)}E1.prototype.run=function(){var r=this.options,e=r.cy,t=r.eles,n=Br(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(l,u){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return t.nodes().layoutPositions(this,r,i),this};var Hk=[{name:"breadthfirst",impl:h1},{name:"circle",impl:p1},{name:"concentric",impl:g1},{name:"cose",impl:Nu},{name:"grid",impl:x1},{name:"null",impl:qv},{name:"preset",impl:b1},{name:"random",impl:E1}];function S1(r){this.options=r,this.notifications=0}var Ly=function(){},Iy=function(){throw new Error("A headless instance can not render images")};S1.prototype={recalculateRenderedStyle:Ly,notify:function(){this.notifications++},init:Ly,isHeadless:function(){return!0},png:Iy,jpg:Iy};var Wv={};Wv.arrowShapeWidth=.3;Wv.registerArrowShapes=function(){var r=this.arrowShapes={},e=this,t=function(f,v,h,p,y,m,E){var x=y.x-h/2-E,S=y.x+h/2+E,b=y.y-h/2-E,k=y.y+h/2+E,T=x<=f&&f<=S&&b<=v&&v<=k;return T},n=function(f,v,h,p,y){var m=f*Math.cos(p)-v*Math.sin(p),E=f*Math.sin(p)+v*Math.cos(p),x=m*h,S=E*h,b=x+y.x,k=S+y.y;return{x:b,y:k}},i=function(f,v,h,p){for(var y=[],m=0;m<f.length;m+=2){var E=f[m],x=f[m+1];y.push(n(E,x,v,h,p))}return y},o=function(f){for(var v=[],h=0;h<f.length;h++){var p=f[h];v.push(p.x,p.y)}return v},l=function(f){return f.pstyle("width").pfValue*f.pstyle("arrow-scale").pfValue*2},u=function(f,v){qe(v)&&(v=r[v]),r[f]=je({name:f,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(p,y,m,E,x,S){var b=o(i(this.points,m+2*S,E,x)),k=Fr(p,y,b);return k},roughCollide:t,draw:function(p,y,m,E){var x=i(this.points,y,m,E);e.arrowShapeImpl("polygon")(p,x)},spacing:function(p){return 0},gap:l},v)};u("none",{collide:iu,roughCollide:iu,draw:Pv,spacing:Yg,gap:Yg}),u("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),u("arrow","triangle"),u("triangle-backcurve",{points:r.triangle.points,controlPoint:[0,-.15],roughCollide:t,draw:function(f,v,h,p,y){var m=i(this.points,v,h,p),E=this.controlPoint,x=n(E[0],E[1],v,h,p);e.arrowShapeImpl(this.name)(f,m,x)},gap:function(f){return l(f)*.8}}),u("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(f,v,h,p,y,m,E){var x=o(i(this.points,h+2*E,p,y)),S=o(i(this.pointsTee,h+2*E,p,y)),b=Fr(f,v,x)||Fr(f,v,S);return b},draw:function(f,v,h,p,y){var m=i(this.points,v,h,p),E=i(this.pointsTee,v,h,p);e.arrowShapeImpl(this.name)(f,m,E)}}),u("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(f,v,h,p,y,m,E){var x=y,S=Math.pow(x.x-f,2)+Math.pow(x.y-v,2)<=Math.pow((h+2*E)*this.radius,2),b=o(i(this.points,h+2*E,p,y));return Fr(f,v,b)||S},draw:function(f,v,h,p,y){var m=i(this.pointsTr,v,h,p);e.arrowShapeImpl(this.name)(f,m,p.x,p.y,this.radius*v)},spacing:function(f){return e.getArrowWidth(f.pstyle("width").pfValue,f.pstyle("arrow-scale").value)*this.radius}}),u("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(f,v){var h=this.baseCrossLinePts.slice(),p=v/f,y=3,m=5;return h[y]=h[y]-p,h[m]=h[m]-p,h},collide:function(f,v,h,p,y,m,E){var x=o(i(this.points,h+2*E,p,y)),S=o(i(this.crossLinePts(h,m),h+2*E,p,y)),b=Fr(f,v,x)||Fr(f,v,S);return b},draw:function(f,v,h,p,y){var m=i(this.points,v,h,p),E=i(this.crossLinePts(v,y),v,h,p);e.arrowShapeImpl(this.name)(f,m,E)}}),u("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(f){return l(f)*.525}}),u("circle",{radius:.15,collide:function(f,v,h,p,y,m,E){var x=y,S=Math.pow(x.x-f,2)+Math.pow(x.y-v,2)<=Math.pow((h+2*E)*this.radius,2);return S},draw:function(f,v,h,p,y){e.arrowShapeImpl(this.name)(f,p.x,p.y,this.radius*v)},spacing:function(f){return e.getArrowWidth(f.pstyle("width").pfValue,f.pstyle("arrow-scale").value)*this.radius}}),u("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(f){return 1},gap:function(f){return 1}}),u("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),u("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(f){return f.pstyle("width").pfValue*f.pstyle("arrow-scale").value}}),u("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(f){return .95*f.pstyle("width").pfValue*f.pstyle("arrow-scale").value}})};var oi={};oi.projectIntoViewport=function(r,e){var t=this.cy,n=this.findContainerClientCoords(),i=n[0],o=n[1],l=n[4],u=t.pan(),c=t.zoom(),f=((r-i)/l-u.x)/c,v=((e-o)/l-u.y)/c;return[f,v]};oi.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var r=this.container,e=r.getBoundingClientRect(),t=this.cy.window().getComputedStyle(r),n=function(S){return parseFloat(t.getPropertyValue(S))},i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},o={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},l=r.clientWidth,u=r.clientHeight,c=i.left+i.right,f=i.top+i.bottom,v=o.left+o.right,h=e.width/(l+v),p=l-c,y=u-f,m=e.left+i.left+o.left,E=e.top+i.top+o.top;return this.containerBB=[m,E,p,y,h]};oi.invalidateContainerClientCoordsCache=function(){this.containerBB=null};oi.findNearestElement=function(r,e,t,n){return this.findNearestElements(r,e,t,n)[0]};oi.findNearestElements=function(r,e,t,n){var i=this,o=this,l=o.getCachedZSortedEles(),u=[],c=o.cy.zoom(),f=o.cy.hasCompoundNodes(),v=(n?24:8)/c,h=(n?8:2)/c,p=(n?8:2)/c,y=1/0,m,E;t&&(l=l.interactive);function x(P,B){if(P.isNode()){if(E)return;E=P,u.push(P)}if(P.isEdge()&&(B==null||B<y))if(m){if(m.pstyle("z-compound-depth").value===P.pstyle("z-compound-depth").value&&m.pstyle("z-compound-depth").value===P.pstyle("z-compound-depth").value){for(var L=0;L<u.length;L++)if(u[L].isEdge()){u[L]=P,m=P,y=B??y;break}}}else u.push(P),m=P,y=B??y}function S(P){var B=P.outerWidth()+2*h,L=P.outerHeight()+2*h,M=B/2,z=L/2,O=P.position(),_=P.pstyle("corner-radius").value==="auto"?"auto":P.pstyle("corner-radius").pfValue,W=P._private.rscratch;if(O.x-M<=r&&r<=O.x+M&&O.y-z<=e&&e<=O.y+z){var U=o.nodeShapes[i.getNodeShape(P)];if(U.checkPoint(r,e,0,B,L,O.x,O.y,_,W))return x(P,0),!0}}function b(P){var B=P._private,L=B.rscratch,M=P.pstyle("width").pfValue,z=P.pstyle("arrow-scale").value,O=M/2+v,_=O*O,W=O*2,V=B.source,G=B.target,U;if(L.edgeType==="segments"||L.edgeType==="straight"||L.edgeType==="haystack"){for(var H=L.allpts,q=0;q+3<H.length;q+=2)if(kS(r,e,H[q],H[q+1],H[q+2],H[q+3],W)&&_>(U=BS(r,e,H[q],H[q+1],H[q+2],H[q+3])))return x(P,U),!0}else if(L.edgeType==="bezier"||L.edgeType==="multibezier"||L.edgeType==="self"||L.edgeType==="compound"){for(var H=L.allpts,q=0;q+5<L.allpts.length;q+=4)if(TS(r,e,H[q],H[q+1],H[q+2],H[q+3],H[q+4],H[q+5],W)&&_>(U=RS(r,e,H[q],H[q+1],H[q+2],H[q+3],H[q+4],H[q+5])))return x(P,U),!0}for(var V=V||B.source,G=G||B.target,j=i.getArrowWidth(M,z),N=[{name:"source",x:L.arrowStartX,y:L.arrowStartY,angle:L.srcArrowAngle},{name:"target",x:L.arrowEndX,y:L.arrowEndY,angle:L.tgtArrowAngle},{name:"mid-source",x:L.midX,y:L.midY,angle:L.midsrcArrowAngle},{name:"mid-target",x:L.midX,y:L.midY,angle:L.midtgtArrowAngle}],q=0;q<N.length;q++){var F=N[q],ee=o.arrowShapes[P.pstyle(F.name+"-arrow-shape").value],ae=P.pstyle("width").pfValue;if(ee.roughCollide(r,e,j,F.angle,{x:F.x,y:F.y},ae,v)&&ee.collide(r,e,j,F.angle,{x:F.x,y:F.y},ae,v))return x(P),!0}f&&u.length>0&&(S(V),S(G))}function k(P,B,L){return _r(P,B,L)}function T(P,B){var L=P._private,M=p,z;B?z=B+"-":z="",P.boundingBox();var O=L.labelBounds[B||"main"],_=P.pstyle(z+"label").value,W=P.pstyle("text-events").strValue==="yes";if(!(!W||!_)){var U=k(L.rscratch,"labelX",B),H=k(L.rscratch,"labelY",B),q=k(L.rscratch,"labelAngle",B),V=P.pstyle(z+"text-margin-x").pfValue,G=P.pstyle(z+"text-margin-y").pfValue,j=O.x1-M-V,N=O.x2+M-V,F=O.y1-M-G,ee=O.y2+M-G;if(q){var ae=Math.cos(q),ne=Math.sin(q),se=function(de,be){return de=de-U,be=be-H,{x:de*ae-be*ne+U,y:de*ne+be*ae+H}},fe=se(j,F),ge=se(j,ee),le=se(N,F),Q=se(N,ee),Z=[fe.x+V,fe.y+G,le.x+V,le.y+G,Q.x+V,Q.y+G,ge.x+V,ge.y+G];if(Fr(r,e,Z))return x(P),!0}else if(ga(O,r,e))return x(P),!0}}for(var D=l.length-1;D>=0;D--){var R=l[D];R.isNode()?S(R)||T(R):b(R)||T(R)||T(R,"source")||T(R,"target")}return u};oi.getAllInBox=function(r,e,t,n){var i=this.getCachedZSortedEles().interactive,o=this.cy.zoom(),l=2/o,u=[],c=Math.min(r,t),f=Math.max(r,t),v=Math.min(e,n),h=Math.max(e,n);r=c,t=f,e=v,n=h;var p=Br({x1:r,y1:e,x2:t,y2:n}),y=[{x:p.x1,y:p.y1},{x:p.x2,y:p.y1},{x:p.x2,y:p.y2},{x:p.x1,y:p.y2}],m=[[y[0],y[1]],[y[1],y[2]],[y[2],y[3]],[y[3],y[0]]];function E(de,be,Ie){return _r(de,be,Ie)}function x(de,be){var Ie=de._private,nt=l,Ge="";de.boundingBox();var We=Ie.labelBounds.main;if(!We)return null;var Ve=E(Ie.rscratch,"labelX",be),Se=E(Ie.rscratch,"labelY",be),Be=E(Ie.rscratch,"labelAngle",be),ze=de.pstyle(Ge+"text-margin-x").pfValue,Ke=de.pstyle(Ge+"text-margin-y").pfValue,Fe=We.x1-nt-ze,Qe=We.x2+nt-ze,at=We.y1-nt-Ke,st=We.y2+nt-Ke;if(Be){var ot=Math.cos(Be),lt=Math.sin(Be),$e=function(ve,I){return ve=ve-Ve,I=I-Se,{x:ve*ot-I*lt+Ve,y:ve*lt+I*ot+Se}};return[$e(Fe,at),$e(Qe,at),$e(Qe,st),$e(Fe,st)]}else return[{x:Fe,y:at},{x:Qe,y:at},{x:Qe,y:st},{x:Fe,y:st}]}function S(de,be,Ie,nt){function Ge(We,Ve,Se){return(Se.y-We.y)*(Ve.x-We.x)>(Ve.y-We.y)*(Se.x-We.x)}return Ge(de,Ie,nt)!==Ge(be,Ie,nt)&&Ge(de,be,Ie)!==Ge(de,be,nt)}for(var b=0;b<i.length;b++){var k=i[b];if(k.isNode()){var T=k,D=T.pstyle("text-events").strValue==="yes",R=T.pstyle("box-selection").strValue,P=T.pstyle("box-select-labels").strValue==="yes";if(R==="none")continue;var B=(R==="overlap"||P)&&D,L=T.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:B});if(R==="contain"){var M=!1;if(P&&D){var z=x(T);z&&$f(z,y)&&(u.push(T),M=!0)}!M&&B0(p,L)&&u.push(T)}else if(R==="overlap"&&Av(p,L)){var O=T.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),_=[{x:O.x1,y:O.y1},{x:O.x2,y:O.y1},{x:O.x2,y:O.y2},{x:O.x1,y:O.y2}];if($f(_,y))u.push(T);else{var W=x(T);W&&$f(W,y)&&u.push(T)}}}else{var U=k,H=U._private,q=H.rscratch,V=U.pstyle("box-selection").strValue;if(V==="none")continue;if(V==="contain"){if(q.startX!=null&&q.startY!=null&&!ga(p,q.startX,q.startY)||q.endX!=null&&q.endY!=null&&!ga(p,q.endX,q.endY))continue;if(q.edgeType==="bezier"||q.edgeType==="multibezier"||q.edgeType==="self"||q.edgeType==="compound"||q.edgeType==="segments"||q.edgeType==="haystack"){for(var G=H.rstyle.bezierPts||H.rstyle.linePts||H.rstyle.haystackPts,j=!0,N=0;N<G.length;N++)if(!em(p,G[N])){j=!1;break}j&&u.push(U)}else q.edgeType==="straight"&&u.push(U)}else if(V==="overlap"){var F=!1;if(q.startX!=null&&q.startY!=null&&q.endX!=null&&q.endY!=null&&(ga(p,q.startX,q.startY)||ga(p,q.endX,q.endY)))u.push(U),F=!0;else if(!F&&q.edgeType==="haystack"){for(var ee=H.rstyle.haystackPts,ae=0;ae<ee.length;ae++)if(em(p,ee[ae])){u.push(U),F=!0;break}}if(!F){var ne=H.rstyle.bezierPts||H.rstyle.linePts||H.rstyle.haystackPts;if((!ne||ne.length<2)&&q.edgeType==="straight"&&q.startX!=null&&q.startY!=null&&q.endX!=null&&q.endY!=null&&(ne=[{x:q.startX,y:q.startY},{x:q.endX,y:q.endY}]),!ne||ne.length<2)continue;for(var se=0;se<ne.length-1;se++){for(var fe=ne[se],ge=ne[se+1],le=0;le<m.length;le++){var Q=Gt(m[le],2),Z=Q[0],ie=Q[1];if(S(fe,ge,Z,ie)){u.push(U),F=!0;break}}if(F)break}}}}}return u};var du={};du.calculateArrowAngles=function(r){var e=r._private.rscratch,t=e.edgeType==="haystack",n=e.edgeType==="bezier",i=e.edgeType==="multibezier",o=e.edgeType==="segments",l=e.edgeType==="compound",u=e.edgeType==="self",c,f,v,h,p,y,S,b;if(t?(v=e.haystackPts[0],h=e.haystackPts[1],p=e.haystackPts[2],y=e.haystackPts[3]):(v=e.arrowStartX,h=e.arrowStartY,p=e.arrowEndX,y=e.arrowEndY),S=e.midX,b=e.midY,o)c=v-e.segpts[0],f=h-e.segpts[1];else if(i||l||u||n){var m=e.allpts,E=or(m[0],m[2],m[4],.1),x=or(m[1],m[3],m[5],.1);c=v-E,f=h-x}else c=v-S,f=h-b;e.srcArrowAngle=Nl(c,f);var S=e.midX,b=e.midY;if(t&&(S=(v+p)/2,b=(h+y)/2),c=p-v,f=y-h,o){var m=e.allpts;if(m.length/2%2===0){var k=m.length/2,T=k-2;c=m[k]-m[T],f=m[k+1]-m[T+1]}else if(e.isRound)c=e.midVector[1],f=-e.midVector[0];else{var k=m.length/2-1,T=k-2;c=m[k]-m[T],f=m[k+1]-m[T+1]}}else if(i||l||u){var m=e.allpts,D=e.ctrlpts,R,P,B,L;if(D.length/2%2===0){var M=m.length/2-1,z=M+2,O=z+2;R=or(m[M],m[z],m[O],0),P=or(m[M+1],m[z+1],m[O+1],0),B=or(m[M],m[z],m[O],1e-4),L=or(m[M+1],m[z+1],m[O+1],1e-4)}else{var z=m.length/2-1,M=z-2,O=z+2;R=or(m[M],m[z],m[O],.4999),P=or(m[M+1],m[z+1],m[O+1],.4999),B=or(m[M],m[z],m[O],.5),L=or(m[M+1],m[z+1],m[O+1],.5)}c=B-R,f=L-P}if(e.midtgtArrowAngle=Nl(c,f),e.midDispX=c,e.midDispY=f,c*=-1,f*=-1,o){var m=e.allpts;if(m.length/2%2!==0){if(!e.isRound){var k=m.length/2-1,_=k+2;c=-(m[_]-m[k]),f=-(m[_+1]-m[k+1])}}}if(e.midsrcArrowAngle=Nl(c,f),o)c=p-e.segpts[e.segpts.length-2],f=y-e.segpts[e.segpts.length-1];else if(i||l||u||n){var m=e.allpts,W=m.length,E=or(m[W-6],m[W-4],m[W-2],.9),x=or(m[W-5],m[W-3],m[W-1],.9);c=p-E,f=y-x}else c=p-S,f=y-b;e.tgtArrowAngle=Nl(c,f)};du.getArrowWidth=du.getArrowHeight=function(r,e){var t=this.arrowWidthCache=this.arrowWidthCache||{},n=t[r+", "+e];return n||(n=Math.max(Math.pow(r*13.37,.9),29)*e,t[r+", "+e]=n,n)};var dv,vv,Cn={},tn={},zy,Oy,Za,Jl,_n,Ga,Xa,bn,_i,Vl,C1,k1,hv,pv,_y,Fy=function(e,t,n){n.x=t.x-e.x,n.y=t.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},jk=function(e,t){t.x=e.x*-1,t.y=e.y*-1,t.nx=e.nx*-1,t.ny=e.ny*-1,t.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},Gk=function(e,t,n,i,o){if(e!==_y?Fy(t,e,Cn):jk(tn,Cn),Fy(t,n,tn),zy=Cn.nx*tn.ny-Cn.ny*tn.nx,Oy=Cn.nx*tn.nx-Cn.ny*-tn.ny,_n=Math.asin(Math.max(-1,Math.min(1,zy))),Math.abs(_n)<1e-6){dv=t.x,vv=t.y,Xa=_i=0;return}Za=1,Jl=!1,Oy<0?_n<0?_n=Math.PI+_n:(_n=Math.PI-_n,Za=-1,Jl=!0):_n>0&&(Za=-1,Jl=!0),t.radius!==void 0?_i=t.radius:_i=i,Ga=_n/2,Vl=Math.min(Cn.len/2,tn.len/2),o?(bn=Math.abs(Math.cos(Ga)*_i/Math.sin(Ga)),bn>Vl?(bn=Vl,Xa=Math.abs(bn*Math.sin(Ga)/Math.cos(Ga))):Xa=_i):(bn=Math.min(Vl,_i),Xa=Math.abs(bn*Math.sin(Ga)/Math.cos(Ga))),hv=t.x+tn.nx*bn,pv=t.y+tn.ny*bn,dv=hv-tn.ny*Xa*Za,vv=pv+tn.nx*Xa*Za,C1=t.x+Cn.nx*bn,k1=t.y+Cn.ny*bn,_y=t};function T1(r,e){e.radius===0?r.lineTo(e.cx,e.cy):r.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function $v(r,e,t,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(Gk(r,e,t,n,i),{cx:dv,cy:vv,radius:Xa,startX:C1,startY:k1,stopX:hv,stopY:pv,startAngle:Cn.ang+Math.PI/2*Za,endAngle:tn.ang-Math.PI/2*Za,counterClockwise:Jl})}var fs=.01,Kk=Math.sqrt(2*fs),Cr={};Cr.findMidptPtsEtc=function(r,e){var t=e.posPts,n=e.intersectionPts,i=e.vectorNormInverse,o,l=r.pstyle("source-endpoint"),u=r.pstyle("target-endpoint"),c=l.units!=null&&u.units!=null,f=function(D,R,P,B){var L=B-R,M=P-D,z=Math.sqrt(M*M+L*L);return{x:-L/z,y:M/z}},v=r.pstyle("edge-distances").value;switch(v){case"node-position":o=t;break;case"intersection":o=n;break;case"endpoints":{if(c){var h=this.manualEndptToPx(r.source()[0],l),p=Gt(h,2),y=p[0],m=p[1],E=this.manualEndptToPx(r.target()[0],u),x=Gt(E,2),S=x[0],b=x[1],k={x1:y,y1:m,x2:S,y2:b};i=f(y,m,S,b),o=k}else pt("Edge ".concat(r.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),o=n;break}}return{midptPts:o,vectorNormInverse:i}};Cr.findHaystackPoints=function(r){for(var e=0;e<r.length;e++){var t=r[e],n=t._private,i=n.rscratch;if(!i.haystack){var o=Math.random()*2*Math.PI;i.source={x:Math.cos(o),y:Math.sin(o)},o=Math.random()*2*Math.PI,i.target={x:Math.cos(o),y:Math.sin(o)}}var l=n.source,u=n.target,c=l.position(),f=u.position(),v=l.width(),h=u.width(),p=l.height(),y=u.height(),m=t.pstyle("haystack-radius").value,E=m/2;i.haystackPts=i.allpts=[i.source.x*v*E+c.x,i.source.y*p*E+c.y,i.target.x*h*E+f.x,i.target.y*y*E+f.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(t),this.calculateArrowAngles(t),this.recalculateEdgeLabelProjections(t),this.calculateLabelAngles(t)}};Cr.findSegmentsPoints=function(r,e){var t=r._private.rscratch,n=r.pstyle("segment-weights"),i=r.pstyle("segment-distances"),o=r.pstyle("segment-radii"),l=r.pstyle("radius-type"),u=Math.min(n.pfValue.length,i.pfValue.length),c=o.pfValue[o.pfValue.length-1],f=l.pfValue[l.pfValue.length-1];t.edgeType="segments",t.segpts=[],t.radii=[],t.isArcRadius=[];for(var v=0;v<u;v++){var h=n.pfValue[v],p=i.pfValue[v],y=1-h,m=h,E=this.findMidptPtsEtc(r,e),x=E.midptPts,S=E.vectorNormInverse,b={x:x.x1*y+x.x2*m,y:x.y1*y+x.y2*m};t.segpts.push(b.x+S.x*p,b.y+S.y*p),t.radii.push(o.pfValue[v]!==void 0?o.pfValue[v]:c),t.isArcRadius.push((l.pfValue[v]!==void 0?l.pfValue[v]:f)==="arc-radius")}};Cr.findLoopPoints=function(r,e,t,n){var i=r._private.rscratch,o=e.dirCounts,l=e.srcPos,u=r.pstyle("control-point-distances"),c=u?u.pfValue[0]:void 0,f=r.pstyle("loop-direction").pfValue,v=r.pstyle("loop-sweep").pfValue,h=r.pstyle("control-point-step-size").pfValue;i.edgeType="self";var p=t,y=h;n&&(p=0,y=c);var m=f-Math.PI/2,E=m-v/2,x=m+v/2,S=f+"_"+v;p=o[S]===void 0?o[S]=0:++o[S],i.ctrlpts=[l.x+Math.cos(E)*1.4*y*(p/3+1),l.y+Math.sin(E)*1.4*y*(p/3+1),l.x+Math.cos(x)*1.4*y*(p/3+1),l.y+Math.sin(x)*1.4*y*(p/3+1)]};Cr.findCompoundLoopPoints=function(r,e,t,n){var i=r._private.rscratch;i.edgeType="compound";var o=e.srcPos,l=e.tgtPos,u=e.srcW,c=e.srcH,f=e.tgtW,v=e.tgtH,h=r.pstyle("control-point-step-size").pfValue,p=r.pstyle("control-point-distances"),y=p?p.pfValue[0]:void 0,m=t,E=h;n&&(m=0,E=y);var x=50,S={x:o.x-u/2,y:o.y-c/2},b={x:l.x-f/2,y:l.y-v/2},k={x:Math.min(S.x,b.x),y:Math.min(S.y,b.y)},T=.5,D=Math.max(T,Math.log(u*fs)),R=Math.max(T,Math.log(f*fs));i.ctrlpts=[k.x,k.y-(1+Math.pow(x,1.12)/100)*E*(m/3+1)*D,k.x-(1+Math.pow(x,1.12)/100)*E*(m/3+1)*R,k.y]};Cr.findStraightEdgePoints=function(r){r._private.rscratch.edgeType="straight"};Cr.findBezierPoints=function(r,e,t,n,i){var o=r._private.rscratch,l=r.pstyle("control-point-step-size").pfValue,u=r.pstyle("control-point-distances"),c=r.pstyle("control-point-weights"),f=u&&c?Math.min(u.value.length,c.value.length):1,v=u?u.pfValue[0]:void 0,h=c.value[0],p=n;o.edgeType=p?"multibezier":"bezier",o.ctrlpts=[];for(var y=0;y<f;y++){var m=(.5-e.eles.length/2+t)*l*(i?-1:1),E=void 0,x=Bv(m);p&&(v=u?u.pfValue[y]:l,h=c.value[y]),n?E=v:E=v!==void 0?x*v:void 0;var S=E!==void 0?E:m,b=1-h,k=h,T=this.findMidptPtsEtc(r,e),D=T.midptPts,R=T.vectorNormInverse,P={x:D.x1*b+D.x2*k,y:D.y1*b+D.y2*k};o.ctrlpts.push(P.x+R.x*S,P.y+R.y*S)}};Cr.findTaxiPoints=function(r,e){var t=r._private.rscratch;t.edgeType="segments";var n="vertical",i="horizontal",o="leftward",l="rightward",u="downward",c="upward",f="auto",v=e.posPts,h=e.srcW,p=e.srcH,y=e.tgtW,m=e.tgtH,E=r.pstyle("edge-distances").value,x=E!=="node-position",S=r.pstyle("taxi-direction").value,b=S,k=r.pstyle("taxi-turn"),T=k.units==="%",D=k.pfValue,R=D<0,P=r.pstyle("taxi-turn-min-distance").pfValue,B=x?(h+y)/2:0,L=x?(p+m)/2:0,M=v.x2-v.x1,z=v.y2-v.y1,O=function(I,te){return I>0?Math.max(I-te,0):Math.min(I+te,0)},_=O(M,B),W=O(z,L),U=!1;b===f?S=Math.abs(_)>Math.abs(W)?i:n:b===c||b===u?(S=n,U=!0):(b===o||b===l)&&(S=i,U=!0);var H=S===n,q=H?W:_,V=H?z:M,G=Bv(V),j=!1;!(U&&(T||R))&&(b===u&&V<0||b===c&&V>0||b===o&&V>0||b===l&&V<0)&&(G*=-1,q=G*Math.abs(q),j=!0);var N;if(T){var F=D<0?1+D:D;N=F*q}else{var ee=D<0?q:0;N=ee+D*G}var ae=function(I){return Math.abs(I)<P||Math.abs(I)>=Math.abs(q)},ne=ae(N),se=ae(Math.abs(q)-Math.abs(N)),fe=ne||se;if(fe&&!j)if(H){var ge=Math.abs(V)<=p/2,le=Math.abs(M)<=y/2;if(ge){var Q=(v.x1+v.x2)/2,Z=v.y1,ie=v.y2;t.segpts=[Q,Z,Q,ie]}else if(le){var de=(v.y1+v.y2)/2,be=v.x1,Ie=v.x2;t.segpts=[be,de,Ie,de]}else t.segpts=[v.x1,v.y2]}else{var nt=Math.abs(V)<=h/2,Ge=Math.abs(z)<=m/2;if(nt){var We=(v.y1+v.y2)/2,Ve=v.x1,Se=v.x2;t.segpts=[Ve,We,Se,We]}else if(Ge){var Be=(v.x1+v.x2)/2,ze=v.y1,Ke=v.y2;t.segpts=[Be,ze,Be,Ke]}else t.segpts=[v.x2,v.y1]}else if(H){var Fe=v.y1+N+(x?p/2*G:0),Qe=v.x1,at=v.x2;t.segpts=[Qe,Fe,at,Fe]}else{var st=v.x1+N+(x?h/2*G:0),ot=v.y1,lt=v.y2;t.segpts=[st,ot,st,lt]}if(t.isRound){var $e=r.pstyle("taxi-radius").value,Ce=r.pstyle("radius-type").value[0]==="arc-radius";t.radii=new Array(t.segpts.length/2).fill($e),t.isArcRadius=new Array(t.segpts.length/2).fill(Ce)}};Cr.tryToCorrectInvalidPoints=function(r,e){var t=r._private.rscratch;if(t.edgeType==="bezier"){var n=e.srcPos,i=e.tgtPos,o=e.srcW,l=e.srcH,u=e.tgtW,c=e.tgtH,f=e.srcShape,v=e.tgtShape,h=e.srcCornerRadius,p=e.tgtCornerRadius,y=e.srcRs,m=e.tgtRs,E=!Ee(t.startX)||!Ee(t.startY),x=!Ee(t.arrowStartX)||!Ee(t.arrowStartY),S=!Ee(t.endX)||!Ee(t.endY),b=!Ee(t.arrowEndX)||!Ee(t.arrowEndY),k=3,T=this.getArrowWidth(r.pstyle("width").pfValue,r.pstyle("arrow-scale").value)*this.arrowShapeWidth,D=k*T,R=ri({x:t.ctrlpts[0],y:t.ctrlpts[1]},{x:t.startX,y:t.startY}),P=R<D,B=ri({x:t.ctrlpts[0],y:t.ctrlpts[1]},{x:t.endX,y:t.endY}),L=B<D,M=!1;if(E||x||P){M=!0;var z={x:t.ctrlpts[0]-n.x,y:t.ctrlpts[1]-n.y},O=Math.sqrt(z.x*z.x+z.y*z.y),_={x:z.x/O,y:z.y/O},W=Math.max(o,l),U={x:t.ctrlpts[0]+_.x*2*W,y:t.ctrlpts[1]+_.y*2*W},H=f.intersectLine(n.x,n.y,o,l,U.x,U.y,0,h,y);P?(t.ctrlpts[0]=t.ctrlpts[0]+_.x*(D-R),t.ctrlpts[1]=t.ctrlpts[1]+_.y*(D-R)):(t.ctrlpts[0]=H[0]+_.x*D,t.ctrlpts[1]=H[1]+_.y*D)}if(S||b||L){M=!0;var q={x:t.ctrlpts[0]-i.x,y:t.ctrlpts[1]-i.y},V=Math.sqrt(q.x*q.x+q.y*q.y),G={x:q.x/V,y:q.y/V},j=Math.max(o,l),N={x:t.ctrlpts[0]+G.x*2*j,y:t.ctrlpts[1]+G.y*2*j},F=v.intersectLine(i.x,i.y,u,c,N.x,N.y,0,p,m);L?(t.ctrlpts[0]=t.ctrlpts[0]+G.x*(D-B),t.ctrlpts[1]=t.ctrlpts[1]+G.y*(D-B)):(t.ctrlpts[0]=F[0]+G.x*D,t.ctrlpts[1]=F[1]+G.y*D)}M&&this.findEndpoints(r)}};Cr.storeAllpts=function(r){var e=r._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var t=0;t+1<e.ctrlpts.length;t+=2)e.allpts.push(e.ctrlpts[t],e.ctrlpts[t+1]),t+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[t]+e.ctrlpts[t+2])/2,(e.ctrlpts[t+1]+e.ctrlpts[t+3])/2);e.allpts.push(e.endX,e.endY);var n,i;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,i=.5,e.midX=or(e.allpts[n],e.allpts[n+2],e.allpts[n+4],i),e.midY=or(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var o=2;o+3<e.allpts.length;o+=2){var l=e.radii[o/2-1],u=e.isArcRadius[o/2-1];e.roundCorners.push($v({x:e.allpts[o-2],y:e.allpts[o-1]},{x:e.allpts[o],y:e.allpts[o+1],radius:l},{x:e.allpts[o+2],y:e.allpts[o+3]},l,u))}}if(e.segpts.length%4===0){var c=e.segpts.length/2,f=c-2;e.midX=(e.segpts[f]+e.segpts[c])/2,e.midY=(e.segpts[f+1]+e.segpts[c+1])/2}else{var v=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[v],e.midY=e.segpts[v+1];else{var h={x:e.segpts[v],y:e.segpts[v+1]},p=e.roundCorners[v/2];if(p.radius===0){var y={x:e.segpts[v+2],y:e.segpts[v+3]};e.midX=h.x,e.midY=h.y,e.midVector=[h.y-y.y,y.x-h.x]}else{var m=[h.x-p.cx,h.y-p.cy],E=p.radius/Math.sqrt(Math.pow(m[0],2)+Math.pow(m[1],2));m=m.map(function(x){return x*E}),e.midX=p.cx+m[0],e.midY=p.cy+m[1],e.midVector=m}}}}};Cr.checkForInvalidEdgeWarning=function(r){var e=r[0]._private.rscratch;e.nodesOverlap||Ee(e.startX)&&Ee(e.startY)&&Ee(e.endX)&&Ee(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,pt("Edge `"+r.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Cr.findEdgeControlPoints=function(r){var e=this;if(!(!r||r.length===0)){for(var t=this,n=t.cy,i=n.hasCompoundNodes(),o=new Vn,l=function(L,M){return[].concat(ru(L),[M?1:0]).join("-")},u=[],c=[],f=0;f<r.length;f++){var v=r[f],h=v._private,p=v.pstyle("curve-style").value;if(!(v.removed()||!v.takesUpSpace())){if(p==="haystack"){c.push(v);continue}var y=p==="unbundled-bezier"||pa(p,"segments")||p==="straight"||p==="straight-triangle"||pa(p,"taxi"),m=p==="unbundled-bezier"||p==="bezier",E=h.source,x=h.target,S=E.poolIndex(),b=x.poolIndex(),k=[S,b].sort(),T=l(k,y),D=o.get(T);D==null&&(D={eles:[]},u.push({pairId:k,edgeIsUnbundled:y}),o.set(T,D)),D.eles.push(v),y&&(D.hasUnbundled=!0),m&&(D.hasBezier=!0)}}for(var R=function(){var L=u[P],M=L.pairId,z=L.edgeIsUnbundled,O=l(M,z),_=o.get(O),W;if(!_.hasUnbundled){var U=_.eles[0].parallelEdges().filter(function(Ce){return Ce.isBundledBezier()});Dv(_.eles),U.forEach(function(Ce){return _.eles.push(Ce)}),_.eles.sort(function(Ce,ve){return Ce.poolIndex()-ve.poolIndex()})}var H=_.eles[0],q=H.source(),V=H.target();if(q.poolIndex()>V.poolIndex()){var G=q;q=V,V=G}var j=_.srcPos=q.position(),N=_.tgtPos=V.position(),F=_.srcW=q.outerWidth(),ee=_.srcH=q.outerHeight(),ae=_.tgtW=V.outerWidth(),ne=_.tgtH=V.outerHeight(),se=_.srcShape=t.nodeShapes[e.getNodeShape(q)],fe=_.tgtShape=t.nodeShapes[e.getNodeShape(V)],ge=_.srcCornerRadius=q.pstyle("corner-radius").value==="auto"?"auto":q.pstyle("corner-radius").pfValue,le=_.tgtCornerRadius=V.pstyle("corner-radius").value==="auto"?"auto":V.pstyle("corner-radius").pfValue,Q=_.tgtRs=V._private.rscratch,Z=_.srcRs=q._private.rscratch;_.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var ie=0;ie<_.eles.length;ie++){var de=_.eles[ie],be=de[0]._private.rscratch,Ie=de.pstyle("curve-style").value,nt=Ie==="unbundled-bezier"||pa(Ie,"segments")||pa(Ie,"taxi"),Ge=!q.same(de.source());if(!_.calculatedIntersection&&q!==V&&(_.hasBezier||_.hasUnbundled)){_.calculatedIntersection=!0;var We=se.intersectLine(j.x,j.y,F,ee,N.x,N.y,0,ge,Z),Ve=_.srcIntn=We,Se=fe.intersectLine(N.x,N.y,ae,ne,j.x,j.y,0,le,Q),Be=_.tgtIntn=Se,ze=_.intersectionPts={x1:We[0],x2:Se[0],y1:We[1],y2:Se[1]},Ke=_.posPts={x1:j.x,x2:N.x,y1:j.y,y2:N.y},Fe=Se[1]-We[1],Qe=Se[0]-We[0],at=Math.sqrt(Qe*Qe+Fe*Fe);Ee(at)&&at>=Kk||(at=Math.sqrt(Math.max(Qe*Qe,fs)+Math.max(Fe*Fe,fs)));var st=_.vector={x:Qe,y:Fe},ot=_.vectorNorm={x:st.x/at,y:st.y/at},lt={x:-ot.y,y:ot.x};_.nodesOverlap=!Ee(at)||fe.checkPoint(We[0],We[1],0,ae,ne,N.x,N.y,le,Q)||se.checkPoint(Se[0],Se[1],0,F,ee,j.x,j.y,ge,Z),_.vectorNormInverse=lt,W={nodesOverlap:_.nodesOverlap,dirCounts:_.dirCounts,calculatedIntersection:!0,hasBezier:_.hasBezier,hasUnbundled:_.hasUnbundled,eles:_.eles,srcPos:N,srcRs:Q,tgtPos:j,tgtRs:Z,srcW:ae,srcH:ne,tgtW:F,tgtH:ee,srcIntn:Be,tgtIntn:Ve,srcShape:fe,tgtShape:se,posPts:{x1:Ke.x2,y1:Ke.y2,x2:Ke.x1,y2:Ke.y1},intersectionPts:{x1:ze.x2,y1:ze.y2,x2:ze.x1,y2:ze.y1},vector:{x:-st.x,y:-st.y},vectorNorm:{x:-ot.x,y:-ot.y},vectorNormInverse:{x:-lt.x,y:-lt.y}}}var $e=Ge?W:_;be.nodesOverlap=$e.nodesOverlap,be.srcIntn=$e.srcIntn,be.tgtIntn=$e.tgtIntn,be.isRound=Ie.startsWith("round"),i&&(q.isParent()||q.isChild()||V.isParent()||V.isChild())&&(q.parents().anySame(V)||V.parents().anySame(q)||q.same(V)&&q.isParent())?e.findCompoundLoopPoints(de,$e,ie,nt):q===V?e.findLoopPoints(de,$e,ie,nt):Ie.endsWith("segments")?e.findSegmentsPoints(de,$e):Ie.endsWith("taxi")?e.findTaxiPoints(de,$e):Ie==="straight"||!nt&&_.eles.length%2===1&&ie===Math.floor(_.eles.length/2)?e.findStraightEdgePoints(de):e.findBezierPoints(de,$e,ie,nt,Ge),e.findEndpoints(de),e.tryToCorrectInvalidPoints(de,$e),e.checkForInvalidEdgeWarning(de),e.storeAllpts(de),e.storeEdgeProjections(de),e.calculateArrowAngles(de),e.recalculateEdgeLabelProjections(de),e.calculateLabelAngles(de)}},P=0;P<u.length;P++)R();this.findHaystackPoints(c)}};function P1(r){var e=[];if(r!=null){for(var t=0;t<r.length;t+=2){var n=r[t],i=r[t+1];e.push({x:n,y:i})}return e}}Cr.getSegmentPoints=function(r){var e=r[0]._private.rscratch;this.recalculateRenderedStyle(r);var t=e.edgeType;if(t==="segments")return P1(e.segpts)};Cr.getControlPoints=function(r){var e=r[0]._private.rscratch;this.recalculateRenderedStyle(r);var t=e.edgeType;if(t==="bezier"||t==="multibezier"||t==="self"||t==="compound")return P1(e.ctrlpts)};Cr.getEdgeMidpoint=function(r){var e=r[0]._private.rscratch;return this.recalculateRenderedStyle(r),{x:e.midX,y:e.midY}};var bs={};bs.manualEndptToPx=function(r,e){var t=this,n=r.position(),i=r.outerWidth(),o=r.outerHeight(),l=r._private.rscratch;if(e.value.length===2){var u=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(u[0]=u[0]*i),e.units[1]==="%"&&(u[1]=u[1]*o),u[0]+=n.x,u[1]+=n.y,u}else{var c=e.pfValue[0];c=-Math.PI/2+c;var f=2*Math.max(i,o),v=[n.x+Math.cos(c)*f,n.y+Math.sin(c)*f];return t.nodeShapes[this.getNodeShape(r)].intersectLine(n.x,n.y,i,o,v[0],v[1],0,r.pstyle("corner-radius").value==="auto"?"auto":r.pstyle("corner-radius").pfValue,l)}};bs.findEndpoints=function(r){var e,t,n,i,o=this,l,u=r.source()[0],c=r.target()[0],f=u.position(),v=c.position(),h=r.pstyle("target-arrow-shape").value,p=r.pstyle("source-arrow-shape").value,y=r.pstyle("target-distance-from-node").pfValue,m=r.pstyle("source-distance-from-node").pfValue,E=u._private.rscratch,x=c._private.rscratch,S=r.pstyle("curve-style").value,b=r._private.rscratch,k=b.edgeType,T=pa(S,"taxi"),D=k==="self"||k==="compound",R=k==="bezier"||k==="multibezier"||D,P=k!=="bezier",B=k==="straight"||k==="segments",L=k==="segments",M=R||P||B,z=D||T,O=r.pstyle("source-endpoint"),_=z?"outside-to-node":O.value,W=u.pstyle("corner-radius").value==="auto"?"auto":u.pstyle("corner-radius").pfValue,U=r.pstyle("target-endpoint"),H=z?"outside-to-node":U.value,q=c.pstyle("corner-radius").value==="auto"?"auto":c.pstyle("corner-radius").pfValue;b.srcManEndpt=O,b.tgtManEndpt=U;var V,G,j,N,F=(e=(U==null||(t=U.pfValue)===null||t===void 0?void 0:t.length)===2?U.pfValue:null)!==null&&e!==void 0?e:[0,0],ee=(n=(O==null||(i=O.pfValue)===null||i===void 0?void 0:i.length)===2?O.pfValue:null)!==null&&n!==void 0?n:[0,0];if(R){var ae=[b.ctrlpts[0],b.ctrlpts[1]],ne=P?[b.ctrlpts[b.ctrlpts.length-2],b.ctrlpts[b.ctrlpts.length-1]]:ae;V=ne,G=ae}else if(B){var se=L?b.segpts.slice(0,2):[v.x+F[0],v.y+F[1]],fe=L?b.segpts.slice(b.segpts.length-2):[f.x+ee[0],f.y+ee[1]];V=fe,G=se}if(H==="inside-to-node")l=[v.x,v.y];else if(U.units)l=this.manualEndptToPx(c,U);else if(H==="outside-to-line")l=b.tgtIntn;else if(H==="outside-to-node"||H==="outside-to-node-or-label"?j=V:(H==="outside-to-line"||H==="outside-to-line-or-label")&&(j=[f.x,f.y]),l=o.nodeShapes[this.getNodeShape(c)].intersectLine(v.x,v.y,c.outerWidth(),c.outerHeight(),j[0],j[1],0,q,x),H==="outside-to-node-or-label"||H==="outside-to-line-or-label"){var ge=c._private.rscratch,le=ge.labelWidth,Q=ge.labelHeight,Z=ge.labelX,ie=ge.labelY,de=le/2,be=Q/2,Ie=c.pstyle("text-valign").value;Ie==="top"?ie-=be:Ie==="bottom"&&(ie+=be);var nt=c.pstyle("text-halign").value;nt==="left"?Z-=de:nt==="right"&&(Z+=de);var Ge=os(j[0],j[1],[Z-de,ie-be,Z+de,ie-be,Z+de,ie+be,Z-de,ie+be],v.x,v.y);if(Ge.length>0){var We=f,Ve=Ya(We,$i(l)),Se=Ya(We,$i(Ge)),Be=Ve;if(Se<Ve&&(l=Ge,Be=Se),Ge.length>2){var ze=Ya(We,{x:Ge[2],y:Ge[3]});ze<Be&&(l=[Ge[2],Ge[3]])}}}var Ke=Ml(l,V,o.arrowShapes[h].spacing(r)+y),Fe=Ml(l,V,o.arrowShapes[h].gap(r)+y);if(b.endX=Fe[0],b.endY=Fe[1],b.arrowEndX=Ke[0],b.arrowEndY=Ke[1],_==="inside-to-node")l=[f.x,f.y];else if(O.units)l=this.manualEndptToPx(u,O);else if(_==="outside-to-line")l=b.srcIntn;else if(_==="outside-to-node"||_==="outside-to-node-or-label"?N=G:(_==="outside-to-line"||_==="outside-to-line-or-label")&&(N=[v.x,v.y]),l=o.nodeShapes[this.getNodeShape(u)].intersectLine(f.x,f.y,u.outerWidth(),u.outerHeight(),N[0],N[1],0,W,E),_==="outside-to-node-or-label"||_==="outside-to-line-or-label"){var Qe=u._private.rscratch,at=Qe.labelWidth,st=Qe.labelHeight,ot=Qe.labelX,lt=Qe.labelY,$e=at/2,Ce=st/2,ve=u.pstyle("text-valign").value;ve==="top"?lt-=Ce:ve==="bottom"&&(lt+=Ce);var I=u.pstyle("text-halign").value;I==="left"?ot-=$e:I==="right"&&(ot+=$e);var te=os(N[0],N[1],[ot-$e,lt-Ce,ot+$e,lt-Ce,ot+$e,lt+Ce,ot-$e,lt+Ce],f.x,f.y);if(te.length>0){var ue=v,ce=Ya(ue,$i(l)),he=Ya(ue,$i(te)),Pe=ce;if(he<ce&&(l=[te[0],te[1]],Pe=he),te.length>2){var pe=Ya(ue,{x:te[2],y:te[3]});pe<Pe&&(l=[te[2],te[3]])}}}var Ne=Ml(l,G,o.arrowShapes[p].spacing(r)+m),ke=Ml(l,G,o.arrowShapes[p].gap(r)+m);b.startX=ke[0],b.startY=ke[1],b.arrowStartX=Ne[0],b.arrowStartY=Ne[1],M&&(!Ee(b.startX)||!Ee(b.startY)||!Ee(b.endX)||!Ee(b.endY)?b.badLine=!0:b.badLine=!1)};bs.getSourceEndpoint=function(r){var e=r[0]._private.rscratch;switch(this.recalculateRenderedStyle(r),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};bs.getTargetEndpoint=function(r){var e=r[0]._private.rscratch;switch(this.recalculateRenderedStyle(r),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var Uv={};function Yk(r,e,t){for(var n=function(f,v,h,p){return or(f,v,h,p)},i=e._private,o=i.rstyle.bezierPts,l=0;l<r.bezierProjPcts.length;l++){var u=r.bezierProjPcts[l];o.push({x:n(t[0],t[2],t[4],u),y:n(t[1],t[3],t[5],u)})}}Uv.storeEdgeProjections=function(r){var e=r._private,t=e.rscratch,n=t.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<t.allpts.length;i+=4)Yk(this,r,t.allpts.slice(i,i+6))}else if(n==="segments")for(var o=e.rstyle.linePts=[],i=0;i+1<t.allpts.length;i+=2)o.push({x:t.allpts[i],y:t.allpts[i+1]});else if(n==="haystack"){var l=t.haystackPts;e.rstyle.haystackPts=[{x:l[0],y:l[1]},{x:l[2],y:l[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(r.pstyle("width").pfValue,r.pstyle("arrow-scale").value)*this.arrowShapeWidth};Uv.recalculateEdgeProjections=function(r){this.findEdgeControlPoints(r)};var Pn={};Pn.recalculateNodeLabelProjection=function(r){var e=r.pstyle("label").strValue;if(!xa(e)){var t,n,i=r._private,o=r.width(),l=r.height(),u=r.padding(),c=r.position(),f=r.pstyle("text-halign").strValue,v=r.pstyle("text-valign").strValue,h=i.rscratch,p=i.rstyle;switch(f){case"left":t=c.x-o/2-u;break;case"right":t=c.x+o/2+u;break;default:t=c.x}switch(v){case"top":n=c.y-l/2-u;break;case"bottom":n=c.y+l/2+u;break;default:n=c.y}h.labelX=t,h.labelY=n,p.labelX=t,p.labelY=n,this.calculateLabelAngles(r),this.applyLabelDimensions(r)}};var D1=function(e,t){var n=Math.atan(t/e);return e===0&&n<0&&(n=n*-1),n},R1=function(e,t){var n=t.x-e.x,i=t.y-e.y;return D1(n,i)},Xk=function(e,t,n,i){var o=is(0,i-.001,1),l=is(0,i+.001,1),u=ji(e,t,n,o),c=ji(e,t,n,l);return R1(u,c)};Pn.recalculateEdgeLabelProjections=function(r){var e,t=r._private,n=t.rscratch,i=this,o={mid:r.pstyle("label").strValue,source:r.pstyle("source-label").strValue,target:r.pstyle("target-label").strValue};if(o.mid||o.source||o.target){e={x:n.midX,y:n.midY};var l=function(h,p,y){Fn(t.rscratch,h,p,y),Fn(t.rstyle,h,p,y)};l("labelX",null,e.x),l("labelY",null,e.y);var u=D1(n.midDispX,n.midDispY);l("labelAutoAngle",null,u);var c=function(){if(c.cache)return c.cache;for(var h=[],p=0;p+5<n.allpts.length;p+=4){var y={x:n.allpts[p],y:n.allpts[p+1]},m={x:n.allpts[p+2],y:n.allpts[p+3]},E={x:n.allpts[p+4],y:n.allpts[p+5]};h.push({p0:y,p1:m,p2:E,startDist:0,length:0,segments:[]})}var x=t.rstyle.bezierPts,S=i.bezierProjPcts.length;function b(P,B,L,M,z){var O=ri(B,L),_=P.segments[P.segments.length-1],W={p0:B,p1:L,t0:M,t1:z,startDist:_?_.startDist+_.length:0,length:O};P.segments.push(W),P.length+=O}for(var k=0;k<h.length;k++){var T=h[k],D=h[k-1];D&&(T.startDist=D.startDist+D.length),b(T,T.p0,x[k*S],0,i.bezierProjPcts[0]);for(var R=0;R<S-1;R++)b(T,x[k*S+R],x[k*S+R+1],i.bezierProjPcts[R],i.bezierProjPcts[R+1]);b(T,x[k*S+S-1],T.p2,i.bezierProjPcts[S-1],1)}return c.cache=h},f=function(h){var p,y=h==="source";if(o[h]){var m=r.pstyle(h+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var E=c(),x,S=0,b=0,k=0;k<E.length;k++){for(var T=E[y?k:E.length-1-k],D=0;D<T.segments.length;D++){var R=T.segments[y?D:T.segments.length-1-D],P=k===E.length-1&&D===T.segments.length-1;if(S=b,b+=R.length,b>=m||P){x={cp:T,segment:R};break}}if(x)break}var B=x.cp,L=x.segment,M=(m-S)/L.length,z=L.t1-L.t0,O=y?L.t0+z*M:L.t1-z*M;O=is(0,O,1),e=ji(B.p0,B.p1,B.p2,O),p=Xk(B.p0,B.p1,B.p2,O);break}case"straight":case"segments":case"haystack":{for(var _=0,W,U,H,q,V=n.allpts.length,G=0;G+3<V&&(y?(H={x:n.allpts[G],y:n.allpts[G+1]},q={x:n.allpts[G+2],y:n.allpts[G+3]}):(H={x:n.allpts[V-2-G],y:n.allpts[V-1-G]},q={x:n.allpts[V-4-G],y:n.allpts[V-3-G]}),W=ri(H,q),U=_,_+=W,!(_>=m));G+=2);var j=m-U,N=j/W;N=is(0,N,1),e=yS(H,q,N),p=R1(H,q);break}}l("labelX",h,e.x),l("labelY",h,e.y),l("labelAutoAngle",h,p)}};f("source"),f("target"),this.applyLabelDimensions(r)}};Pn.applyLabelDimensions=function(r){this.applyPrefixedLabelDimensions(r),r.isEdge()&&(this.applyPrefixedLabelDimensions(r,"source"),this.applyPrefixedLabelDimensions(r,"target"))};Pn.applyPrefixedLabelDimensions=function(r,e){var t=r._private,n=this.getLabelText(r,e),i=ti(n,r._private.labelDimsKey);if(_r(t.rscratch,"prefixedLabelDimsKey",e)!==i){Fn(t.rscratch,"prefixedLabelDimsKey",e,i);var o=this.calculateLabelDimensions(r,n),l=r.pstyle("line-height").pfValue,u=r.pstyle("text-wrap").strValue,c=_r(t.rscratch,"labelWrapCachedLines",e)||[],f=u!=="wrap"?1:Math.max(c.length,1),v=o.height/f,h=v*l,p=o.width,y=o.height+(f-1)*(l-1)*v;Fn(t.rstyle,"labelWidth",e,p),Fn(t.rscratch,"labelWidth",e,p),Fn(t.rstyle,"labelHeight",e,y),Fn(t.rscratch,"labelHeight",e,y),Fn(t.rscratch,"labelLineHeight",e,h)}};Pn.getLabelText=function(r,e){var t=r._private,n=e?e+"-":"",i=r.pstyle(n+"label").strValue,o=r.pstyle("text-transform").value,l=function(ee,ae){return ae?(Fn(t.rscratch,ee,e,ae),ae):_r(t.rscratch,ee,e)};if(!i)return"";o=="none"||(o=="uppercase"?i=i.toUpperCase():o=="lowercase"&&(i=i.toLowerCase()));var u=r.pstyle("text-wrap").value;if(u==="wrap"){var c=l("labelKey");if(c!=null&&l("labelWrapKey")===c)return l("labelWrapCachedText");for(var f="",v=i.split(`
`),h=r.pstyle("text-max-width").pfValue,p=r.pstyle("text-overflow-wrap").value,y=p==="anywhere",m=[],E=/[\s\u200b]+|$/g,x=0;x<v.length;x++){var S=v[x],b=this.calculateLabelDimensions(r,S),k=b.width;if(y){var T=S.split("").join(f);S=T}if(k>h){var D=S.matchAll(E),R="",P=0,B=Vr(D),L;try{for(B.s();!(L=B.n()).done;){var M=L.value,z=M[0],O=S.substring(P,M.index);P=M.index+z.length;var _=R.length===0?O:R+O+z,W=this.calculateLabelDimensions(r,_),U=W.width;U<=h?R+=O+z:(R&&m.push(R),R=O+z)}}catch(F){B.e(F)}finally{B.f()}R.match(/^[\s\u200b]+$/)||m.push(R)}else m.push(S)}l("labelWrapCachedLines",m),i=l("labelWrapCachedText",m.join(`
`)),l("labelWrapKey",c)}else if(u==="ellipsis"){var H=r.pstyle("text-max-width").pfValue,q="",V="",G=!1;if(this.calculateLabelDimensions(r,i).width<H)return i;for(var j=0;j<i.length;j++){var N=this.calculateLabelDimensions(r,q+i[j]+V).width;if(N>H)break;q+=i[j],j===i.length-1&&(G=!0)}return G||(q+=V),q}return i};Pn.getLabelJustification=function(r){var e=r.pstyle("text-justification").strValue,t=r.pstyle("text-halign").strValue;if(e==="auto")if(r.isNode())switch(t){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};Pn.calculateLabelDimensions=function(r,e){var t=this,n=t.cy.window(),i=n.document,o=0,l=r.pstyle("font-style").strValue,u=r.pstyle("font-size").pfValue,c=r.pstyle("font-family").strValue,f=r.pstyle("font-weight").strValue,v=this.labelCalcCanvas,h=this.labelCalcCanvasContext;if(!v){v=this.labelCalcCanvas=i.createElement("canvas"),h=this.labelCalcCanvasContext=v.getContext("2d");var p=v.style;p.position="absolute",p.left="-9999px",p.top="-9999px",p.zIndex="-1",p.visibility="hidden",p.pointerEvents="none"}h.font="".concat(l," ").concat(f," ").concat(u,"px ").concat(c);for(var y=0,m=0,E=e.split(`
`),x=0;x<E.length;x++){var S=E[x],b=h.measureText(S),k=Math.ceil(b.width),T=u;y=Math.max(k,y),m+=T}return y+=o,m+=o,{width:y,height:m}};Pn.calculateLabelAngle=function(r,e){var t=r._private,n=t.rscratch,i=r.isEdge(),o=e?e+"-":"",l=r.pstyle(o+"text-rotation"),u=l.strValue;return u==="none"?0:i&&u==="autorotate"?n.labelAutoAngle:u==="autorotate"?0:l.pfValue};Pn.calculateLabelAngles=function(r){var e=this,t=r.isEdge(),n=r._private,i=n.rscratch;i.labelAngle=e.calculateLabelAngle(r),t&&(i.sourceLabelAngle=e.calculateLabelAngle(r,"source"),i.targetLabelAngle=e.calculateLabelAngle(r,"target"))};var B1={},Vy=28,qy=!1;B1.getNodeShape=function(r){var e=this,t=r.pstyle("shape").value;if(t==="cutrectangle"&&(r.width()<Vy||r.height()<Vy))return qy||(pt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),qy=!0),"rectangle";if(r.isParent())return t==="rectangle"||t==="roundrectangle"||t==="round-rectangle"||t==="cutrectangle"||t==="cut-rectangle"||t==="barrel"?t:"rectangle";if(t==="polygon"){var n=r.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return t};var Mu={};Mu.registerCalculationListeners=function(){var r=this.cy,e=r.collection(),t=this,n=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(l),u)for(var c=0;c<l.length;c++){var f=l[c],v=f._private,h=v.rstyle;h.clean=!1,h.cleanConnected=!1}};t.binder(r).on("bounds.* dirty.*",function(l){var u=l.target;n(u)}).on("style.* background.*",function(l){var u=l.target;n(u,!1)});var i=function(l){if(l){var u=t.onUpdateEleCalcsFns;e.cleanStyle();for(var c=0;c<e.length;c++){var f=e[c],v=f._private.rstyle;f.isNode()&&!v.cleanConnected&&(n(f.connectedEdges()),v.cleanConnected=!0)}if(u)for(var h=0;h<u.length;h++){var p=u[h];p(l,e)}t.recalculateRenderedStyle(e),e=r.collection()}};t.flushRenderedStyleQueue=function(){i(!0)},t.beforeRender(i,t.beforeRenderPriorities.eleCalcs)};Mu.onUpdateEleCalcs=function(r){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(r)};Mu.recalculateRenderedStyle=function(r,e){var t=function(T){return T._private.rstyle.cleanConnected};if(r.length!==0){var n=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var o=0;o<r.length;o++){var l=r[o],u=l._private,c=u.rstyle;l.isEdge()&&(!t(l.source())||!t(l.target()))&&(c.clean=!1),l.isEdge()&&l.isBundledBezier()&&l.parallelEdges().some(function(k){return!k._private.rstyle.clean&&k.isBundledBezier()})&&(c.clean=!1),!(e&&c.clean||l.removed())&&l.pstyle("display").value!=="none"&&(u.group==="nodes"?i.push(l):n.push(l),c.clean=!0)}for(var f=0;f<i.length;f++){var v=i[f],h=v._private,p=h.rstyle,y=v.position();this.recalculateNodeLabelProjection(v),p.nodeX=y.x,p.nodeY=y.y,p.nodeW=v.pstyle("width").pfValue,p.nodeH=v.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var m=0;m<n.length;m++){var E=n[m],x=E._private,S=x.rstyle,b=x.rscratch;S.srcX=b.arrowStartX,S.srcY=b.arrowStartY,S.tgtX=b.arrowEndX,S.tgtY=b.arrowEndY,S.midX=b.midX,S.midY=b.midY,S.labelAngle=b.labelAngle,S.sourceLabelAngle=b.sourceLabelAngle,S.targetLabelAngle=b.targetLabelAngle}}}};var Lu={};Lu.updateCachedGrabbedEles=function(){var r=this.cachedZSortedEles;if(r){r.drag=[],r.nondrag=[];for(var e=[],t=0;t<r.length;t++){var n=r[t],i=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):i.inDragLayer?r.drag.push(n):r.nondrag.push(n)}for(var t=0;t<e.length;t++){var n=e[t];r.drag.push(n)}}};Lu.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Lu.getCachedZSortedEles=function(r){if(r||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(f1),e.interactive=e.filter(function(t){return t.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var A1={};[oi,du,Cr,bs,Uv,Pn,B1,Mu,Lu].forEach(function(r){je(A1,r)});var N1={};N1.getCachedImage=function(r,e,t){var n=this,i=n.imageCache=n.imageCache||{},o=i[r];if(o)return o.image.complete||o.image.addEventListener("load",t),o.image;o=i[r]=i[r]||{};var l=o.image=new Image;l.addEventListener("load",t),l.addEventListener("error",function(){l.error=!0});var u="data:",c=r.substring(0,u.length).toLowerCase()===u;return c||(e=e==="null"?null:e,l.crossOrigin=e),l.src=r,l};var no={};no.registerBinding=function(r,e,t,n){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(r)){for(var o=[],l=0;l<r.length;l++){var u=r[l];if(u!==void 0){var c=this.binder(u);o.push(c.on.apply(c,i))}}return o}var c=this.binder(r);return c.on.apply(c,i)};no.binder=function(r){var e=this,t=e.cy.window(),n=r===t||r===t.document||r===t.document.body||lE(r);if(e.supportsPassiveEvents==null){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});t.addEventListener("test",null,o)}catch{}e.supportsPassiveEvents=i}var l=function(c,f,v){var h=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(h[2]={capture:v??!1,passive:!1,once:!1}),e.bindings.push({target:r,args:h}),(r.addEventListener||r.on).apply(r,h),this};return{on:l,addEventListener:l,addListener:l,bind:l}};no.nodeIsDraggable=function(r){return r&&r.isNode()&&!r.locked()&&r.grabbable()};no.nodeIsGrabbable=function(r){return this.nodeIsDraggable(r)&&r.interactive()};no.load=function(){var r=this,e=r.cy.window(),t=function(I){return I.selected()},n=function(I){var te=I.getRootNode();if(te&&te.nodeType===11&&te.host!==void 0)return te},i=function(I,te,ue,ce){I==null&&(I=r.cy);for(var he=0;he<te.length;he++){var Pe=te[he];I.emit({originalEvent:ue,type:Pe,position:ce})}},o=function(I){return I.shiftKey||I.metaKey||I.ctrlKey},l=function(I,te){var ue=!0;if(r.cy.hasCompoundNodes()&&I&&I.pannable())for(var ce=0;te&&ce<te.length;ce++){var I=te[ce];if(I.isNode()&&I.isParent()&&!I.pannable()){ue=!1;break}}else ue=!0;return ue},u=function(I){I[0]._private.grabbed=!0},c=function(I){I[0]._private.grabbed=!1},f=function(I){I[0]._private.rscratch.inDragLayer=!0},v=function(I){I[0]._private.rscratch.inDragLayer=!1},h=function(I){I[0]._private.rscratch.isGrabTarget=!0},p=function(I){I[0]._private.rscratch.isGrabTarget=!1},y=function(I,te){var ue=te.addToList,ce=ue.has(I);!ce&&I.grabbable()&&!I.locked()&&(ue.merge(I),u(I))},m=function(I,te){if(I.cy().hasCompoundNodes()&&!(te.inDragLayer==null&&te.addToList==null)){var ue=I.descendants();te.inDragLayer&&(ue.forEach(f),ue.connectedEdges().forEach(f)),te.addToList&&y(ue,te)}},E=function(I,te){te=te||{};var ue=I.cy().hasCompoundNodes();te.inDragLayer&&(I.forEach(f),I.neighborhood().stdFilter(function(ce){return!ue||ce.isEdge()}).forEach(f)),te.addToList&&I.forEach(function(ce){y(ce,te)}),m(I,te),b(I,{inDragLayer:te.inDragLayer}),r.updateCachedGrabbedEles()},x=E,S=function(I){I&&(r.getCachedZSortedEles().forEach(function(te){c(te),v(te),p(te)}),r.updateCachedGrabbedEles())},b=function(I,te){if(!(te.inDragLayer==null&&te.addToList==null)&&I.cy().hasCompoundNodes()){var ue=I.ancestors().orphans();if(!ue.same(I)){var ce=ue.descendants().spawnSelf().merge(ue).unmerge(I).unmerge(I.descendants()),he=ce.connectedEdges();te.inDragLayer&&(he.forEach(f),ce.forEach(f)),te.addToList&&ce.forEach(function(Pe){y(Pe,te)})}}},k=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},T=typeof MutationObserver<"u",D=typeof ResizeObserver<"u";T?(r.removeObserver=new MutationObserver(function(ve){for(var I=0;I<ve.length;I++){var te=ve[I],ue=te.removedNodes;if(ue)for(var ce=0;ce<ue.length;ce++){var he=ue[ce];if(he===r.container){r.destroy();break}}}}),r.container.parentNode&&r.removeObserver.observe(r.container.parentNode,{childList:!0})):r.registerBinding(r.container,"DOMNodeRemoved",function(ve){r.destroy()});var R=ms(function(){r.cy.resize()},100);T&&(r.styleObserver=new MutationObserver(R),r.styleObserver.observe(r.container,{attributes:!0})),r.registerBinding(e,"resize",R),D&&(r.resizeObserver=new ResizeObserver(R),r.resizeObserver.observe(r.container));var P=function(I,te){for(;I!=null;)te(I),I=I.parentNode},B=function(){r.invalidateContainerClientCoordsCache()};P(r.container,function(ve){r.registerBinding(ve,"transitionend",B),r.registerBinding(ve,"animationend",B),r.registerBinding(ve,"scroll",B)}),r.registerBinding(r.container,"contextmenu",function(ve){ve.preventDefault()});var L=function(){return r.selection[4]!==0},M=function(I){for(var te=r.findContainerClientCoords(),ue=te[0],ce=te[1],he=te[2],Pe=te[3],pe=I.touches?I.touches:[I],Ne=!1,ke=0;ke<pe.length;ke++){var _e=pe[ke];if(ue<=_e.clientX&&_e.clientX<=ue+he&&ce<=_e.clientY&&_e.clientY<=ce+Pe){Ne=!0;break}}if(!Ne)return!1;for(var Ze=r.container,Xe=I.target,Me=Xe.parentNode,et=!1;Me;){if(Me===Ze){et=!0;break}Me=Me.parentNode}return!!et};r.registerBinding(r.container,"mousedown",function(I){if(M(I)&&!(r.hoverData.which===1&&I.which!==1)){I.preventDefault(),k(),r.hoverData.capture=!0,r.hoverData.which=I.which;var te=r.cy,ue=[I.clientX,I.clientY],ce=r.projectIntoViewport(ue[0],ue[1]),he=r.selection,Pe=r.findNearestElements(ce[0],ce[1],!0,!1),pe=Pe[0],Ne=r.dragData.possibleDragElements;r.hoverData.mdownPos=ce,r.hoverData.mdownGPos=ue;var ke=function(Je){return{originalEvent:I,type:Je,position:{x:ce[0],y:ce[1]}}},_e=function(){r.hoverData.tapholdCancelled=!1,clearTimeout(r.hoverData.tapholdTimeout),r.hoverData.tapholdTimeout=setTimeout(function(){if(!r.hoverData.tapholdCancelled){var Je=r.hoverData.down;Je?Je.emit(ke("taphold")):te.emit(ke("taphold"))}},r.tapholdDuration)};if(I.which==3){r.hoverData.cxtStarted=!0;var Ze={originalEvent:I,type:"cxttapstart",position:{x:ce[0],y:ce[1]}};pe?(pe.activate(),pe.emit(Ze),r.hoverData.down=pe):te.emit(Ze),r.hoverData.downTime=new Date().getTime(),r.hoverData.cxtDragged=!1}else if(I.which==1){pe&&pe.activate();{if(pe!=null&&r.nodeIsGrabbable(pe)){var Xe=function(Je){Je.emit(ke("grab"))};if(h(pe),!pe.selected())Ne=r.dragData.possibleDragElements=te.collection(),x(pe,{addToList:Ne}),pe.emit(ke("grabon")).emit(ke("grab"));else{Ne=r.dragData.possibleDragElements=te.collection();var Me=te.$(function(et){return et.isNode()&&et.selected()&&r.nodeIsGrabbable(et)});E(Me,{addToList:Ne}),pe.emit(ke("grabon")),Me.forEach(Xe)}r.redrawHint("eles",!0),r.redrawHint("drag",!0)}r.hoverData.down=pe,r.hoverData.downs=Pe,r.hoverData.downTime=new Date().getTime()}i(pe,["mousedown","tapstart","vmousedown"],I,{x:ce[0],y:ce[1]}),pe==null?(he[4]=1,r.data.bgActivePosistion={x:ce[0],y:ce[1]},r.redrawHint("select",!0),r.redraw()):pe.pannable()&&(he[4]=1),_e()}he[0]=he[2]=ce[0],he[1]=he[3]=ce[1]}},!1);var z=n(r.container);r.registerBinding([e,z],"mousemove",function(I){var te=r.hoverData.capture;if(!(!te&&!M(I))){var ue=!1,ce=r.cy,he=ce.zoom(),Pe=[I.clientX,I.clientY],pe=r.projectIntoViewport(Pe[0],Pe[1]),Ne=r.hoverData.mdownPos,ke=r.hoverData.mdownGPos,_e=r.selection,Ze=null;!r.hoverData.draggingEles&&!r.hoverData.dragging&&!r.hoverData.selecting&&(Ze=r.findNearestElement(pe[0],pe[1],!0,!1));var Xe=r.hoverData.last,Me=r.hoverData.down,et=[pe[0]-_e[2],pe[1]-_e[3]],Je=r.dragData.possibleDragElements,At;if(ke){var Et=Pe[0]-ke[0],qt=Et*Et,Pt=Pe[1]-ke[1],Dt=Pt*Pt,Wt=qt+Dt;r.hoverData.isOverThresholdDrag=At=Wt>=r.desktopTapThreshold2}var Nt=o(I);At&&(r.hoverData.tapholdCancelled=!0);var qr=function(){var Tr=r.hoverData.dragDelta=r.hoverData.dragDelta||[];Tr.length===0?(Tr.push(et[0]),Tr.push(et[1])):(Tr[0]+=et[0],Tr[1]+=et[1])};ue=!0,i(Ze,["mousemove","vmousemove","tapdrag"],I,{x:pe[0],y:pe[1]});var St=function(Tr){return{originalEvent:I,type:Tr,position:{x:pe[0],y:pe[1]}}},Wr=function(){r.data.bgActivePosistion=void 0,r.hoverData.selecting||ce.emit(St("boxstart")),_e[4]=1,r.hoverData.selecting=!0,r.redrawHint("select",!0),r.redraw()};if(r.hoverData.which===3){if(At){var an=St("cxtdrag");Me?Me.emit(an):ce.emit(an),r.hoverData.cxtDragged=!0,(!r.hoverData.cxtOver||Ze!==r.hoverData.cxtOver)&&(r.hoverData.cxtOver&&r.hoverData.cxtOver.emit(St("cxtdragout")),r.hoverData.cxtOver=Ze,Ze&&Ze.emit(St("cxtdragover")))}}else if(r.hoverData.dragging){if(ue=!0,ce.panningEnabled()&&ce.userPanningEnabled()){var Hn;if(r.hoverData.justStartedPan){var li=r.hoverData.mdownPos;Hn={x:(pe[0]-li[0])*he,y:(pe[1]-li[1])*he},r.hoverData.justStartedPan=!1}else Hn={x:et[0]*he,y:et[1]*he};ce.panBy(Hn),ce.emit(St("dragpan")),r.hoverData.dragged=!0}pe=r.projectIntoViewport(I.clientX,I.clientY)}else if(_e[4]==1&&(Me==null||Me.pannable())){if(At){if(!r.hoverData.dragging&&ce.boxSelectionEnabled()&&(Nt||!ce.panningEnabled()||!ce.userPanningEnabled()))Wr();else if(!r.hoverData.selecting&&ce.panningEnabled()&&ce.userPanningEnabled()){var kr=l(Me,r.hoverData.downs);kr&&(r.hoverData.dragging=!0,r.hoverData.justStartedPan=!0,_e[4]=0,r.data.bgActivePosistion=$i(Ne),r.redrawHint("select",!0),r.redraw())}Me&&Me.pannable()&&Me.active()&&Me.unactivate()}}else{if(Me&&Me.pannable()&&Me.active()&&Me.unactivate(),(!Me||!Me.grabbed())&&Ze!=Xe&&(Xe&&i(Xe,["mouseout","tapdragout"],I,{x:pe[0],y:pe[1]}),Ze&&i(Ze,["mouseover","tapdragover"],I,{x:pe[0],y:pe[1]}),r.hoverData.last=Ze),Me)if(At){if(ce.boxSelectionEnabled()&&Nt)Me&&Me.grabbed()&&(S(Je),Me.emit(St("freeon")),Je.emit(St("free")),r.dragData.didDrag&&(Me.emit(St("dragfreeon")),Je.emit(St("dragfree")))),Wr();else if(Me&&Me.grabbed()&&r.nodeIsDraggable(Me)){var ur=!r.dragData.didDrag;ur&&r.redrawHint("eles",!0),r.dragData.didDrag=!0,r.hoverData.draggingEles||E(Je,{inDragLayer:!0});var Kt={x:0,y:0};if(Ee(et[0])&&Ee(et[1])&&(Kt.x+=et[0],Kt.y+=et[1],ur)){var gr=r.hoverData.dragDelta;gr&&Ee(gr[0])&&Ee(gr[1])&&(Kt.x+=gr[0],Kt.y+=gr[1])}r.hoverData.draggingEles=!0,Je.silentShift(Kt).emit(St("position")).emit(St("drag")),r.redrawHint("drag",!0),r.redraw()}}else qr();ue=!0}if(_e[2]=pe[0],_e[3]=pe[1],ue)return I.stopPropagation&&I.stopPropagation(),I.preventDefault&&I.preventDefault(),!1}},!1);var O,_,W;r.registerBinding(e,"mouseup",function(I){if(!(r.hoverData.which===1&&I.which!==1&&r.hoverData.capture)){var te=r.hoverData.capture;if(te){r.hoverData.capture=!1;var ue=r.cy,ce=r.projectIntoViewport(I.clientX,I.clientY),he=r.selection,Pe=r.findNearestElement(ce[0],ce[1],!0,!1),pe=r.dragData.possibleDragElements,Ne=r.hoverData.down,ke=o(I);r.data.bgActivePosistion&&(r.redrawHint("select",!0),r.redraw()),r.hoverData.tapholdCancelled=!0,r.data.bgActivePosistion=void 0,Ne&&Ne.unactivate();var _e=function(Et){return{originalEvent:I,type:Et,position:{x:ce[0],y:ce[1]}}};if(r.hoverData.which===3){var Ze=_e("cxttapend");if(Ne?Ne.emit(Ze):ue.emit(Ze),!r.hoverData.cxtDragged){var Xe=_e("cxttap");Ne?Ne.emit(Xe):ue.emit(Xe)}r.hoverData.cxtDragged=!1,r.hoverData.which=null}else if(r.hoverData.which===1){if(i(Pe,["mouseup","tapend","vmouseup"],I,{x:ce[0],y:ce[1]}),!r.dragData.didDrag&&!r.hoverData.dragged&&!r.hoverData.selecting&&!r.hoverData.isOverThresholdDrag&&(i(Ne,["click","tap","vclick"],I,{x:ce[0],y:ce[1]}),_=!1,I.timeStamp-W<=ue.multiClickDebounceTime()?(O&&clearTimeout(O),_=!0,W=null,i(Ne,["dblclick","dbltap","vdblclick"],I,{x:ce[0],y:ce[1]})):(O=setTimeout(function(){_||i(Ne,["oneclick","onetap","voneclick"],I,{x:ce[0],y:ce[1]})},ue.multiClickDebounceTime()),W=I.timeStamp)),Ne==null&&!r.dragData.didDrag&&!r.hoverData.selecting&&!r.hoverData.dragged&&!o(I)&&(ue.$(t).unselect(["tapunselect"]),pe.length>0&&r.redrawHint("eles",!0),r.dragData.possibleDragElements=pe=ue.collection()),Pe==Ne&&!r.dragData.didDrag&&!r.hoverData.selecting&&Pe!=null&&Pe._private.selectable&&(r.hoverData.dragging||(ue.selectionType()==="additive"||ke?Pe.selected()?Pe.unselect(["tapunselect"]):Pe.select(["tapselect"]):ke||(ue.$(t).unmerge(Pe).unselect(["tapunselect"]),Pe.select(["tapselect"]))),r.redrawHint("eles",!0)),r.hoverData.selecting){var Me=ue.collection(r.getAllInBox(he[0],he[1],he[2],he[3]));r.redrawHint("select",!0),Me.length>0&&r.redrawHint("eles",!0),ue.emit(_e("boxend"));var et=function(Et){return Et.selectable()&&!Et.selected()};ue.selectionType()==="additive"||ke||ue.$(t).unmerge(Me).unselect(),Me.emit(_e("box")).stdFilter(et).select().emit(_e("boxselect")),r.redraw()}if(r.hoverData.dragging&&(r.hoverData.dragging=!1,r.redrawHint("select",!0),r.redrawHint("eles",!0),r.redraw()),!he[4]){r.redrawHint("drag",!0),r.redrawHint("eles",!0);var Je=Ne&&Ne.grabbed();S(pe),Je&&(Ne.emit(_e("freeon")),pe.emit(_e("free")),r.dragData.didDrag&&(Ne.emit(_e("dragfreeon")),pe.emit(_e("dragfree"))))}}he[4]=0,r.hoverData.down=null,r.hoverData.cxtStarted=!1,r.hoverData.draggingEles=!1,r.hoverData.selecting=!1,r.hoverData.isOverThresholdDrag=!1,r.dragData.didDrag=!1,r.hoverData.dragged=!1,r.hoverData.dragDelta=[],r.hoverData.mdownPos=null,r.hoverData.mdownGPos=null,r.hoverData.which=null}}},!1);var U=[],H=4,q,V=1e5,G=function(I,te){for(var ue=0;ue<I.length;ue++)if(I[ue]%te!==0)return!1;return!0},j=function(I){for(var te=Math.abs(I[0]),ue=1;ue<I.length;ue++)if(Math.abs(I[ue])!==te)return!1;return!0},N=function(I){var te=!1,ue=I.deltaY;if(ue==null&&(I.wheelDeltaY!=null?ue=I.wheelDeltaY/4:I.wheelDelta!=null&&(ue=I.wheelDelta/4)),ue!==0){if(q==null)if(U.length>=H){var ce=U;if(q=G(ce,5),!q){var he=Math.abs(ce[0]);q=j(ce)&&he>5}if(q)for(var Pe=0;Pe<ce.length;Pe++)V=Math.min(Math.abs(ce[Pe]),V)}else U.push(ue),te=!0;else q&&(V=Math.min(Math.abs(ue),V));if(!r.scrollingPage){var pe=r.cy,Ne=pe.zoom(),ke=pe.pan(),_e=r.projectIntoViewport(I.clientX,I.clientY),Ze=[_e[0]*Ne+ke.x,_e[1]*Ne+ke.y];if(r.hoverData.draggingEles||r.hoverData.dragging||r.hoverData.cxtStarted||L()){I.preventDefault();return}if(pe.panningEnabled()&&pe.userPanningEnabled()&&pe.zoomingEnabled()&&pe.userZoomingEnabled()){I.preventDefault(),r.data.wheelZooming=!0,clearTimeout(r.data.wheelTimeout),r.data.wheelTimeout=setTimeout(function(){r.data.wheelZooming=!1,r.redrawHint("eles",!0),r.redraw()},150);var Xe;te&&Math.abs(ue)>5&&(ue=Bv(ue)*5),Xe=ue/-250,q&&(Xe/=V,Xe*=3),Xe=Xe*r.wheelSensitivity;var Me=I.deltaMode===1;Me&&(Xe*=33);var et=pe.zoom()*Math.pow(10,Xe);I.type==="gesturechange"&&(et=r.gestureStartZoom*I.scale),pe.zoom({level:et,renderedPosition:{x:Ze[0],y:Ze[1]}}),pe.emit({type:I.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:I,position:{x:_e[0],y:_e[1]}})}}}};r.registerBinding(r.container,"wheel",N,!0),r.registerBinding(e,"scroll",function(I){r.scrollingPage=!0,clearTimeout(r.scrollingPageTimeout),r.scrollingPageTimeout=setTimeout(function(){r.scrollingPage=!1},250)},!0),r.registerBinding(r.container,"gesturestart",function(I){r.gestureStartZoom=r.cy.zoom(),r.hasTouchStarted||I.preventDefault()},!0),r.registerBinding(r.container,"gesturechange",function(ve){r.hasTouchStarted||N(ve)},!0),r.registerBinding(r.container,"mouseout",function(I){var te=r.projectIntoViewport(I.clientX,I.clientY);r.cy.emit({originalEvent:I,type:"mouseout",position:{x:te[0],y:te[1]}})},!1),r.registerBinding(r.container,"mouseover",function(I){var te=r.projectIntoViewport(I.clientX,I.clientY);r.cy.emit({originalEvent:I,type:"mouseover",position:{x:te[0],y:te[1]}})},!1);var F,ee,ae,ne,se,fe,ge,le,Q,Z,ie,de,be,Ie=function(I,te,ue,ce){return Math.sqrt((ue-I)*(ue-I)+(ce-te)*(ce-te))},nt=function(I,te,ue,ce){return(ue-I)*(ue-I)+(ce-te)*(ce-te)},Ge;r.registerBinding(r.container,"touchstart",Ge=function(I){if(r.hasTouchStarted=!0,!!M(I)){k(),r.touchData.capture=!0,r.data.bgActivePosistion=void 0;var te=r.cy,ue=r.touchData.now,ce=r.touchData.earlier;if(I.touches[0]){var he=r.projectIntoViewport(I.touches[0].clientX,I.touches[0].clientY);ue[0]=he[0],ue[1]=he[1]}if(I.touches[1]){var he=r.projectIntoViewport(I.touches[1].clientX,I.touches[1].clientY);ue[2]=he[0],ue[3]=he[1]}if(I.touches[2]){var he=r.projectIntoViewport(I.touches[2].clientX,I.touches[2].clientY);ue[4]=he[0],ue[5]=he[1]}var Pe=function(Nt){return{originalEvent:I,type:Nt,position:{x:ue[0],y:ue[1]}}};if(I.touches[1]){r.touchData.singleTouchMoved=!0,S(r.dragData.touchDragEles);var pe=r.findContainerClientCoords();Q=pe[0],Z=pe[1],ie=pe[2],de=pe[3],F=I.touches[0].clientX-Q,ee=I.touches[0].clientY-Z,ae=I.touches[1].clientX-Q,ne=I.touches[1].clientY-Z,be=0<=F&&F<=ie&&0<=ae&&ae<=ie&&0<=ee&&ee<=de&&0<=ne&&ne<=de;var Ne=te.pan(),ke=te.zoom();se=Ie(F,ee,ae,ne),fe=nt(F,ee,ae,ne),ge=[(F+ae)/2,(ee+ne)/2],le=[(ge[0]-Ne.x)/ke,(ge[1]-Ne.y)/ke];var _e=200,Ze=_e*_e;if(fe<Ze&&!I.touches[2]){var Xe=r.findNearestElement(ue[0],ue[1],!0,!0),Me=r.findNearestElement(ue[2],ue[3],!0,!0);Xe&&Xe.isNode()?(Xe.activate().emit(Pe("cxttapstart")),r.touchData.start=Xe):Me&&Me.isNode()?(Me.activate().emit(Pe("cxttapstart")),r.touchData.start=Me):te.emit(Pe("cxttapstart")),r.touchData.start&&(r.touchData.start._private.grabbed=!1),r.touchData.cxt=!0,r.touchData.cxtDragged=!1,r.data.bgActivePosistion=void 0,r.redraw();return}}if(I.touches[2])te.boxSelectionEnabled()&&I.preventDefault();else if(!I.touches[1]){if(I.touches[0]){var et=r.findNearestElements(ue[0],ue[1],!0,!0),Je=et[0];if(Je!=null&&(Je.activate(),r.touchData.start=Je,r.touchData.starts=et,r.nodeIsGrabbable(Je))){var At=r.dragData.touchDragEles=te.collection(),Et=null;r.redrawHint("eles",!0),r.redrawHint("drag",!0),Je.selected()?(Et=te.$(function(Wt){return Wt.selected()&&r.nodeIsGrabbable(Wt)}),E(Et,{addToList:At})):x(Je,{addToList:At}),h(Je),Je.emit(Pe("grabon")),Et?Et.forEach(function(Wt){Wt.emit(Pe("grab"))}):Je.emit(Pe("grab"))}i(Je,["touchstart","tapstart","vmousedown"],I,{x:ue[0],y:ue[1]}),Je==null&&(r.data.bgActivePosistion={x:he[0],y:he[1]},r.redrawHint("select",!0),r.redraw()),r.touchData.singleTouchMoved=!1,r.touchData.singleTouchStartTime=+new Date,clearTimeout(r.touchData.tapholdTimeout),r.touchData.tapholdTimeout=setTimeout(function(){r.touchData.singleTouchMoved===!1&&!r.pinching&&!r.touchData.selecting&&i(r.touchData.start,["taphold"],I,{x:ue[0],y:ue[1]})},r.tapholdDuration)}}if(I.touches.length>=1){for(var qt=r.touchData.startPosition=[null,null,null,null,null,null],Pt=0;Pt<ue.length;Pt++)qt[Pt]=ce[Pt]=ue[Pt];var Dt=I.touches[0];r.touchData.startGPosition=[Dt.clientX,Dt.clientY]}}},!1);var We;r.registerBinding(e,"touchmove",We=function(I){var te=r.touchData.capture;if(!(!te&&!M(I))){var ue=r.selection,ce=r.cy,he=r.touchData.now,Pe=r.touchData.earlier,pe=ce.zoom();if(I.touches[0]){var Ne=r.projectIntoViewport(I.touches[0].clientX,I.touches[0].clientY);he[0]=Ne[0],he[1]=Ne[1]}if(I.touches[1]){var Ne=r.projectIntoViewport(I.touches[1].clientX,I.touches[1].clientY);he[2]=Ne[0],he[3]=Ne[1]}if(I.touches[2]){var Ne=r.projectIntoViewport(I.touches[2].clientX,I.touches[2].clientY);he[4]=Ne[0],he[5]=Ne[1]}var ke=function(fi){return{originalEvent:I,type:fi,position:{x:he[0],y:he[1]}}},_e=r.touchData.startGPosition,Ze;if(te&&I.touches[0]&&_e){for(var Xe=[],Me=0;Me<he.length;Me++)Xe[Me]=he[Me]-Pe[Me];var et=I.touches[0].clientX-_e[0],Je=et*et,At=I.touches[0].clientY-_e[1],Et=At*At,qt=Je+Et;Ze=qt>=r.touchTapThreshold2}if(te&&r.touchData.cxt){I.preventDefault();var Pt=I.touches[0].clientX-Q,Dt=I.touches[0].clientY-Z,Wt=I.touches[1].clientX-Q,Nt=I.touches[1].clientY-Z,qr=nt(Pt,Dt,Wt,Nt),St=qr/fe,Wr=150,an=Wr*Wr,Hn=1.5,li=Hn*Hn;if(St>=li||qr>=an){r.touchData.cxt=!1,r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);var kr=ke("cxttapend");r.touchData.start?(r.touchData.start.unactivate().emit(kr),r.touchData.start=null):ce.emit(kr)}}if(te&&r.touchData.cxt){var kr=ke("cxtdrag");r.data.bgActivePosistion=void 0,r.redrawHint("select",!0),r.touchData.start?r.touchData.start.emit(kr):ce.emit(kr),r.touchData.start&&(r.touchData.start._private.grabbed=!1),r.touchData.cxtDragged=!0;var ur=r.findNearestElement(he[0],he[1],!0,!0);(!r.touchData.cxtOver||ur!==r.touchData.cxtOver)&&(r.touchData.cxtOver&&r.touchData.cxtOver.emit(ke("cxtdragout")),r.touchData.cxtOver=ur,ur&&ur.emit(ke("cxtdragover")))}else if(te&&I.touches[2]&&ce.boxSelectionEnabled())I.preventDefault(),r.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,r.touchData.selecting||ce.emit(ke("boxstart")),r.touchData.selecting=!0,r.touchData.didSelect=!0,ue[4]=1,!ue||ue.length===0||ue[0]===void 0?(ue[0]=(he[0]+he[2]+he[4])/3,ue[1]=(he[1]+he[3]+he[5])/3,ue[2]=(he[0]+he[2]+he[4])/3+1,ue[3]=(he[1]+he[3]+he[5])/3+1):(ue[2]=(he[0]+he[2]+he[4])/3,ue[3]=(he[1]+he[3]+he[5])/3),r.redrawHint("select",!0),r.redraw();else if(te&&I.touches[1]&&!r.touchData.didSelect&&ce.zoomingEnabled()&&ce.panningEnabled()&&ce.userZoomingEnabled()&&ce.userPanningEnabled()){I.preventDefault(),r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);var Kt=r.dragData.touchDragEles;if(Kt){r.redrawHint("drag",!0);for(var gr=0;gr<Kt.length;gr++){var jn=Kt[gr]._private;jn.grabbed=!1,jn.rscratch.inDragLayer=!1}}var Tr=r.touchData.start,Pt=I.touches[0].clientX-Q,Dt=I.touches[0].clientY-Z,Wt=I.touches[1].clientX-Q,Nt=I.touches[1].clientY-Z,io=Ie(Pt,Dt,Wt,Nt),Cs=io/se;if(be){var Iu=Pt-F,zu=Dt-ee,Mt=Wt-ae,Ou=Nt-ne,oo=(Iu+Mt)/2,ks=(zu+Ou)/2,gn=ce.zoom(),so=gn*Cs,Na=ce.pan(),Ma=le[0]*gn+Na.x,$r=le[1]*gn+Na.y,_u={x:-so/gn*(Ma-Na.x-oo)+Ma,y:-so/gn*($r-Na.y-ks)+$r};if(Tr&&Tr.active()){var Kt=r.dragData.touchDragEles;S(Kt),r.redrawHint("drag",!0),r.redrawHint("eles",!0),Tr.unactivate().emit(ke("freeon")),Kt.emit(ke("free")),r.dragData.didDrag&&(Tr.emit(ke("dragfreeon")),Kt.emit(ke("dragfree")))}ce.viewport({zoom:so,pan:_u,cancelOnFailedZoom:!0}),ce.emit(ke("pinchzoom")),se=io,F=Pt,ee=Dt,ae=Wt,ne=Nt,r.pinching=!0}if(I.touches[0]){var Ne=r.projectIntoViewport(I.touches[0].clientX,I.touches[0].clientY);he[0]=Ne[0],he[1]=Ne[1]}if(I.touches[1]){var Ne=r.projectIntoViewport(I.touches[1].clientX,I.touches[1].clientY);he[2]=Ne[0],he[3]=Ne[1]}if(I.touches[2]){var Ne=r.projectIntoViewport(I.touches[2].clientX,I.touches[2].clientY);he[4]=Ne[0],he[5]=Ne[1]}}else if(I.touches[0]&&!r.touchData.didSelect){var Lt=r.touchData.start,lo=r.touchData.last,ur;if(!r.hoverData.draggingEles&&!r.swipePanning&&(ur=r.findNearestElement(he[0],he[1],!0,!0)),te&&Lt!=null&&I.preventDefault(),te&&Lt!=null&&r.nodeIsDraggable(Lt))if(Ze){var Kt=r.dragData.touchDragEles,Ts=!r.dragData.didDrag;Ts&&E(Kt,{inDragLayer:!0}),r.dragData.didDrag=!0;var La={x:0,y:0};if(Ee(Xe[0])&&Ee(Xe[1])&&(La.x+=Xe[0],La.y+=Xe[1],Ts)){r.redrawHint("eles",!0);var mr=r.touchData.dragDelta;mr&&Ee(mr[0])&&Ee(mr[1])&&(La.x+=mr[0],La.y+=mr[1])}r.hoverData.draggingEles=!0,Kt.silentShift(La).emit(ke("position")).emit(ke("drag")),r.redrawHint("drag",!0),r.touchData.startPosition[0]==Pe[0]&&r.touchData.startPosition[1]==Pe[1]&&r.redrawHint("eles",!0),r.redraw()}else{var mr=r.touchData.dragDelta=r.touchData.dragDelta||[];mr.length===0?(mr.push(Xe[0]),mr.push(Xe[1])):(mr[0]+=Xe[0],mr[1]+=Xe[1])}if(i(Lt||ur,["touchmove","tapdrag","vmousemove"],I,{x:he[0],y:he[1]}),(!Lt||!Lt.grabbed())&&ur!=lo&&(lo&&lo.emit(ke("tapdragout")),ur&&ur.emit(ke("tapdragover"))),r.touchData.last=ur,te)for(var gr=0;gr<he.length;gr++)he[gr]&&r.touchData.startPosition[gr]&&Ze&&(r.touchData.singleTouchMoved=!0);if(te&&(Lt==null||Lt.pannable())&&ce.panningEnabled()&&ce.userPanningEnabled()){var ui=l(Lt,r.touchData.starts);ui&&(I.preventDefault(),r.data.bgActivePosistion||(r.data.bgActivePosistion=$i(r.touchData.startPosition)),r.swipePanning?(ce.panBy({x:Xe[0]*pe,y:Xe[1]*pe}),ce.emit(ke("dragpan"))):Ze&&(r.swipePanning=!0,ce.panBy({x:et*pe,y:At*pe}),ce.emit(ke("dragpan")),Lt&&(Lt.unactivate(),r.redrawHint("select",!0),r.touchData.start=null)));var Ne=r.projectIntoViewport(I.touches[0].clientX,I.touches[0].clientY);he[0]=Ne[0],he[1]=Ne[1]}}for(var Me=0;Me<he.length;Me++)Pe[Me]=he[Me];te&&I.touches.length>0&&!r.hoverData.draggingEles&&!r.swipePanning&&r.data.bgActivePosistion!=null&&(r.data.bgActivePosistion=void 0,r.redrawHint("select",!0),r.redraw())}},!1);var Ve;r.registerBinding(e,"touchcancel",Ve=function(I){var te=r.touchData.start;r.touchData.capture=!1,te&&te.unactivate()});var Se,Be,ze,Ke;if(r.registerBinding(e,"touchend",Se=function(I){var te=r.touchData.start,ue=r.touchData.capture;if(ue)I.touches.length===0&&(r.touchData.capture=!1),I.preventDefault();else return;var ce=r.selection;r.swipePanning=!1,r.hoverData.draggingEles=!1;var he=r.cy,Pe=he.zoom(),pe=r.touchData.now,Ne=r.touchData.earlier;if(I.touches[0]){var ke=r.projectIntoViewport(I.touches[0].clientX,I.touches[0].clientY);pe[0]=ke[0],pe[1]=ke[1]}if(I.touches[1]){var ke=r.projectIntoViewport(I.touches[1].clientX,I.touches[1].clientY);pe[2]=ke[0],pe[3]=ke[1]}if(I.touches[2]){var ke=r.projectIntoViewport(I.touches[2].clientX,I.touches[2].clientY);pe[4]=ke[0],pe[5]=ke[1]}var _e=function(an){return{originalEvent:I,type:an,position:{x:pe[0],y:pe[1]}}};te&&te.unactivate();var Ze;if(r.touchData.cxt){if(Ze=_e("cxttapend"),te?te.emit(Ze):he.emit(Ze),!r.touchData.cxtDragged){var Xe=_e("cxttap");te?te.emit(Xe):he.emit(Xe)}r.touchData.start&&(r.touchData.start._private.grabbed=!1),r.touchData.cxt=!1,r.touchData.start=null,r.redraw();return}if(!I.touches[2]&&he.boxSelectionEnabled()&&r.touchData.selecting){r.touchData.selecting=!1;var Me=he.collection(r.getAllInBox(ce[0],ce[1],ce[2],ce[3]));ce[0]=void 0,ce[1]=void 0,ce[2]=void 0,ce[3]=void 0,ce[4]=0,r.redrawHint("select",!0),he.emit(_e("boxend"));var et=function(an){return an.selectable()&&!an.selected()};Me.emit(_e("box")).stdFilter(et).select().emit(_e("boxselect")),Me.nonempty()&&r.redrawHint("eles",!0),r.redraw()}if(te!=null&&te.unactivate(),I.touches[2])r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);else if(!I.touches[1]){if(!I.touches[0]){if(!I.touches[0]){r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);var Je=r.dragData.touchDragEles;if(te!=null){var At=te._private.grabbed;S(Je),r.redrawHint("drag",!0),r.redrawHint("eles",!0),At&&(te.emit(_e("freeon")),Je.emit(_e("free")),r.dragData.didDrag&&(te.emit(_e("dragfreeon")),Je.emit(_e("dragfree")))),i(te,["touchend","tapend","vmouseup","tapdragout"],I,{x:pe[0],y:pe[1]}),te.unactivate(),r.touchData.start=null}else{var Et=r.findNearestElement(pe[0],pe[1],!0,!0);i(Et,["touchend","tapend","vmouseup","tapdragout"],I,{x:pe[0],y:pe[1]})}var qt=r.touchData.startPosition[0]-pe[0],Pt=qt*qt,Dt=r.touchData.startPosition[1]-pe[1],Wt=Dt*Dt,Nt=Pt+Wt,qr=Nt*Pe*Pe;r.touchData.singleTouchMoved||(te||he.$(":selected").unselect(["tapunselect"]),i(te,["tap","vclick"],I,{x:pe[0],y:pe[1]}),Be=!1,I.timeStamp-Ke<=he.multiClickDebounceTime()?(ze&&clearTimeout(ze),Be=!0,Ke=null,i(te,["dbltap","vdblclick"],I,{x:pe[0],y:pe[1]})):(ze=setTimeout(function(){Be||i(te,["onetap","voneclick"],I,{x:pe[0],y:pe[1]})},he.multiClickDebounceTime()),Ke=I.timeStamp)),te!=null&&!r.dragData.didDrag&&te._private.selectable&&qr<r.touchTapThreshold2&&!r.pinching&&(he.selectionType()==="single"?(he.$(t).unmerge(te).unselect(["tapunselect"]),te.select(["tapselect"])):te.selected()?te.unselect(["tapunselect"]):te.select(["tapselect"]),r.redrawHint("eles",!0)),r.touchData.singleTouchMoved=!0}}}for(var St=0;St<pe.length;St++)Ne[St]=pe[St];r.dragData.didDrag=!1,I.touches.length===0&&(r.touchData.dragDelta=[],r.touchData.startPosition=[null,null,null,null,null,null],r.touchData.startGPosition=null,r.touchData.didSelect=!1),I.touches.length<2&&(I.touches.length===1&&(r.touchData.startGPosition=[I.touches[0].clientX,I.touches[0].clientY]),r.pinching=!1,r.redrawHint("eles",!0),r.redraw())},!1),typeof TouchEvent>"u"){var Fe=[],Qe=function(I){return{clientX:I.clientX,clientY:I.clientY,force:1,identifier:I.pointerId,pageX:I.pageX,pageY:I.pageY,radiusX:I.width/2,radiusY:I.height/2,screenX:I.screenX,screenY:I.screenY,target:I.target}},at=function(I){return{event:I,touch:Qe(I)}},st=function(I){Fe.push(at(I))},ot=function(I){for(var te=0;te<Fe.length;te++){var ue=Fe[te];if(ue.event.pointerId===I.pointerId){Fe.splice(te,1);return}}},lt=function(I){var te=Fe.filter(function(ue){return ue.event.pointerId===I.pointerId})[0];te.event=I,te.touch=Qe(I)},$e=function(I){I.touches=Fe.map(function(te){return te.touch})},Ce=function(I){return I.pointerType==="mouse"||I.pointerType===4};r.registerBinding(r.container,"pointerdown",function(ve){Ce(ve)||(ve.preventDefault(),st(ve),$e(ve),Ge(ve))}),r.registerBinding(r.container,"pointerup",function(ve){Ce(ve)||(ot(ve),$e(ve),Se(ve))}),r.registerBinding(r.container,"pointercancel",function(ve){Ce(ve)||(ot(ve),$e(ve),Ve(ve))}),r.registerBinding(r.container,"pointermove",function(ve){Ce(ve)||(ve.preventDefault(),lt(ve),$e(ve),We(ve))})}};var $n={};$n.generatePolygon=function(r,e){return this.nodeShapes[r]={renderer:this,name:r,points:e,draw:function(n,i,o,l,u,c){this.renderer.nodeShapeImpl("polygon",n,i,o,l,u,this.points)},intersectLine:function(n,i,o,l,u,c,f,v){return os(u,c,this.points,n,i,o/2,l/2,f)},checkPoint:function(n,i,o,l,u,c,f,v){return Wn(n,i,this.points,c,f,l,u,[0,-1],o)},hasMiterBounds:r!=="rectangle",miterBounds:function(n,i,o,l,u,c){return CS(this.points,n,i,o,l,u)}}};$n.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,i,o,l){this.renderer.nodeShapeImpl(this.name,e,t,n,i,o)},intersectLine:function(e,t,n,i,o,l,u,c){return NS(o,l,e,t,n/2+u,i/2+u)},checkPoint:function(e,t,n,i,o,l,u,c){return Ja(e,t,i,o,l,u,n)}}};$n.generateRoundPolygon=function(r,e){return this.nodeShapes[r]={renderer:this,name:r,points:e,getOrCreateCorners:function(n,i,o,l,u,c,f){if(c[f]!==void 0&&c[f+"-cx"]===n&&c[f+"-cy"]===i)return c[f];c[f]=new Array(e.length/2),c[f+"-cx"]=n,c[f+"-cy"]=i;var v=o/2,h=l/2;u=u==="auto"?M0(o,l):u;for(var p=new Array(e.length/2),y=0;y<e.length/2;y++)p[y]={x:n+v*e[y*2],y:i+h*e[y*2+1]};var m,E,x,S,b=p.length;for(E=p[b-1],m=0;m<b;m++)x=p[m%b],S=p[(m+1)%b],c[f][m]=$v(E,x,S,u),E=x,x=S;return c[f]},draw:function(n,i,o,l,u,c,f){this.renderer.nodeShapeImpl("round-polygon",n,i,o,l,u,this.points,this.getOrCreateCorners(i,o,l,u,c,f,"drawCorners"))},intersectLine:function(n,i,o,l,u,c,f,v,h){return LS(u,c,this.points,n,i,o,l,f,this.getOrCreateCorners(n,i,o,l,v,h,"corners"))},checkPoint:function(n,i,o,l,u,c,f,v,h){return AS(n,i,this.points,c,f,l,u,this.getOrCreateCorners(c,f,l,u,v,h,"corners"))}}};$n.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Rr(4,0),draw:function(e,t,n,i,o,l){this.renderer.nodeShapeImpl(this.name,e,t,n,i,o,this.points,l)},intersectLine:function(e,t,n,i,o,l,u,c){return A0(o,l,e,t,n,i,u,c)},checkPoint:function(e,t,n,i,o,l,u,c){var f=i/2,v=o/2;c=c==="auto"?Ea(i,o):c,c=Math.min(f,v,c);var h=c*2;return!!(Wn(e,t,this.points,l,u,i,o-h,[0,-1],n)||Wn(e,t,this.points,l,u,i-h,o,[0,-1],n)||Ja(e,t,h,h,l-f+c,u-v+c,n)||Ja(e,t,h,h,l+f-c,u-v+c,n)||Ja(e,t,h,h,l+f-c,u+v-c,n)||Ja(e,t,h,h,l-f+c,u+v-c,n))}}};$n.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Nv(),points:Rr(4,0),draw:function(e,t,n,i,o,l){this.renderer.nodeShapeImpl(this.name,e,t,n,i,o,null,l)},generateCutTrianglePts:function(e,t,n,i,o){var l=o==="auto"?this.cornerLength:o,u=t/2,c=e/2,f=n-c,v=n+c,h=i-u,p=i+u;return{topLeft:[f,h+l,f+l,h,f+l,h+l],topRight:[v-l,h,v,h+l,v-l,h+l],bottomRight:[v,p-l,v-l,p,v-l,p-l],bottomLeft:[f+l,p,f,p-l,f+l,p-l]}},intersectLine:function(e,t,n,i,o,l,u,c){var f=this.generateCutTrianglePts(n+2*u,i+2*u,e,t,c),v=[].concat.apply([],[f.topLeft.splice(0,4),f.topRight.splice(0,4),f.bottomRight.splice(0,4),f.bottomLeft.splice(0,4)]);return os(o,l,v,e,t)},checkPoint:function(e,t,n,i,o,l,u,c){var f=c==="auto"?this.cornerLength:c;if(Wn(e,t,this.points,l,u,i,o-2*f,[0,-1],n)||Wn(e,t,this.points,l,u,i-2*f,o,[0,-1],n))return!0;var v=this.generateCutTrianglePts(i,o,l,u);return Fr(e,t,v.topLeft)||Fr(e,t,v.topRight)||Fr(e,t,v.bottomRight)||Fr(e,t,v.bottomLeft)}}};$n.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Rr(4,0),draw:function(e,t,n,i,o,l){this.renderer.nodeShapeImpl(this.name,e,t,n,i,o)},intersectLine:function(e,t,n,i,o,l,u,c){var f=.15,v=.5,h=.85,p=this.generateBarrelBezierPts(n+2*u,i+2*u,e,t),y=function(x){var S=ji({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},f),b=ji({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},v),k=ji({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},h);return[x[0],x[1],S.x,S.y,b.x,b.y,k.x,k.y,x[4],x[5]]},m=[].concat(y(p.topLeft),y(p.topRight),y(p.bottomRight),y(p.bottomLeft));return os(o,l,m,e,t)},generateBarrelBezierPts:function(e,t,n,i){var o=t/2,l=e/2,u=n-l,c=n+l,f=i-o,v=i+o,h=nv(e,t),p=h.heightOffset,y=h.widthOffset,m=h.ctrlPtOffsetPct*e,E={topLeft:[u,f+p,u+m,f,u+y,f],topRight:[c-y,f,c-m,f,c,f+p],bottomRight:[c,v-p,c-m,v,c-y,v],bottomLeft:[u+y,v,u+m,v,u,v-p]};return E.topLeft.isTop=!0,E.topRight.isTop=!0,E.bottomLeft.isBottom=!0,E.bottomRight.isBottom=!0,E},checkPoint:function(e,t,n,i,o,l,u,c){var f=nv(i,o),v=f.heightOffset,h=f.widthOffset;if(Wn(e,t,this.points,l,u,i,o-2*v,[0,-1],n)||Wn(e,t,this.points,l,u,i-2*h,o,[0,-1],n))return!0;for(var p=this.generateBarrelBezierPts(i,o,l,u),y=function(B,L,M){var z=M[4],O=M[2],_=M[0],W=M[5],U=M[1],H=Math.min(z,_),q=Math.max(z,_),V=Math.min(W,U),G=Math.max(W,U);if(H<=B&&B<=q&&V<=L&&L<=G){var j=IS(z,O,_),N=PS(j[0],j[1],j[2],B),F=N.filter(function(ee){return 0<=ee&&ee<=1});if(F.length>0)return F[0]}return null},m=Object.keys(p),E=0;E<m.length;E++){var x=m[E],S=p[x],b=y(e,t,S);if(b!=null){var k=S[5],T=S[3],D=S[1],R=or(k,T,D,b);if(S.isTop&&R<=t||S.isBottom&&t<=R)return!0}}return!1}}};$n.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Rr(4,0),draw:function(e,t,n,i,o,l){this.renderer.nodeShapeImpl(this.name,e,t,n,i,o,this.points,l)},intersectLine:function(e,t,n,i,o,l,u,c){var f=e-(n/2+u),v=t-(i/2+u),h=v,p=e+(n/2+u),y=ma(o,l,e,t,f,v,p,h,!1);return y.length>0?y:A0(o,l,e,t,n,i,u,c)},checkPoint:function(e,t,n,i,o,l,u,c){c=c==="auto"?Ea(i,o):c;var f=2*c;if(Wn(e,t,this.points,l,u,i,o-f,[0,-1],n)||Wn(e,t,this.points,l,u,i-f,o,[0,-1],n))return!0;var v=i/2+2*n,h=o/2+2*n,p=[l-v,u-h,l-v,u,l+v,u,l+v,u-h];return!!(Fr(e,t,p)||Ja(e,t,f,f,l+i/2-c,u+o/2-c,n)||Ja(e,t,f,f,l-i/2+c,u+o/2-c,n))}}};$n.registerNodeShapes=function(){var r=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Rr(3,0)),this.generateRoundPolygon("round-triangle",Rr(3,0)),this.generatePolygon("rectangle",Rr(4,0)),r.square=r.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var t=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",t),this.generateRoundPolygon("round-diamond",t)}this.generatePolygon("pentagon",Rr(5,0)),this.generateRoundPolygon("round-pentagon",Rr(5,0)),this.generatePolygon("hexagon",Rr(6,0)),this.generateRoundPolygon("round-hexagon",Rr(6,0)),this.generatePolygon("heptagon",Rr(7,0)),this.generateRoundPolygon("round-heptagon",Rr(7,0)),this.generatePolygon("octagon",Rr(8,0)),this.generateRoundPolygon("round-octagon",Rr(8,0));var n=new Array(20);{var i=rv(5,0),o=rv(5,Math.PI/5),l=.5*(3-Math.sqrt(5));l*=1.57;for(var u=0;u<o.length/2;u++)o[u*2]*=l,o[u*2+1]*=l;for(var u=0;u<20/4;u++)n[u*4]=i[u*2],n[u*4+1]=i[u*2+1],n[u*4+2]=o[u*2],n[u*4+3]=o[u*2+1]}n=N0(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var c=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",c),this.generateRoundPolygon("round-tag",c)}r.makePolygon=function(f){var v=f.join("$"),h="polygon-"+v,p;return(p=this[h])?p:e.generatePolygon(h,f)}};var Es={};Es.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Es.redraw=function(r){r=r||P0();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=r};Es.beforeRender=function(r,e){if(!this.destroyed){e==null&&Bt("Priority is not optional for beforeRender");var t=this.beforeRenderCallbacks;t.push({fn:r,priority:e}),t.sort(function(n,i){return i.priority-n.priority})}};var Wy=function(e,t,n){for(var i=e.beforeRenderCallbacks,o=0;o<i.length;o++)i[o].fn(t,n)};Es.startRenderLoop=function(){var r=this,e=r.cy;if(!r.renderLoopStarted){r.renderLoopStarted=!0;var t=function(i){if(!r.destroyed){if(!e.batching())if(r.requestedFrame&&!r.skipFrame){Wy(r,!0,i);var o=qn();r.render(r.renderOptions);var l=r.lastDrawTime=qn();r.averageRedrawTime===void 0&&(r.averageRedrawTime=l-o),r.redrawCount===void 0&&(r.redrawCount=0),r.redrawCount++,r.redrawTotalTime===void 0&&(r.redrawTotalTime=0);var u=l-o;r.redrawTotalTime+=u,r.lastRedrawTime=u,r.averageRedrawTime=r.averageRedrawTime/2+u/2,r.requestedFrame=!1}else Wy(r,!1,i);r.skipFrame=!1,au(t)}};au(t)}};var Qk=function(e){this.init(e)},M1=Qk,ao=M1.prototype;ao.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];ao.init=function(r){var e=this;e.options=r,e.cy=r.cy;var t=e.container=r.cy.container(),n=e.cy.window();if(n){var i=n.document,o=i.head,l="__________cytoscape_stylesheet",u="__________cytoscape_container",c=i.getElementById(l)!=null;if(t.className.indexOf(u)<0&&(t.className=(t.className||"")+" "+u),!c){var f=i.createElement("style");f.id=l,f.textContent="."+u+" { position: relative; }",o.insertBefore(f,o.children[0])}var v=n.getComputedStyle(t),h=v.getPropertyValue("position");h==="static"&&pt("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=r.showFps,e.debug=r.debug,e.webgl=r.webgl,e.hideEdgesOnViewport=r.hideEdgesOnViewport,e.textureOnViewport=r.textureOnViewport,e.wheelSensitivity=r.wheelSensitivity,e.motionBlurEnabled=r.motionBlur,e.forcedPixelRatio=Ee(r.pixelRatio)?r.pixelRatio:null,e.motionBlur=r.motionBlur,e.motionBlurOpacity=r.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=r.desktopTapThreshold,e.desktopTapThreshold2=r.desktopTapThreshold*r.desktopTapThreshold,e.touchTapThreshold=r.touchTapThreshold,e.touchTapThreshold2=r.touchTapThreshold*r.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};ao.notify=function(r,e){var t=this,n=t.cy;if(!this.destroyed){if(r==="init"){t.load();return}if(r==="destroy"){t.destroy();return}(r==="add"||r==="remove"||r==="move"&&n.hasCompoundNodes()||r==="load"||r==="zorder"||r==="mount")&&t.invalidateCachedZSortedEles(),r==="viewport"&&t.redrawHint("select",!0),r==="gc"&&t.redrawHint("gc",!0),(r==="load"||r==="resize"||r==="mount")&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container)),t.redrawHint("eles",!0),t.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};ao.destroy=function(){var r=this;r.destroyed=!0,r.cy.stopAnimationLoop();for(var e=0;e<r.bindings.length;e++){var t=r.bindings[e],n=t,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(r.bindings=[],r.beforeRenderCallbacks=[],r.onUpdateEleCalcsFns=[],r.removeObserver&&r.removeObserver.disconnect(),r.styleObserver&&r.styleObserver.disconnect(),r.resizeObserver&&r.resizeObserver.disconnect(),r.labelCalcDiv)try{document.body.removeChild(r.labelCalcDiv)}catch{}};ao.isHeadless=function(){return!1};[Wv,A1,N1,no,$n,Es].forEach(function(r){je(ao,r)});var jd=1e3/60,L1={setupDequeueing:function(e){return function(){var n=this,i=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var o=ms(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),l=function(f,v){var h=qn(),p=i.averageRedrawTime,y=i.lastRedrawTime,m=[],E=i.cy.extent(),x=i.getPixelRatio();for(f||i.flushRenderedStyleQueue();;){var S=qn(),b=S-h,k=S-v;if(y<jd){var T=jd-(f?p:0);if(k>=e.deqFastCost*T)break}else if(f){if(b>=e.deqCost*y||b>=e.deqAvgCost*p)break}else if(k>=e.deqNoDrawCost*jd)break;var D=e.deq(n,x,E);if(D.length>0)for(var R=0;R<D.length;R++)m.push(D[R]);else break}m.length>0&&(e.onDeqd(n,m),!f&&e.shouldRedraw(n,m,x,E)&&o())},u=e.priority||Pv;i.beforeRender(l,u(n))}}}},Zk=(function(){function r(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iu;Pa(this,r),this.idsByKey=new Vn,this.keyForId=new Vn,this.cachesByLvl=new Vn,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=t}return Da(r,[{key:"getIdsFor",value:function(t){t==null&&Bt("Can not get id list for null key");var n=this.idsByKey,i=this.idsByKey.get(t);return i||(i=new Ji,n.set(t,i)),i}},{key:"addIdForKey",value:function(t,n){t!=null&&this.getIdsFor(t).add(n)}},{key:"deleteIdForKey",value:function(t,n){t!=null&&this.getIdsFor(t).delete(n)}},{key:"getNumberOfIdsForKey",value:function(t){return t==null?0:this.getIdsFor(t).size}},{key:"updateKeyMappingFor",value:function(t){var n=t.id(),i=this.keyForId.get(n),o=this.getKey(t);this.deleteIdForKey(i,n),this.addIdForKey(o,n),this.keyForId.set(n,o)}},{key:"deleteKeyMappingFor",value:function(t){var n=t.id(),i=this.keyForId.get(n);this.deleteIdForKey(i,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(t){var n=t.id(),i=this.keyForId.get(n),o=this.getKey(t);return i!==o}},{key:"isInvalid",value:function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)}},{key:"getCachesAt",value:function(t){var n=this.cachesByLvl,i=this.lvls,o=n.get(t);return o||(o=new Vn,n.set(t,o),i.push(t)),o}},{key:"getCache",value:function(t,n){return this.getCachesAt(n).get(t)}},{key:"get",value:function(t,n){var i=this.getKey(t),o=this.getCache(i,n);return o!=null&&this.updateKeyMappingFor(t),o}},{key:"getForCachedKey",value:function(t,n){var i=this.keyForId.get(t.id()),o=this.getCache(i,n);return o}},{key:"hasCache",value:function(t,n){return this.getCachesAt(n).has(t)}},{key:"has",value:function(t,n){var i=this.getKey(t);return this.hasCache(i,n)}},{key:"setCache",value:function(t,n,i){i.key=t,this.getCachesAt(n).set(t,i)}},{key:"set",value:function(t,n,i){var o=this.getKey(t);this.setCache(o,n,i),this.updateKeyMappingFor(t)}},{key:"deleteCache",value:function(t,n){this.getCachesAt(n).delete(t)}},{key:"delete",value:function(t,n){var i=this.getKey(t);this.deleteCache(i,n)}},{key:"invalidateKey",value:function(t){var n=this;this.lvls.forEach(function(i){return n.deleteCache(t,i)})}},{key:"invalidate",value:function(t){var n=t.id(),i=this.keyForId.get(n);this.deleteKeyMappingFor(t);var o=this.doesEleInvalidateKey(t);return o&&this.invalidateKey(i),o||this.getNumberOfIdsForKey(i)===0}}])})(),$y=25,ql=50,eu=-4,gv=3,I1=7.99,Jk=8,eT=1024,tT=1024,rT=1024,nT=.2,aT=.8,iT=10,oT=.15,sT=.1,lT=.9,uT=.9,cT=100,fT=1,Hi={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},dT=hr({getKey:null,doesEleInvalidateKey:iu,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:C0,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Zo=function(e,t){var n=this;n.renderer=e,n.onDequeues=[];var i=dT(t);je(n,i),n.lookup=new Zk(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},er=Zo.prototype;er.reasons=Hi;er.getTextureQueue=function(r){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[r]=e.eleImgCaches[r]||[]};er.getRetiredTextureQueue=function(r){var e=this,t=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=t[r]=t[r]||[];return n};er.getElementQueue=function(){var r=this,e=r.eleCacheQueue=r.eleCacheQueue||new ys(function(t,n){return n.reqs-t.reqs});return e};er.getElementKeyToQueue=function(){var r=this,e=r.eleKeyToCacheQueue=r.eleKeyToCacheQueue||{};return e};er.getElement=function(r,e,t,n,i){var o=this,l=this.renderer,u=l.cy.zoom(),c=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!r.visible()||r.removed()||!o.allowEdgeTxrCaching&&r.isEdge()||!o.allowParentTxrCaching&&r.isParent())return null;if(n==null&&(n=Math.ceil(Rv(u*t))),n<eu)n=eu;else if(u>=I1||n>gv)return null;var f=Math.pow(2,n),v=e.h*f,h=e.w*f,p=l.eleTextBiggerThanMin(r,f);if(!this.isVisible(r,p))return null;var y=c.get(r,n);if(y&&y.invalidated&&(y.invalidated=!1,y.texture.invalidatedWidth-=y.width),y)return y;var m;if(v<=$y?m=$y:v<=ql?m=ql:m=Math.ceil(v/ql)*ql,v>rT||h>tT)return null;var E=o.getTextureQueue(m),x=E[E.length-2],S=function(){return o.recycleTexture(m,h)||o.addTexture(m,h)};x||(x=E[E.length-1]),x||(x=S()),x.width-x.usedWidth<h&&(x=S());for(var b=function(H){return H&&H.scaledLabelShown===p},k=i&&i===Hi.dequeue,T=i&&i===Hi.highQuality,D=i&&i===Hi.downscale,R,P=n+1;P<=gv;P++){var B=c.get(r,P);if(B){R=B;break}}var L=R&&R.level===n+1?R:null,M=function(){x.context.drawImage(L.texture.canvas,L.x,0,L.width,L.height,x.usedWidth,0,h,v)};if(x.context.setTransform(1,0,0,1,0,0),x.context.clearRect(x.usedWidth,0,h,m),b(L))M();else if(b(R))if(T){for(var z=R.level;z>n;z--)L=o.getElement(r,e,t,z,Hi.downscale);M()}else return o.queueElement(r,R.level-1),R;else{var O;if(!k&&!T&&!D)for(var _=n-1;_>=eu;_--){var W=c.get(r,_);if(W){O=W;break}}if(b(O))return o.queueElement(r,n),O;x.context.translate(x.usedWidth,0),x.context.scale(f,f),this.drawElement(x.context,r,e,p,!1),x.context.scale(1/f,1/f),x.context.translate(-x.usedWidth,0)}return y={x:x.usedWidth,texture:x,level:n,scale:f,width:h,height:v,scaledLabelShown:p},x.usedWidth+=Math.ceil(h+Jk),x.eleCaches.push(y),c.set(r,n,y),o.checkTextureFullness(x),y};er.invalidateElements=function(r){for(var e=0;e<r.length;e++)this.invalidateElement(r[e])};er.invalidateElement=function(r){var e=this,t=e.lookup,n=[],i=t.isInvalid(r);if(i){for(var o=eu;o<=gv;o++){var l=t.getForCachedKey(r,o);l&&n.push(l)}var u=t.invalidate(r);if(u)for(var c=0;c<n.length;c++){var f=n[c],v=f.texture;v.invalidatedWidth+=f.width,f.invalidated=!0,e.checkTextureUtility(v)}e.removeFromQueue(r)}};er.checkTextureUtility=function(r){r.invalidatedWidth>=nT*r.width&&this.retireTexture(r)};er.checkTextureFullness=function(r){var e=this,t=e.getTextureQueue(r.height);r.usedWidth/r.width>aT&&r.fullnessChecks>=iT?ba(t,r):r.fullnessChecks++};er.retireTexture=function(r){var e=this,t=r.height,n=e.getTextureQueue(t),i=this.lookup;ba(n,r),r.retired=!0;for(var o=r.eleCaches,l=0;l<o.length;l++){var u=o[l];i.deleteCache(u.key,u.level)}Dv(o);var c=e.getRetiredTextureQueue(t);c.push(r)};er.addTexture=function(r,e){var t=this,n=t.getTextureQueue(r),i={};return n.push(i),i.eleCaches=[],i.height=r,i.width=Math.max(eT,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=t.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};er.recycleTexture=function(r,e){for(var t=this,n=t.getTextureQueue(r),i=t.getRetiredTextureQueue(r),o=0;o<i.length;o++){var l=i[o];if(l.width>=e)return l.retired=!1,l.usedWidth=0,l.invalidatedWidth=0,l.fullnessChecks=0,Dv(l.eleCaches),l.context.setTransform(1,0,0,1,0,0),l.context.clearRect(0,0,l.width,l.height),ba(i,l),n.push(l),l}};er.queueElement=function(r,e){var t=this,n=t.getElementQueue(),i=t.getElementKeyToQueue(),o=this.getKey(r),l=i[o];if(l)l.level=Math.max(l.level,e),l.eles.merge(r),l.reqs++,n.updateItem(l);else{var u={eles:r.spawn().merge(r),level:e,reqs:1,key:o};n.push(u),i[o]=u}};er.dequeue=function(r){for(var e=this,t=e.getElementQueue(),n=e.getElementKeyToQueue(),i=[],o=e.lookup,l=0;l<fT&&t.size()>0;l++){var u=t.pop(),c=u.key,f=u.eles[0],v=o.hasCache(f,u.level);if(n[c]=null,v)continue;i.push(u);var h=e.getBoundingBox(f);e.getElement(f,h,r,u.level,Hi.dequeue)}return i};er.removeFromQueue=function(r){var e=this,t=e.getElementQueue(),n=e.getElementKeyToQueue(),i=this.getKey(r),o=n[i];o!=null&&(o.eles.length===1?(o.reqs=Tv,t.updateItem(o),t.pop(),n[i]=null):o.eles.unmerge(r))};er.onDequeue=function(r){this.onDequeues.push(r)};er.offDequeue=function(r){ba(this.onDequeues,r)};er.setupDequeueing=L1.setupDequeueing({deqRedrawThreshold:cT,deqCost:oT,deqAvgCost:sT,deqNoDrawCost:lT,deqFastCost:uT,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++){var i=e.onDequeues[n];i(t)}},shouldRedraw:function(e,t,n,i){for(var o=0;o<t.length;o++)for(var l=t[o].eles,u=0;u<l.length;u++){var c=l[u].boundingBox();if(Av(c,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var vT=1,es=-4,vu=2,hT=3.99,pT=50,gT=50,mT=.15,yT=.1,wT=.9,xT=.9,bT=1,Uy=250,ET=4e3*4e3,Hy=32767,ST=!0,z1=function(e){var t=this,n=t.renderer=e,i=n.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=qn()-2*Uy,t.skipping=!1,t.eleTxrDeqs=i.collection(),t.scheduleElementRefinement=ms(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},gT),n.beforeRender(function(l,u){u-t.lastInvalidationTime<=Uy?t.skipping=!0:t.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var o=function(u,c){return c.reqs-u.reqs};t.layersQueue=new ys(o),t.setupDequeueing()},pr=z1.prototype,jy=0,CT=Math.pow(2,53)-1;pr.makeLayer=function(r,e){var t=Math.pow(2,e),n=Math.ceil(r.w*t),i=Math.ceil(r.h*t),o=this.renderer.makeOffscreenCanvas(n,i),l={id:jy=++jy%CT,bb:r,level:e,width:n,height:i,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},u=l.context,c=-l.bb.x1,f=-l.bb.y1;return u.scale(t,t),u.translate(c,f),l};pr.getLayers=function(r,e,t){var n=this,i=n.renderer,o=i.cy,l=o.zoom(),u=n.firstGet;if(n.firstGet=!1,t==null){if(t=Math.ceil(Rv(l*e)),t<es)t=es;else if(l>=hT||t>vu)return null}n.validateLayersElesOrdering(t,r);var c=n.layersByLevel,f=Math.pow(2,t),v=c[t]=c[t]||[],h,p=n.levelIsComplete(t,r),y,m=function(){var M=function(U){if(n.validateLayersElesOrdering(U,r),n.levelIsComplete(U,r))return y=c[U],!0},z=function(U){if(!y)for(var H=t+U;es<=H&&H<=vu&&!M(H);H+=U);};z(1),z(-1);for(var O=v.length-1;O>=0;O--){var _=v[O];_.invalid&&ba(v,_)}};if(!p)m();else return v;var E=function(){if(!h){h=Br();for(var M=0;M<r.length;M++)bS(h,r[M].boundingBox())}return h},x=function(M){M=M||{};var z=M.after;E();var O=Math.ceil(h.w*f),_=Math.ceil(h.h*f);if(O>Hy||_>Hy)return null;var W=O*_;if(W>ET)return null;var U=n.makeLayer(h,t);if(z!=null){var H=v.indexOf(z)+1;v.splice(H,0,U)}else(M.insert===void 0||M.insert)&&v.unshift(U);return U};if(n.skipping&&!u)return null;for(var S=null,b=r.length/vT,k=!u,T=0;T<r.length;T++){var D=r[T],R=D._private.rscratch,P=R.imgLayerCaches=R.imgLayerCaches||{},B=P[t];if(B){S=B;continue}if((!S||S.eles.length>=b||!B0(S.bb,D.boundingBox()))&&(S=x({insert:!0,after:S}),!S))return null;y||k?n.queueLayer(S,D):n.drawEleInLayer(S,D,t,e),S.eles.push(D),P[t]=S}return y||(k?null:v)};pr.getEleLevelForLayerLevel=function(r,e){return r};pr.drawEleInLayer=function(r,e,t,n){var i=this,o=this.renderer,l=r.context,u=e.boundingBox();u.w===0||u.h===0||!e.visible()||(t=i.getEleLevelForLayerLevel(t,n),o.setImgSmoothing(l,!1),o.drawCachedElement(l,e,null,null,t,ST),o.setImgSmoothing(l,!0))};pr.levelIsComplete=function(r,e){var t=this,n=t.layersByLevel[r];if(!n||n.length===0)return!1;for(var i=0,o=0;o<n.length;o++){var l=n[o];if(l.reqs>0||l.invalid)return!1;i+=l.eles.length}return i===e.length};pr.validateLayersElesOrdering=function(r,e){var t=this.layersByLevel[r];if(t)for(var n=0;n<t.length;n++){for(var i=t[n],o=-1,l=0;l<e.length;l++)if(i.eles[0]===e[l]){o=l;break}if(o<0){this.invalidateLayer(i);continue}for(var u=o,l=0;l<i.eles.length;l++)if(i.eles[l]!==e[u+l]){this.invalidateLayer(i);break}}};pr.updateElementsInLayers=function(r,e){for(var t=this,n=vs(r[0]),i=0;i<r.length;i++)for(var o=n?null:r[i],l=n?r[i]:r[i].ele,u=l._private.rscratch,c=u.imgLayerCaches=u.imgLayerCaches||{},f=es;f<=vu;f++){var v=c[f];v&&(o&&t.getEleLevelForLayerLevel(v.level)!==o.level||e(v,l,o))}};pr.haveLayers=function(){for(var r=this,e=!1,t=es;t<=vu;t++){var n=r.layersByLevel[t];if(n&&n.length>0){e=!0;break}}return e};pr.invalidateElements=function(r){var e=this;r.length!==0&&(e.lastInvalidationTime=qn(),!(r.length===0||!e.haveLayers())&&e.updateElementsInLayers(r,function(n,i,o){e.invalidateLayer(n)}))};pr.invalidateLayer=function(r){if(this.lastInvalidationTime=qn(),!r.invalid){var e=r.level,t=r.eles,n=this.layersByLevel[e];ba(n,r),r.elesQueue=[],r.invalid=!0,r.replacement&&(r.replacement.invalid=!0);for(var i=0;i<t.length;i++){var o=t[i]._private.rscratch.imgLayerCaches;o&&(o[e]=null)}}};pr.refineElementTextures=function(r){var e=this;e.updateElementsInLayers(r,function(n,i,o){var l=n.replacement;if(l||(l=n.replacement=e.makeLayer(n.bb,n.level),l.replaces=n,l.eles=n.eles),!l.reqs)for(var u=0;u<l.eles.length;u++)e.queueLayer(l,l.eles[u])})};pr.enqueueElementRefinement=function(r){this.eleTxrDeqs.merge(r),this.scheduleElementRefinement()};pr.queueLayer=function(r,e){var t=this,n=t.layersQueue,i=r.elesQueue,o=i.hasId=i.hasId||{};if(!r.replacement){if(e){if(o[e.id()])return;i.push(e),o[e.id()]=!0}r.reqs?(r.reqs++,n.updateItem(r)):(r.reqs=1,n.push(r))}};pr.dequeue=function(r){for(var e=this,t=e.layersQueue,n=[],i=0;i<bT&&t.size()!==0;){var o=t.peek();if(o.replacement){t.pop();continue}if(o.replaces&&o!==o.replaces.replacement){t.pop();continue}if(o.invalid){t.pop();continue}var l=o.elesQueue.shift();l&&(e.drawEleInLayer(o,l,o.level,r),i++),n.length===0&&n.push(!0),o.elesQueue.length===0&&(t.pop(),o.reqs=0,o.replaces&&e.applyLayerReplacement(o),e.requestRedraw())}return n};pr.applyLayerReplacement=function(r){var e=this,t=e.layersByLevel[r.level],n=r.replaces,i=t.indexOf(n);if(!(i<0||n.invalid)){t[i]=r;for(var o=0;o<r.eles.length;o++){var l=r.eles[o]._private,u=l.imgLayerCaches=l.imgLayerCaches||{};u&&(u[r.level]=r)}e.requestRedraw()}};pr.requestRedraw=ms(function(){var r=this.renderer;r.redrawHint("eles",!0),r.redrawHint("drag",!0),r.redraw()},100);pr.setupDequeueing=L1.setupDequeueing({deqRedrawThreshold:pT,deqCost:mT,deqAvgCost:yT,deqNoDrawCost:wT,deqFastCost:xT,deq:function(e,t){return e.dequeue(t)},onDeqd:Pv,shouldRedraw:C0,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var O1={},Gy;function kT(r,e){for(var t=0;t<e.length;t++){var n=e[t];r.lineTo(n.x,n.y)}}function TT(r,e,t){for(var n,i=0;i<e.length;i++){var o=e[i];i===0&&(n=o),r.lineTo(o.x,o.y)}r.quadraticCurveTo(t.x,t.y,n.x,n.y)}function Ky(r,e,t){r.beginPath&&r.beginPath();for(var n=e,i=0;i<n.length;i++){var o=n[i];r.lineTo(o.x,o.y)}var l=t,u=t[0];r.moveTo(u.x,u.y);for(var i=1;i<l.length;i++){var o=l[i];r.lineTo(o.x,o.y)}r.closePath&&r.closePath()}function PT(r,e,t,n,i){r.beginPath&&r.beginPath(),r.arc(t,n,i,0,Math.PI*2,!1);var o=e,l=o[0];r.moveTo(l.x,l.y);for(var u=0;u<o.length;u++){var c=o[u];r.lineTo(c.x,c.y)}r.closePath&&r.closePath()}function DT(r,e,t,n){r.arc(e,t,n,0,Math.PI*2,!1)}O1.arrowShapeImpl=function(r){return(Gy||(Gy={polygon:kT,"triangle-backcurve":TT,"triangle-tee":Ky,"circle-triangle":PT,"triangle-cross":Ky,circle:DT}))[r]};var Dn={};Dn.drawElement=function(r,e,t,n,i,o){var l=this;e.isNode()?l.drawNode(r,e,t,n,i,o):l.drawEdge(r,e,t,n,i,o)};Dn.drawElementOverlay=function(r,e){var t=this;e.isNode()?t.drawNodeOverlay(r,e):t.drawEdgeOverlay(r,e)};Dn.drawElementUnderlay=function(r,e){var t=this;e.isNode()?t.drawNodeUnderlay(r,e):t.drawEdgeUnderlay(r,e)};Dn.drawCachedElementPortion=function(r,e,t,n,i,o,l,u){var c=this,f=t.getBoundingBox(e);if(!(f.w===0||f.h===0)){var v=t.getElement(e,f,n,i,o);if(v!=null){var h=u(c,e);if(h===0)return;var p=l(c,e),y=f.x1,m=f.y1,E=f.w,x=f.h,S,b,k,T,D;if(p!==0){var R=t.getRotationPoint(e);k=R.x,T=R.y,r.translate(k,T),r.rotate(p),D=c.getImgSmoothing(r),D||c.setImgSmoothing(r,!0);var P=t.getRotationOffset(e);S=P.x,b=P.y}else S=y,b=m;var B;h!==1&&(B=r.globalAlpha,r.globalAlpha=B*h),r.drawImage(v.texture.canvas,v.x,0,v.width,v.height,S,b,E,x),h!==1&&(r.globalAlpha=B),p!==0&&(r.rotate(-p),r.translate(-k,-T),D||c.setImgSmoothing(r,!1))}else t.drawElement(r,e)}};var RT=function(){return 0},BT=function(e,t){return e.getTextAngle(t,null)},AT=function(e,t){return e.getTextAngle(t,"source")},NT=function(e,t){return e.getTextAngle(t,"target")},MT=function(e,t){return t.effectiveOpacity()},Gd=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};Dn.drawCachedElement=function(r,e,t,n,i,o){var l=this,u=l.data,c=u.eleTxrCache,f=u.lblTxrCache,v=u.slbTxrCache,h=u.tlbTxrCache,p=e.boundingBox(),y=o===!0?c.reasons.highQuality:null;if(!(p.w===0||p.h===0||!e.visible())&&(!n||Av(p,n))){var m=e.isEdge(),E=e.element()._private.rscratch.badLine;l.drawElementUnderlay(r,e),l.drawCachedElementPortion(r,e,c,t,i,y,RT,MT),(!m||!E)&&l.drawCachedElementPortion(r,e,f,t,i,y,BT,Gd),m&&!E&&(l.drawCachedElementPortion(r,e,v,t,i,y,AT,Gd),l.drawCachedElementPortion(r,e,h,t,i,y,NT,Gd)),l.drawElementOverlay(r,e)}};Dn.drawElements=function(r,e){for(var t=this,n=0;n<e.length;n++){var i=e[n];t.drawElement(r,i)}};Dn.drawCachedElements=function(r,e,t,n){for(var i=this,o=0;o<e.length;o++){var l=e[o];i.drawCachedElement(r,l,t,n)}};Dn.drawCachedNodes=function(r,e,t,n){for(var i=this,o=0;o<e.length;o++){var l=e[o];l.isNode()&&i.drawCachedElement(r,l,t,n)}};Dn.drawLayeredElements=function(r,e,t,n){var i=this,o=i.data.lyrTxrCache.getLayers(e,t);if(o)for(var l=0;l<o.length;l++){var u=o[l],c=u.bb;c.w===0||c.h===0||r.drawImage(u.canvas,c.x1,c.y1,c.w,c.h)}else i.drawCachedElements(r,e,t,n)};var Un={};Un.drawEdge=function(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this,u=e._private.rscratch;if(!(o&&!e.visible())&&!(u.badLine||u.allpts==null||isNaN(u.allpts[0]))){var c;t&&(c=t,r.translate(-c.x1,-c.y1));var f=o?e.pstyle("opacity").value:1,v=o?e.pstyle("line-opacity").value:1,h=e.pstyle("curve-style").value,p=e.pstyle("line-style").value,y=e.pstyle("width").pfValue,m=e.pstyle("line-cap").value,E=e.pstyle("line-outline-width").value,x=e.pstyle("line-outline-color").value,S=f*v,b=f*v,k=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S;h==="straight-triangle"?(l.eleStrokeStyle(r,e,U),l.drawEdgeTrianglePath(e,r,u.allpts)):(r.lineWidth=y,r.lineCap=m,l.eleStrokeStyle(r,e,U),l.drawEdgePath(e,r,u.allpts,p),r.lineCap="butt")},T=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S;if(r.lineWidth=y+E,r.lineCap=m,E>0)l.colorStrokeStyle(r,x[0],x[1],x[2],U);else{r.lineCap="butt";return}h==="straight-triangle"?l.drawEdgeTrianglePath(e,r,u.allpts):(l.drawEdgePath(e,r,u.allpts,p),r.lineCap="butt")},D=function(){i&&l.drawEdgeOverlay(r,e)},R=function(){i&&l.drawEdgeUnderlay(r,e)},P=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;l.drawArrowheads(r,e,U)},B=function(){l.drawElementText(r,e,null,n)};r.lineJoin="round";var L=e.pstyle("ghost").value==="yes";if(L){var M=e.pstyle("ghost-offset-x").pfValue,z=e.pstyle("ghost-offset-y").pfValue,O=e.pstyle("ghost-opacity").value,_=S*O;r.translate(M,z),k(_),P(_),r.translate(-M,-z)}else T();R(),k(),P(),D(),B(),t&&r.translate(c.x1,c.y1)}};var _1=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n){if(n.visible()){var i=n.pstyle("".concat(e,"-opacity")).value;if(i!==0){var o=this,l=o.usePaths(),u=n._private.rscratch,c=n.pstyle("".concat(e,"-padding")).pfValue,f=2*c,v=n.pstyle("".concat(e,"-color")).value;t.lineWidth=f,u.edgeType==="self"&&!l?t.lineCap="butt":t.lineCap="round",o.colorStrokeStyle(t,v[0],v[1],v[2],i),o.drawEdgePath(n,t,u.allpts,"solid")}}}};Un.drawEdgeOverlay=_1("overlay");Un.drawEdgeUnderlay=_1("underlay");Un.drawEdgePath=function(r,e,t,n){var i=r._private.rscratch,o=e,l,u=!1,c=this.usePaths(),f=r.pstyle("line-dash-pattern").pfValue,v=r.pstyle("line-dash-offset").pfValue;if(c){var h=t.join("$"),p=i.pathCacheKey&&i.pathCacheKey===h;p?(l=e=i.pathCache,u=!0):(l=e=new Path2D,i.pathCacheKey=h,i.pathCache=l)}if(o.setLineDash)switch(n){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash(f),o.lineDashOffset=v;break;case"solid":o.setLineDash([]);break}if(!u&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(t[0],t[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var y=2;y+3<t.length;y+=4)e.quadraticCurveTo(t[y],t[y+1],t[y+2],t[y+3]);break;case"straight":case"haystack":for(var m=2;m+1<t.length;m+=2)e.lineTo(t[m],t[m+1]);break;case"segments":if(i.isRound){var E=Vr(i.roundCorners),x;try{for(E.s();!(x=E.n()).done;){var S=x.value;T1(e,S)}}catch(k){E.e(k)}finally{E.f()}e.lineTo(t[t.length-2],t[t.length-1])}else for(var b=2;b+1<t.length;b+=2)e.lineTo(t[b],t[b+1]);break}e=o,c?e.stroke(l):e.stroke(),e.setLineDash&&e.setLineDash([])};Un.drawEdgeTrianglePath=function(r,e,t){e.fillStyle=e.strokeStyle;for(var n=r.pstyle("width").pfValue,i=0;i+1<t.length;i+=2){var o=[t[i+2]-t[i],t[i+3]-t[i+1]],l=Math.sqrt(o[0]*o[0]+o[1]*o[1]),u=[o[1]/l,-o[0]/l],c=[u[0]*n/2,u[1]*n/2];e.beginPath(),e.moveTo(t[i]-c[0],t[i+1]-c[1]),e.lineTo(t[i]+c[0],t[i+1]+c[1]),e.lineTo(t[i+2],t[i+3]),e.closePath(),e.fill()}};Un.drawArrowheads=function(r,e,t){var n=e._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(r,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,t),this.drawArrowhead(r,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,t),this.drawArrowhead(r,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,t),i||this.drawArrowhead(r,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,t)};Un.drawArrowhead=function(r,e,t,n,i,o,l){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(o)||o==null)){var u=this,c=e.pstyle(t+"-arrow-shape").value;if(c!=="none"){var f=e.pstyle(t+"-arrow-fill").value==="hollow"?"both":"filled",v=e.pstyle(t+"-arrow-fill").value,h=e.pstyle("width").pfValue,p=e.pstyle(t+"-arrow-width"),y=p.value==="match-line"?h:p.pfValue;p.units==="%"&&(y*=h);var m=e.pstyle("opacity").value;l===void 0&&(l=m);var E=r.globalCompositeOperation;(l!==1||v==="hollow")&&(r.globalCompositeOperation="destination-out",u.colorFillStyle(r,255,255,255,1),u.colorStrokeStyle(r,255,255,255,1),u.drawArrowShape(e,r,f,h,c,y,n,i,o),r.globalCompositeOperation=E);var x=e.pstyle(t+"-arrow-color").value;u.colorFillStyle(r,x[0],x[1],x[2],l),u.colorStrokeStyle(r,x[0],x[1],x[2],l),u.drawArrowShape(e,r,v,h,c,y,n,i,o)}}};Un.drawArrowShape=function(r,e,t,n,i,o,l,u,c){var f=this,v=this.usePaths()&&i!=="triangle-cross",h=!1,p,y=e,m={x:l,y:u},E=r.pstyle("arrow-scale").value,x=this.getArrowWidth(n,E),S=f.arrowShapes[i];if(v){var b=f.arrowPathCache=f.arrowPathCache||[],k=ti(i),T=b[k];T!=null?(p=e=T,h=!0):(p=e=new Path2D,b[k]=p)}h||(e.beginPath&&e.beginPath(),v?S.draw(e,1,0,{x:0,y:0},1):S.draw(e,x,c,m,n),e.closePath&&e.closePath()),e=y,v&&(e.translate(l,u),e.rotate(c),e.scale(x,x)),(t==="filled"||t==="both")&&(v?e.fill(p):e.fill()),(t==="hollow"||t==="both")&&(e.lineWidth=o/(v?x:1),e.lineJoin="miter",v?e.stroke(p):e.stroke()),v&&(e.scale(1/x,1/x),e.rotate(-c),e.translate(-l,-u))};var Hv={};Hv.safeDrawImage=function(r,e,t,n,i,o,l,u,c,f){if(!(i<=0||o<=0||c<=0||f<=0))try{r.drawImage(e,t,n,i,o,l,u,c,f)}catch(v){pt(v)}};Hv.drawInscribedImage=function(r,e,t,n,i){var o=this,l=t.position(),u=l.x,c=l.y,f=t.cy().style(),v=f.getIndexedStyle.bind(f),h=v(t,"background-fit","value",n),p=v(t,"background-repeat","value",n),y=t.width(),m=t.height(),E=t.padding()*2,x=y+(v(t,"background-width-relative-to","value",n)==="inner"?0:E),S=m+(v(t,"background-height-relative-to","value",n)==="inner"?0:E),b=t._private.rscratch,k=v(t,"background-clip","value",n),T=k==="node",D=v(t,"background-image-opacity","value",n)*i,R=v(t,"background-image-smoothing","value",n),P=t.pstyle("corner-radius").value;P!=="auto"&&(P=t.pstyle("corner-radius").pfValue);var B=e.width||e.cachedW,L=e.height||e.cachedH;(B==null||L==null)&&(document.body.appendChild(e),B=e.cachedW=e.width||e.offsetWidth,L=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var M=B,z=L;if(v(t,"background-width","value",n)!=="auto"&&(v(t,"background-width","units",n)==="%"?M=v(t,"background-width","pfValue",n)*x:M=v(t,"background-width","pfValue",n)),v(t,"background-height","value",n)!=="auto"&&(v(t,"background-height","units",n)==="%"?z=v(t,"background-height","pfValue",n)*S:z=v(t,"background-height","pfValue",n)),!(M===0||z===0)){if(h==="contain"){var O=Math.min(x/M,S/z);M*=O,z*=O}else if(h==="cover"){var O=Math.max(x/M,S/z);M*=O,z*=O}var _=u-x/2,W=v(t,"background-position-x","units",n),U=v(t,"background-position-x","pfValue",n);W==="%"?_+=(x-M)*U:_+=U;var H=v(t,"background-offset-x","units",n),q=v(t,"background-offset-x","pfValue",n);H==="%"?_+=(x-M)*q:_+=q;var V=c-S/2,G=v(t,"background-position-y","units",n),j=v(t,"background-position-y","pfValue",n);G==="%"?V+=(S-z)*j:V+=j;var N=v(t,"background-offset-y","units",n),F=v(t,"background-offset-y","pfValue",n);N==="%"?V+=(S-z)*F:V+=F,b.pathCache&&(_-=u,V-=c,u=0,c=0);var ee=r.globalAlpha;r.globalAlpha=D;var ae=o.getImgSmoothing(r),ne=!1;if(R==="no"&&ae?(o.setImgSmoothing(r,!1),ne=!0):R==="yes"&&!ae&&(o.setImgSmoothing(r,!0),ne=!0),p==="no-repeat")T&&(r.save(),b.pathCache?r.clip(b.pathCache):(o.nodeShapes[o.getNodeShape(t)].draw(r,u,c,x,S,P,b),r.clip())),o.safeDrawImage(r,e,0,0,B,L,_,V,M,z),T&&r.restore();else{var se=r.createPattern(e,p);r.fillStyle=se,o.nodeShapes[o.getNodeShape(t)].draw(r,u,c,x,S,P,b),r.translate(_,V),r.fill(),r.translate(-_,-V)}r.globalAlpha=ee,ne&&o.setImgSmoothing(r,ae)}};var si={};si.eleTextBiggerThanMin=function(r,e){if(!e){var t=r.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(Rv(t*n));e=Math.pow(2,i)}var o=r.pstyle("font-size").pfValue*e,l=r.pstyle("min-zoomed-font-size").pfValue;return!(o<l)};si.drawElementText=function(r,e,t,n,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this;if(n==null){if(o&&!l.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var u=e.pstyle("label");if(!u||!u.value)return;var c=l.getLabelJustification(e);r.textAlign=c,r.textBaseline="bottom"}else{var f=e.element()._private.rscratch.badLine,v=e.pstyle("label"),h=e.pstyle("source-label"),p=e.pstyle("target-label");if(f||(!v||!v.value)&&(!h||!h.value)&&(!p||!p.value))return;r.textAlign="center",r.textBaseline="bottom"}var y=!t,m;t&&(m=t,r.translate(-m.x1,-m.y1)),i==null?(l.drawText(r,e,null,y,o),e.isEdge()&&(l.drawText(r,e,"source",y,o),l.drawText(r,e,"target",y,o))):l.drawText(r,e,i,y,o),t&&r.translate(m.x1,m.y1)};si.getFontCache=function(r){var e;this.fontCaches=this.fontCaches||[];for(var t=0;t<this.fontCaches.length;t++)if(e=this.fontCaches[t],e.context===r)return e;return e={context:r},this.fontCaches.push(e),e};si.setupTextStyle=function(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",o=e.pstyle("font-family").strValue,l=e.pstyle("font-weight").strValue,u=t?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,c=e.pstyle("text-outline-opacity").value*u,f=e.pstyle("color").value,v=e.pstyle("text-outline-color").value;r.font=n+" "+l+" "+i+" "+o,r.lineJoin="round",this.colorFillStyle(r,f[0],f[1],f[2],u),this.colorStrokeStyle(r,v[0],v[1],v[2],c)};function LT(r,e,t,n,i){var o=Math.min(n,i),l=o/2,u=e+n/2,c=t+i/2;r.beginPath(),r.arc(u,c,l,0,Math.PI*2),r.closePath()}function Yy(r,e,t,n,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,l=Math.min(o,n/2,i/2);r.beginPath(),r.moveTo(e+l,t),r.lineTo(e+n-l,t),r.quadraticCurveTo(e+n,t,e+n,t+l),r.lineTo(e+n,t+i-l),r.quadraticCurveTo(e+n,t+i,e+n-l,t+i),r.lineTo(e+l,t+i),r.quadraticCurveTo(e,t+i,e,t+i-l),r.lineTo(e,t+l),r.quadraticCurveTo(e,t,e+l,t),r.closePath()}si.getTextAngle=function(r,e){var t,n=r._private,i=n.rscratch,o=e?e+"-":"",l=r.pstyle(o+"text-rotation");if(l.strValue==="autorotate"){var u=_r(i,"labelAngle",e);t=r.isEdge()?u:0}else l.strValue==="none"?t=0:t=l.pfValue;return t};si.drawText=function(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=e._private,l=o.rscratch,u=i?e.effectiveOpacity():1;if(!(i&&(u===0||e.pstyle("text-opacity").value===0))){t==="main"&&(t=null);var c=_r(l,"labelX",t),f=_r(l,"labelY",t),v,h,p=this.getLabelText(e,t);if(p!=null&&p!==""&&!isNaN(c)&&!isNaN(f)){this.setupTextStyle(r,e,i);var y=t?t+"-":"",m=_r(l,"labelWidth",t),E=_r(l,"labelHeight",t),x=e.pstyle(y+"text-margin-x").pfValue,S=e.pstyle(y+"text-margin-y").pfValue,b=e.isEdge(),k=e.pstyle("text-halign").value,T=e.pstyle("text-valign").value;b&&(k="center",T="center"),c+=x,f+=S;var D;switch(n?D=this.getTextAngle(e,t):D=0,D!==0&&(v=c,h=f,r.translate(v,h),r.rotate(D),c=0,f=0),T){case"top":break;case"center":f+=E/2;break;case"bottom":f+=E;break}var R=e.pstyle("text-background-opacity").value,P=e.pstyle("text-border-opacity").value,B=e.pstyle("text-border-width").pfValue,L=e.pstyle("text-background-padding").pfValue,M=e.pstyle("text-background-shape").strValue,z=M==="round-rectangle"||M==="roundrectangle",O=M==="circle",_=2;if(R>0||B>0&&P>0){var W=r.fillStyle,U=r.strokeStyle,H=r.lineWidth,q=e.pstyle("text-background-color").value,V=e.pstyle("text-border-color").value,G=e.pstyle("text-border-style").value,j=R>0,N=B>0&&P>0,F=c-L;switch(k){case"left":F-=m;break;case"center":F-=m/2;break}var ee=f-E-L,ae=m+2*L,ne=E+2*L;if(j&&(r.fillStyle="rgba(".concat(q[0],",").concat(q[1],",").concat(q[2],",").concat(R*u,")")),N&&(r.strokeStyle="rgba(".concat(V[0],",").concat(V[1],",").concat(V[2],",").concat(P*u,")"),r.lineWidth=B,r.setLineDash))switch(G){case"dotted":r.setLineDash([1,1]);break;case"dashed":r.setLineDash([4,2]);break;case"double":r.lineWidth=B/4,r.setLineDash([]);break;case"solid":default:r.setLineDash([]);break}if(z?(r.beginPath(),Yy(r,F,ee,ae,ne,_)):O?(r.beginPath(),LT(r,F,ee,ae,ne)):(r.beginPath(),r.rect(F,ee,ae,ne)),j&&r.fill(),N&&r.stroke(),N&&G==="double"){var se=B/2;r.beginPath(),z?Yy(r,F+se,ee+se,ae-2*se,ne-2*se,_):r.rect(F+se,ee+se,ae-2*se,ne-2*se),r.stroke()}r.fillStyle=W,r.strokeStyle=U,r.lineWidth=H,r.setLineDash&&r.setLineDash([])}var fe=2*e.pstyle("text-outline-width").pfValue;if(fe>0&&(r.lineWidth=fe),e.pstyle("text-wrap").value==="wrap"){var ge=_r(l,"labelWrapCachedLines",t),le=_r(l,"labelLineHeight",t),Q=m/2,Z=this.getLabelJustification(e);switch(Z==="auto"||(k==="left"?Z==="left"?c+=-m:Z==="center"&&(c+=-Q):k==="center"?Z==="left"?c+=-Q:Z==="right"&&(c+=Q):k==="right"&&(Z==="center"?c+=Q:Z==="right"&&(c+=m))),T){case"top":f-=(ge.length-1)*le;break;case"center":case"bottom":f-=(ge.length-1)*le;break}for(var ie=0;ie<ge.length;ie++)fe>0&&r.strokeText(ge[ie],c,f),r.fillText(ge[ie],c,f),f+=le}else fe>0&&r.strokeText(p,c,f),r.fillText(p,c,f);D!==0&&(r.rotate(-D),r.translate(-v,-h))}}};var Ba={};Ba.drawNode=function(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this,u,c,f=e._private,v=f.rscratch,h=e.position();if(!(!Ee(h.x)||!Ee(h.y))&&!(o&&!e.visible())){var p=o?e.effectiveOpacity():1,y=l.usePaths(),m,E=!1,x=e.padding();u=e.width()+2*x,c=e.height()+2*x;var S;t&&(S=t,r.translate(-S.x1,-S.y1));for(var b=e.pstyle("background-image"),k=b.value,T=new Array(k.length),D=new Array(k.length),R=0,P=0;P<k.length;P++){var B=k[P],L=T[P]=B!=null&&B!=="none";if(L){var M=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",P);R++,D[P]=l.getCachedImage(B,M,function(){f.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var z=e.pstyle("background-blacken").value,O=e.pstyle("border-width").pfValue,_=e.pstyle("background-opacity").value*p,W=e.pstyle("border-color").value,U=e.pstyle("border-style").value,H=e.pstyle("border-join").value,q=e.pstyle("border-cap").value,V=e.pstyle("border-position").value,G=e.pstyle("border-dash-pattern").pfValue,j=e.pstyle("border-dash-offset").pfValue,N=e.pstyle("border-opacity").value*p,F=e.pstyle("outline-width").pfValue,ee=e.pstyle("outline-color").value,ae=e.pstyle("outline-style").value,ne=e.pstyle("outline-opacity").value*p,se=e.pstyle("outline-offset").value,fe=e.pstyle("corner-radius").value;fe!=="auto"&&(fe=e.pstyle("corner-radius").pfValue);var ge=function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_;l.eleFillStyle(r,e,Ce)},le=function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N;l.colorStrokeStyle(r,W[0],W[1],W[2],Ce)},Q=function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ne;l.colorStrokeStyle(r,ee[0],ee[1],ee[2],Ce)},Z=function(Ce,ve,I,te){var ue=l.nodePathCache=l.nodePathCache||[],ce=S0(I==="polygon"?I+","+te.join(","):I,""+ve,""+Ce,""+fe),he=ue[ce],Pe,pe=!1;return he!=null?(Pe=he,pe=!0,v.pathCache=Pe):(Pe=new Path2D,ue[ce]=v.pathCache=Pe),{path:Pe,cacheHit:pe}},ie=e.pstyle("shape").strValue,de=e.pstyle("shape-polygon-points").pfValue;if(y){r.translate(h.x,h.y);var be=Z(u,c,ie,de);m=be.path,E=be.cacheHit}var Ie=function(){if(!E){var Ce=h;y&&(Ce={x:0,y:0}),l.nodeShapes[l.getNodeShape(e)].draw(m||r,Ce.x,Ce.y,u,c,fe,v)}y?r.fill(m):r.fill()},nt=function(){for(var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,I=f.backgrounding,te=0,ue=0;ue<D.length;ue++){var ce=e.cy().style().getIndexedStyle(e,"background-image-containment","value",ue);if(ve&&ce==="over"||!ve&&ce==="inside"){te++;continue}T[ue]&&D[ue].complete&&!D[ue].error&&(te++,l.drawInscribedImage(r,D[ue],e,ue,Ce))}f.backgrounding=te!==R,I!==f.backgrounding&&e.updateStyle(!1)},Ge=function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p;l.hasPie(e)&&(l.drawPie(r,e,ve),Ce&&(y||l.nodeShapes[l.getNodeShape(e)].draw(r,h.x,h.y,u,c,fe,v)))},We=function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p;l.hasStripe(e)&&(r.save(),y?r.clip(v.pathCache):(l.nodeShapes[l.getNodeShape(e)].draw(r,h.x,h.y,u,c,fe,v),r.clip()),l.drawStripe(r,e,ve),r.restore(),Ce&&(y||l.nodeShapes[l.getNodeShape(e)].draw(r,h.x,h.y,u,c,fe,v)))},Ve=function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,ve=(z>0?z:-z)*Ce,I=z>0?0:255;z!==0&&(l.colorFillStyle(r,I,I,I,ve),y?r.fill(m):r.fill())},Se=function(){if(O>0){if(r.lineWidth=O,r.lineCap=q,r.lineJoin=H,r.setLineDash)switch(U){case"dotted":r.setLineDash([1,1]);break;case"dashed":r.setLineDash(G),r.lineDashOffset=j;break;case"solid":case"double":r.setLineDash([]);break}if(V!=="center"){if(r.save(),r.lineWidth*=2,V==="inside")y?r.clip(m):r.clip();else{var Ce=new Path2D;Ce.rect(-u/2-O,-c/2-O,u+2*O,c+2*O),Ce.addPath(m),r.clip(Ce,"evenodd")}y?r.stroke(m):r.stroke(),r.restore()}else y?r.stroke(m):r.stroke();if(U==="double"){r.lineWidth=O/3;var ve=r.globalCompositeOperation;r.globalCompositeOperation="destination-out",y?r.stroke(m):r.stroke(),r.globalCompositeOperation=ve}r.setLineDash&&r.setLineDash([])}},Be=function(){if(F>0){if(r.lineWidth=F,r.lineCap="butt",r.setLineDash)switch(ae){case"dotted":r.setLineDash([1,1]);break;case"dashed":r.setLineDash([4,2]);break;case"solid":case"double":r.setLineDash([]);break}var Ce=h;y&&(Ce={x:0,y:0});var ve=l.getNodeShape(e),I=O;V==="inside"&&(I=0),V==="outside"&&(I*=2);var te=(u+I+(F+se))/u,ue=(c+I+(F+se))/c,ce=u*te,he=c*ue,Pe=l.nodeShapes[ve].points,pe;if(y){var Ne=Z(ce,he,ve,Pe);pe=Ne.path}if(ve==="ellipse")l.drawEllipsePath(pe||r,Ce.x,Ce.y,ce,he);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(ve)){var ke=0,_e=0,Ze=0;ve==="round-diamond"?ke=(I+se+F)*1.4:ve==="round-heptagon"?(ke=(I+se+F)*1.075,Ze=-(I/2+se+F)/35):ve==="round-hexagon"?ke=(I+se+F)*1.12:ve==="round-pentagon"?(ke=(I+se+F)*1.13,Ze=-(I/2+se+F)/15):ve==="round-tag"?(ke=(I+se+F)*1.12,_e=(I/2+F+se)*.07):ve==="round-triangle"&&(ke=(I+se+F)*(Math.PI/2),Ze=-(I+se/2+F)/Math.PI),ke!==0&&(te=(u+ke)/u,ce=u*te,["round-hexagon","round-tag"].includes(ve)||(ue=(c+ke)/c,he=c*ue)),fe=fe==="auto"?M0(ce,he):fe;for(var Xe=ce/2,Me=he/2,et=fe+(I+F+se)/2,Je=new Array(Pe.length/2),At=new Array(Pe.length/2),Et=0;Et<Pe.length/2;Et++)Je[Et]={x:Ce.x+_e+Xe*Pe[Et*2],y:Ce.y+Ze+Me*Pe[Et*2+1]};var qt,Pt,Dt,Wt,Nt=Je.length;for(Pt=Je[Nt-1],qt=0;qt<Nt;qt++)Dt=Je[qt%Nt],Wt=Je[(qt+1)%Nt],At[qt]=$v(Pt,Dt,Wt,et),Pt=Dt,Dt=Wt;l.drawRoundPolygonPath(pe||r,Ce.x+_e,Ce.y+Ze,u*te,c*ue,Pe,At)}else if(["roundrectangle","round-rectangle"].includes(ve))fe=fe==="auto"?Ea(ce,he):fe,l.drawRoundRectanglePath(pe||r,Ce.x,Ce.y,ce,he,fe+(I+F+se)/2);else if(["cutrectangle","cut-rectangle"].includes(ve))fe=fe==="auto"?Nv():fe,l.drawCutRectanglePath(pe||r,Ce.x,Ce.y,ce,he,null,fe+(I+F+se)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(ve))fe=fe==="auto"?Ea(ce,he):fe,l.drawBottomRoundRectanglePath(pe||r,Ce.x,Ce.y,ce,he,fe+(I+F+se)/2);else if(ve==="barrel")l.drawBarrelPath(pe||r,Ce.x,Ce.y,ce,he);else if(ve.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(ve)){var qr=(I+F+se)/u;Pe=ou(su(Pe,qr)),l.drawPolygonPath(pe||r,Ce.x,Ce.y,u,c,Pe)}else{var St=(I+F+se)/u;Pe=ou(su(Pe,-St)),l.drawPolygonPath(pe||r,Ce.x,Ce.y,u,c,Pe)}if(y?r.stroke(pe):r.stroke(),ae==="double"){r.lineWidth=I/3;var Wr=r.globalCompositeOperation;r.globalCompositeOperation="destination-out",y?r.stroke(pe):r.stroke(),r.globalCompositeOperation=Wr}r.setLineDash&&r.setLineDash([])}},ze=function(){i&&l.drawNodeOverlay(r,e,h,u,c)},Ke=function(){i&&l.drawNodeUnderlay(r,e,h,u,c)},Fe=function(){l.drawElementText(r,e,null,n)},Qe=e.pstyle("ghost").value==="yes";if(Qe){var at=e.pstyle("ghost-offset-x").pfValue,st=e.pstyle("ghost-offset-y").pfValue,ot=e.pstyle("ghost-opacity").value,lt=ot*p;r.translate(at,st),Q(),Be(),ge(ot*_),Ie(),nt(lt,!0),le(ot*N),Se(),Ge(z!==0||O!==0),We(z!==0||O!==0),nt(lt,!1),Ve(lt),r.translate(-at,-st)}y&&r.translate(-h.x,-h.y),Ke(),y&&r.translate(h.x,h.y),Q(),Be(),ge(),Ie(),nt(p,!0),le(),Se(),Ge(z!==0||O!==0),We(z!==0||O!==0),nt(p,!1),Ve(),y&&r.translate(-h.x,-h.y),Fe(),ze(),t&&r.translate(S.x1,S.y1)}};var F1=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n,i,o,l){var u=this;if(n.visible()){var c=n.pstyle("".concat(e,"-padding")).pfValue,f=n.pstyle("".concat(e,"-opacity")).value,v=n.pstyle("".concat(e,"-color")).value,h=n.pstyle("".concat(e,"-shape")).value,p=n.pstyle("".concat(e,"-corner-radius")).value;if(f>0){if(i=i||n.position(),o==null||l==null){var y=n.padding();o=n.width()+2*y,l=n.height()+2*y}u.colorFillStyle(t,v[0],v[1],v[2],f),u.nodeShapes[h].draw(t,i.x,i.y,o+c*2,l+c*2,p),t.fill()}}}};Ba.drawNodeOverlay=F1("overlay");Ba.drawNodeUnderlay=F1("underlay");Ba.hasPie=function(r){return r=r[0],r._private.hasPie};Ba.hasStripe=function(r){return r=r[0],r._private.hasStripe};Ba.drawPie=function(r,e,t,n){e=e[0],n=n||e.position();var i=e.cy().style(),o=e.pstyle("pie-size"),l=e.pstyle("pie-hole"),u=e.pstyle("pie-start-angle").pfValue,c=n.x,f=n.y,v=e.width(),h=e.height(),p=Math.min(v,h)/2,y,m=0,E=this.usePaths();if(E&&(c=0,f=0),o.units==="%"?p=p*o.pfValue:o.pfValue!==void 0&&(p=o.pfValue/2),l.units==="%"?y=p*l.pfValue:l.pfValue!==void 0&&(y=l.pfValue/2),!(y>=p))for(var x=1;x<=i.pieBackgroundN;x++){var S=e.pstyle("pie-"+x+"-background-size").value,b=e.pstyle("pie-"+x+"-background-color").value,k=e.pstyle("pie-"+x+"-background-opacity").value*t,T=S/100;T+m>1&&(T=1-m);var D=1.5*Math.PI+2*Math.PI*m;D+=u;var R=2*Math.PI*T,P=D+R;S===0||m>=1||m+T>1||(y===0?(r.beginPath(),r.moveTo(c,f),r.arc(c,f,p,D,P),r.closePath()):(r.beginPath(),r.arc(c,f,p,D,P),r.arc(c,f,y,P,D,!0),r.closePath()),this.colorFillStyle(r,b[0],b[1],b[2],k),r.fill(),m+=T)}};Ba.drawStripe=function(r,e,t,n){e=e[0],n=n||e.position();var i=e.cy().style(),o=n.x,l=n.y,u=e.width(),c=e.height(),f=0,v=this.usePaths();r.save();var h=e.pstyle("stripe-direction").value,p=e.pstyle("stripe-size");switch(h){case"vertical":break;case"righward":r.rotate(-Math.PI/2);break}var y=u,m=c;p.units==="%"?(y=y*p.pfValue,m=m*p.pfValue):p.pfValue!==void 0&&(y=p.pfValue,m=p.pfValue),v&&(o=0,l=0),l-=y/2,o-=m/2;for(var E=1;E<=i.stripeBackgroundN;E++){var x=e.pstyle("stripe-"+E+"-background-size").value,S=e.pstyle("stripe-"+E+"-background-color").value,b=e.pstyle("stripe-"+E+"-background-opacity").value*t,k=x/100;k+f>1&&(k=1-f),!(x===0||f>=1||f+k>1)&&(r.beginPath(),r.rect(o,l+m*f,y,m*k),r.closePath(),this.colorFillStyle(r,S[0],S[1],S[2],b),r.fill(),f+=k)}r.restore()};var Ar={},IT=100;Ar.getPixelRatio=function(){var r=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),t=r.backingStorePixelRatio||r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/t};Ar.paintCache=function(r){for(var e=this.paintCaches=this.paintCaches||[],t=!0,n,i=0;i<e.length;i++)if(n=e[i],n.context===r){t=!1;break}return t&&(n={context:r},e.push(n)),n};Ar.createGradientStyleFor=function(r,e,t,n,i){var o,l=this.usePaths(),u=t.pstyle(e+"-gradient-stop-colors").value,c=t.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(t.isEdge()){var f=t.sourceEndpoint(),v=t.targetEndpoint(),h=t.midpoint(),p=ri(f,h),y=ri(v,h);o=r.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(p,y))}else{var m=l?{x:0,y:0}:t.position(),E=t.paddedWidth(),x=t.paddedHeight();o=r.createRadialGradient(m.x,m.y,0,m.x,m.y,Math.max(E,x))}else if(t.isEdge()){var S=t.sourceEndpoint(),b=t.targetEndpoint();o=r.createLinearGradient(S.x,S.y,b.x,b.y)}else{var k=l?{x:0,y:0}:t.position(),T=t.paddedWidth(),D=t.paddedHeight(),R=T/2,P=D/2,B=t.pstyle("background-gradient-direction").value;switch(B){case"to-bottom":o=r.createLinearGradient(k.x,k.y-P,k.x,k.y+P);break;case"to-top":o=r.createLinearGradient(k.x,k.y+P,k.x,k.y-P);break;case"to-left":o=r.createLinearGradient(k.x+R,k.y,k.x-R,k.y);break;case"to-right":o=r.createLinearGradient(k.x-R,k.y,k.x+R,k.y);break;case"to-bottom-right":case"to-right-bottom":o=r.createLinearGradient(k.x-R,k.y-P,k.x+R,k.y+P);break;case"to-top-right":case"to-right-top":o=r.createLinearGradient(k.x-R,k.y+P,k.x+R,k.y-P);break;case"to-bottom-left":case"to-left-bottom":o=r.createLinearGradient(k.x+R,k.y-P,k.x-R,k.y+P);break;case"to-top-left":case"to-left-top":o=r.createLinearGradient(k.x+R,k.y+P,k.x-R,k.y-P);break}}if(!o)return null;for(var L=c.length===u.length,M=u.length,z=0;z<M;z++)o.addColorStop(L?c[z]:z/(M-1),"rgba("+u[z][0]+","+u[z][1]+","+u[z][2]+","+i+")");return o};Ar.gradientFillStyle=function(r,e,t,n){var i=this.createGradientStyleFor(r,"background",e,t,n);if(!i)return null;r.fillStyle=i};Ar.colorFillStyle=function(r,e,t,n,i){r.fillStyle="rgba("+e+","+t+","+n+","+i+")"};Ar.eleFillStyle=function(r,e,t){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(r,e,n,t);else{var i=e.pstyle("background-color").value;this.colorFillStyle(r,i[0],i[1],i[2],t)}};Ar.gradientStrokeStyle=function(r,e,t,n){var i=this.createGradientStyleFor(r,"line",e,t,n);if(!i)return null;r.strokeStyle=i};Ar.colorStrokeStyle=function(r,e,t,n,i){r.strokeStyle="rgba("+e+","+t+","+n+","+i+")"};Ar.eleStrokeStyle=function(r,e,t){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(r,e,n,t);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(r,i[0],i[1],i[2],t)}};Ar.matchCanvasSize=function(r){var e=this,t=e.data,n=e.findContainerClientCoords(),i=n[2],o=n[3],l=e.getPixelRatio(),u=e.motionBlurPxRatio;(r===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||r===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(l=u);var c=i*l,f=o*l,v;if(!(c===e.canvasWidth&&f===e.canvasHeight)){e.fontCaches=null;var h=t.canvasContainer;h.style.width=i+"px",h.style.height=o+"px";for(var p=0;p<e.CANVAS_LAYERS;p++)v=t.canvases[p],v.width=c,v.height=f,v.style.width=i+"px",v.style.height=o+"px";for(var p=0;p<e.BUFFER_COUNT;p++)v=t.bufferCanvases[p],v.width=c,v.height=f,v.style.width=i+"px",v.style.height=o+"px";e.textureMult=1,l<=1&&(v=t.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,v.width=c*e.textureMult,v.height=f*e.textureMult),e.canvasWidth=c,e.canvasHeight=f,e.pixelRatio=l}};Ar.renderTo=function(r,e,t,n){this.render({forcedContext:r,forcedZoom:e,forcedPan:t,drawAllLayers:!0,forcedPxRatio:n})};Ar.clearCanvas=function(){var r=this,e=r.data;function t(n){n.clearRect(0,0,r.canvasWidth,r.canvasHeight)}t(e.contexts[r.NODE]),t(e.contexts[r.DRAG])};Ar.render=function(r){var e=this;r=r||P0();var t=e.cy,n=r.forcedContext,i=r.drawAllLayers,o=r.drawOnlyNodeLayer,l=r.forcedZoom,u=r.forcedPan,c=r.forcedPxRatio===void 0?this.getPixelRatio():r.forcedPxRatio,f=e.data,v=f.canvasNeedsRedraw,h=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),p=r.motionBlur!==void 0?r.motionBlur:e.motionBlur,y=e.motionBlurPxRatio,m=t.hasCompoundNodes(),E=e.hoverData.draggingEles,x=!!(e.hoverData.selecting||e.touchData.selecting);p=p&&!n&&e.motionBlurEnabled&&!x;var S=p;n||(e.prevPxRatio!==c&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=c),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),p&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(S=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!h&&(v[e.NODE]=!0,v[e.SELECT_BOX]=!0);var b=t.style(),k=t.zoom(),T=l!==void 0?l:k,D=t.pan(),R={x:D.x,y:D.y},P={zoom:k,pan:{x:D.x,y:D.y}},B=e.prevViewport,L=B===void 0||P.zoom!==B.zoom||P.pan.x!==B.pan.x||P.pan.y!==B.pan.y;!L&&!(E&&!m)&&(e.motionBlurPxRatio=1),u&&(R=u),T*=c,R.x*=c,R.y*=c;var M=e.getCachedZSortedEles();function z(le,Q,Z,ie,de){var be=le.globalCompositeOperation;le.globalCompositeOperation="destination-out",e.colorFillStyle(le,255,255,255,e.motionBlurTransparency),le.fillRect(Q,Z,ie,de),le.globalCompositeOperation=be}function O(le,Q){var Z,ie,de,be;!e.clearingMotionBlur&&(le===f.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||le===f.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(Z={x:D.x*y,y:D.y*y},ie=k*y,de=e.canvasWidth*y,be=e.canvasHeight*y):(Z=R,ie=T,de=e.canvasWidth,be=e.canvasHeight),le.setTransform(1,0,0,1,0,0),Q==="motionBlur"?z(le,0,0,de,be):!n&&(Q===void 0||Q)&&le.clearRect(0,0,de,be),i||(le.translate(Z.x,Z.y),le.scale(ie,ie)),u&&le.translate(u.x,u.y),l&&le.scale(l,l)}if(h||(e.textureDrawLastFrame=!1),h){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=t.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var _=e.data.bufferContexts[e.TEXTURE_BUFFER];_.setTransform(1,0,0,1,0,0),_.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:_,drawOnlyNodeLayer:!0,forcedPxRatio:c*e.textureMult});var P=e.textureCache.viewport={zoom:t.zoom(),pan:t.pan(),width:e.canvasWidth,height:e.canvasHeight};P.mpan={x:(0-P.pan.x)/P.zoom,y:(0-P.pan.y)/P.zoom}}v[e.DRAG]=!1,v[e.NODE]=!1;var W=f.contexts[e.NODE],U=e.textureCache.texture,P=e.textureCache.viewport;W.setTransform(1,0,0,1,0,0),p?z(W,0,0,P.width,P.height):W.clearRect(0,0,P.width,P.height);var H=b.core("outside-texture-bg-color").value,q=b.core("outside-texture-bg-opacity").value;e.colorFillStyle(W,H[0],H[1],H[2],q),W.fillRect(0,0,P.width,P.height);var k=t.zoom();O(W,!1),W.clearRect(P.mpan.x,P.mpan.y,P.width/P.zoom/c,P.height/P.zoom/c),W.drawImage(U,P.mpan.x,P.mpan.y,P.width/P.zoom/c,P.height/P.zoom/c)}else e.textureOnViewport&&!n&&(e.textureCache=null);var V=t.extent(),G=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),j=e.hideEdgesOnViewport&&G,N=[];if(N[e.NODE]=!v[e.NODE]&&p&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,N[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),N[e.DRAG]=!v[e.DRAG]&&p&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,N[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),v[e.NODE]||i||o||N[e.NODE]){var F=p&&!N[e.NODE]&&y!==1,W=n||(F?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:f.contexts[e.NODE]),ee=p&&!F?"motionBlur":void 0;O(W,ee),j?e.drawCachedNodes(W,M.nondrag,c,V):e.drawLayeredElements(W,M.nondrag,c,V),e.debug&&e.drawDebugPoints(W,M.nondrag),!i&&!p&&(v[e.NODE]=!1)}if(!o&&(v[e.DRAG]||i||N[e.DRAG])){var F=p&&!N[e.DRAG]&&y!==1,W=n||(F?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:f.contexts[e.DRAG]);O(W,p&&!F?"motionBlur":void 0),j?e.drawCachedNodes(W,M.drag,c,V):e.drawCachedElements(W,M.drag,c,V),e.debug&&e.drawDebugPoints(W,M.drag),!i&&!p&&(v[e.DRAG]=!1)}if(this.drawSelectionRectangle(r,O),p&&y!==1){var ae=f.contexts[e.NODE],ne=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],se=f.contexts[e.DRAG],fe=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],ge=function(Q,Z,ie){Q.setTransform(1,0,0,1,0,0),ie||!S?Q.clearRect(0,0,e.canvasWidth,e.canvasHeight):z(Q,0,0,e.canvasWidth,e.canvasHeight);var de=y;Q.drawImage(Z,0,0,e.canvasWidth*de,e.canvasHeight*de,0,0,e.canvasWidth,e.canvasHeight)};(v[e.NODE]||N[e.NODE])&&(ge(ae,ne,N[e.NODE]),v[e.NODE]=!1),(v[e.DRAG]||N[e.DRAG])&&(ge(se,fe,N[e.DRAG]),v[e.DRAG]=!1)}e.prevViewport=P,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),p&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!h,e.mbFrames=0,v[e.NODE]=!0,v[e.DRAG]=!0,e.redraw()},IT)),n||t.emit("render")};var Go;Ar.drawSelectionRectangle=function(r,e){var t=this,n=t.cy,i=t.data,o=n.style(),l=r.drawOnlyNodeLayer,u=r.drawAllLayers,c=i.canvasNeedsRedraw,f=r.forcedContext;if(t.showFps||!l&&c[t.SELECT_BOX]&&!u){var v=f||i.contexts[t.SELECT_BOX];if(e(v),t.selection[4]==1&&(t.hoverData.selecting||t.touchData.selecting)){var h=t.cy.zoom(),p=o.core("selection-box-border-width").value/h;v.lineWidth=p,v.fillStyle="rgba("+o.core("selection-box-color").value[0]+","+o.core("selection-box-color").value[1]+","+o.core("selection-box-color").value[2]+","+o.core("selection-box-opacity").value+")",v.fillRect(t.selection[0],t.selection[1],t.selection[2]-t.selection[0],t.selection[3]-t.selection[1]),p>0&&(v.strokeStyle="rgba("+o.core("selection-box-border-color").value[0]+","+o.core("selection-box-border-color").value[1]+","+o.core("selection-box-border-color").value[2]+","+o.core("selection-box-opacity").value+")",v.strokeRect(t.selection[0],t.selection[1],t.selection[2]-t.selection[0],t.selection[3]-t.selection[1]))}if(i.bgActivePosistion&&!t.hoverData.selecting){var h=t.cy.zoom(),y=i.bgActivePosistion;v.fillStyle="rgba("+o.core("active-bg-color").value[0]+","+o.core("active-bg-color").value[1]+","+o.core("active-bg-color").value[2]+","+o.core("active-bg-opacity").value+")",v.beginPath(),v.arc(y.x,y.y,o.core("active-bg-size").pfValue/h,0,2*Math.PI),v.fill()}var m=t.lastRedrawTime;if(t.showFps&&m){m=Math.round(m);var E=Math.round(1e3/m),x="1 frame = "+m+" ms = "+E+" fps";if(v.setTransform(1,0,0,1,0,0),v.fillStyle="rgba(255, 0, 0, 0.75)",v.strokeStyle="rgba(255, 0, 0, 0.75)",v.font="30px Arial",!Go){var S=v.measureText(x);Go=S.actualBoundingBoxAscent}v.fillText(x,0,Go);var b=60;v.strokeRect(0,Go+10,250,20),v.fillRect(0,Go+10,250*Math.min(E/b,1),20)}u||(c[t.SELECT_BOX]=!1)}};function Xy(r,e,t){var n=r.createShader(e);if(r.shaderSource(n,t),r.compileShader(n),!r.getShaderParameter(n,r.COMPILE_STATUS))throw new Error(r.getShaderInfoLog(n));return n}function zT(r,e,t){var n=Xy(r,r.VERTEX_SHADER,e),i=Xy(r,r.FRAGMENT_SHADER,t),o=r.createProgram();if(r.attachShader(o,n),r.attachShader(o,i),r.linkProgram(o),!r.getProgramParameter(o,r.LINK_STATUS))throw new Error("Could not initialize shaders");return o}function OT(r,e,t){t===void 0&&(t=e);var n=r.makeOffscreenCanvas(e,t),i=n.context=n.getContext("2d");return n.clear=function(){return i.clearRect(0,0,n.width,n.height)},n.clear(),n}function jv(r){var e=r.pixelRatio,t=r.cy.zoom(),n=r.cy.pan();return{zoom:t*e,pan:{x:n.x*e,y:n.y*e}}}function _T(r){var e=r.pixelRatio,t=r.cy.zoom();return t*e}function FT(r,e,t,n,i){var o=n*t+e.x,l=i*t+e.y;return l=Math.round(r.canvasHeight-l),[o,l]}function VT(r){return r.pstyle("background-fill").value!=="solid"||r.pstyle("background-image").strValue!=="none"?!1:r.pstyle("border-width").value===0||r.pstyle("border-opacity").value===0?!0:r.pstyle("border-style").value==="solid"}function qT(r,e){if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function Ka(r,e,t){var n=r[0]/255,i=r[1]/255,o=r[2]/255,l=e,u=t||new Array(4);return u[0]=n*l,u[1]=i*l,u[2]=o*l,u[3]=l,u}function Fi(r,e){var t=e||new Array(4);return t[0]=(r>>0&255)/255,t[1]=(r>>8&255)/255,t[2]=(r>>16&255)/255,t[3]=(r>>24&255)/255,t}function WT(r){return r[0]+(r[1]<<8)+(r[2]<<16)+(r[3]<<24)}function $T(r,e){var t=r.createTexture();return t.buffer=function(n){r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR_MIPMAP_NEAREST),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,n),r.generateMipmap(r.TEXTURE_2D),r.bindTexture(r.TEXTURE_2D,null)},t.deleteTexture=function(){r.deleteTexture(t)},t}function V1(r,e){switch(e){case"float":return[1,r.FLOAT,4];case"vec2":return[2,r.FLOAT,4];case"vec3":return[3,r.FLOAT,4];case"vec4":return[4,r.FLOAT,4];case"int":return[1,r.INT,4];case"ivec2":return[2,r.INT,4]}}function q1(r,e,t){switch(e){case r.FLOAT:return new Float32Array(t);case r.INT:return new Int32Array(t)}}function UT(r,e,t,n,i,o){switch(e){case r.FLOAT:return new Float32Array(t.buffer,o*n,i);case r.INT:return new Int32Array(t.buffer,o*n,i)}}function HT(r,e,t,n){var i=V1(r,e),o=Gt(i,2),l=o[0],u=o[1],c=q1(r,u,n),f=r.createBuffer();return r.bindBuffer(r.ARRAY_BUFFER,f),r.bufferData(r.ARRAY_BUFFER,c,r.STATIC_DRAW),u===r.FLOAT?r.vertexAttribPointer(t,l,u,!1,0,0):u===r.INT&&r.vertexAttribIPointer(t,l,u,0,0),r.enableVertexAttribArray(t),r.bindBuffer(r.ARRAY_BUFFER,null),f}function En(r,e,t,n){var i=V1(r,t),o=Gt(i,3),l=o[0],u=o[1],c=o[2],f=q1(r,u,e*l),v=l*c,h=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,h),r.bufferData(r.ARRAY_BUFFER,e*v,r.DYNAMIC_DRAW),r.enableVertexAttribArray(n),u===r.FLOAT?r.vertexAttribPointer(n,l,u,!1,v,0):u===r.INT&&r.vertexAttribIPointer(n,l,u,v,0),r.vertexAttribDivisor(n,1),r.bindBuffer(r.ARRAY_BUFFER,null);for(var p=new Array(e),y=0;y<e;y++)p[y]=UT(r,u,f,v,l,y);return h.dataArray=f,h.stride=v,h.size=l,h.getView=function(m){return p[m]},h.setPoint=function(m,E,x){var S=p[m];S[0]=E,S[1]=x},h.bufferSubData=function(m){r.bindBuffer(r.ARRAY_BUFFER,h),m?r.bufferSubData(r.ARRAY_BUFFER,0,f,0,m*l):r.bufferSubData(r.ARRAY_BUFFER,0,f)},h}function jT(r,e,t){for(var n=9,i=new Float32Array(e*n),o=new Array(e),l=0;l<e;l++){var u=l*n*4;o[l]=new Float32Array(i.buffer,u,n)}var c=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,c),r.bufferData(r.ARRAY_BUFFER,i.byteLength,r.DYNAMIC_DRAW);for(var f=0;f<3;f++){var v=t+f;r.enableVertexAttribArray(v),r.vertexAttribPointer(v,3,r.FLOAT,!1,36,f*12),r.vertexAttribDivisor(v,1)}return r.bindBuffer(r.ARRAY_BUFFER,null),c.getMatrixView=function(h){return o[h]},c.setData=function(h,p){o[p].set(h,0)},c.bufferSubData=function(){r.bindBuffer(r.ARRAY_BUFFER,c),r.bufferSubData(r.ARRAY_BUFFER,0,i)},c}function GT(r){var e=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,e);var t=r.createTexture();return r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t,0),r.bindFramebuffer(r.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(n,i){r.bindTexture(r.TEXTURE_2D,t),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,n,i,0,r.RGBA,r.UNSIGNED_BYTE,null)},e}var Qy=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var r=0,e=arguments.length;e--;)r+=arguments[e]*arguments[e];return Math.sqrt(r)});function Kd(){var r=new Qy(9);return Qy!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function Zy(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function KT(r,e,t){var n=e[0],i=e[1],o=e[2],l=e[3],u=e[4],c=e[5],f=e[6],v=e[7],h=e[8],p=t[0],y=t[1],m=t[2],E=t[3],x=t[4],S=t[5],b=t[6],k=t[7],T=t[8];return r[0]=p*n+y*l+m*f,r[1]=p*i+y*u+m*v,r[2]=p*o+y*c+m*h,r[3]=E*n+x*l+S*f,r[4]=E*i+x*u+S*v,r[5]=E*o+x*c+S*h,r[6]=b*n+k*l+T*f,r[7]=b*i+k*u+T*v,r[8]=b*o+k*c+T*h,r}function tu(r,e,t){var n=e[0],i=e[1],o=e[2],l=e[3],u=e[4],c=e[5],f=e[6],v=e[7],h=e[8],p=t[0],y=t[1];return r[0]=n,r[1]=i,r[2]=o,r[3]=l,r[4]=u,r[5]=c,r[6]=p*n+y*l+f,r[7]=p*i+y*u+v,r[8]=p*o+y*c+h,r}function Jy(r,e,t){var n=e[0],i=e[1],o=e[2],l=e[3],u=e[4],c=e[5],f=e[6],v=e[7],h=e[8],p=Math.sin(t),y=Math.cos(t);return r[0]=y*n+p*l,r[1]=y*i+p*u,r[2]=y*o+p*c,r[3]=y*l-p*n,r[4]=y*u-p*i,r[5]=y*c-p*o,r[6]=f,r[7]=v,r[8]=h,r}function mv(r,e,t){var n=t[0],i=t[1];return r[0]=n*e[0],r[1]=n*e[1],r[2]=n*e[2],r[3]=i*e[3],r[4]=i*e[4],r[5]=i*e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r}function YT(r,e,t){return r[0]=2/e,r[1]=0,r[2]=0,r[3]=0,r[4]=-2/t,r[5]=0,r[6]=-1,r[7]=1,r[8]=1,r}var XT=(function(){function r(e,t,n,i){Pa(this,r),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=t,this.texRows=n,this.texHeight=Math.floor(t/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=i(e,t,t),this.scratch=i(e,t,this.texHeight,"scratch")}return Da(r,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(t){var n=t.w,i=t.h,o=this.texHeight,l=this.texSize,u=o/i,c=n*u,f=i*u;return c>l&&(u=l/n,c=n*u,f=i*u),{scale:u,texW:c,texH:f}}},{key:"draw",value:function(t,n,i){var o=this;if(this.locked)throw new Error("can't draw, atlas is locked");var l=this.texSize,u=this.texRows,c=this.texHeight,f=this.getScale(n),v=f.scale,h=f.texW,p=f.texH,y=function(k,T){if(i&&T){var D=T.context,R=k.x,P=k.row,B=R,L=c*P;D.save(),D.translate(B,L),D.scale(v,v),i(D,n),D.restore()}},m=[null,null],E=function(){y(o.freePointer,o.canvas),m[0]={x:o.freePointer.x,y:o.freePointer.row*c,w:h,h:p},m[1]={x:o.freePointer.x+h,y:o.freePointer.row*c,w:0,h:p},o.freePointer.x+=h,o.freePointer.x==l&&(o.freePointer.x=0,o.freePointer.row++)},x=function(){var k=o.scratch,T=o.canvas;k.clear(),y({x:0,row:0},k);var D=l-o.freePointer.x,R=h-D,P=c;{var B=o.freePointer.x,L=o.freePointer.row*c,M=D;T.context.drawImage(k,0,0,M,P,B,L,M,P),m[0]={x:B,y:L,w:M,h:p}}{var z=D,O=(o.freePointer.row+1)*c,_=R;T&&T.context.drawImage(k,z,0,_,P,0,O,_,P),m[1]={x:0,y:O,w:_,h:p}}o.freePointer.x=R,o.freePointer.row++},S=function(){o.freePointer.x=0,o.freePointer.row++};if(this.freePointer.x+h<=l)E();else{if(this.freePointer.row>=u-1)return!1;this.freePointer.x===l?(S(),E()):this.enableWrapping?x():(S(),E())}return this.keyToLocation.set(t,m),this.needsBuffer=!0,m}},{key:"getOffsets",value:function(t){return this.keyToLocation.get(t)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(t){if(this.locked)return!1;var n=this.texSize,i=this.texRows,o=this.getScale(t),l=o.texW;return this.freePointer.x+l>n?this.freePointer.row<i-1:!0}},{key:"bufferIfNeeded",value:function(t){this.texture||(this.texture=$T(t,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])})(),QT=(function(){function r(e,t,n,i){Pa(this,r),this.r=e,this.texSize=t,this.texRows=n,this.createTextureCanvas=i,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return Da(r,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var t=this.r,n=this.texSize,i=this.texRows,o=this.createTextureCanvas;return new XT(t,n,i,o)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var t=this.r,n=this.texSize,i=this.texRows,o=this.createTextureCanvas,l=Math.floor(n/i);this.scratch=o(t,n,l,"scratch")}return this.scratch}},{key:"draw",value:function(t,n,i){var o=this.styleKeyToAtlas.get(t);return o||(o=this.atlases[this.atlases.length-1],(!o||!o.canFit(n))&&(o&&o.lock(),o=this._createAtlas(),this.atlases.push(o)),o.draw(t,n,i),this.styleKeyToAtlas.set(t,o)),o}},{key:"getAtlas",value:function(t){return this.styleKeyToAtlas.get(t)}},{key:"hasAtlas",value:function(t){return this.styleKeyToAtlas.has(t)}},{key:"markKeyForGC",value:function(t){this.markedKeys.add(t)}},{key:"gc",value:function(){var t=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var i=[],o=new Map,l=null,u=Vr(this.atlases),c;try{var f=function(){var h=c.value,p=h.getKeys(),y=ZT(n,p);if(y.size===0)return i.push(h),p.forEach(function(D){return o.set(D,h)}),1;l||(l=t._createAtlas(),i.push(l));var m=Vr(p),E;try{for(m.s();!(E=m.n()).done;){var x=E.value;if(!y.has(x)){var S=h.getOffsets(x),b=Gt(S,2),k=b[0],T=b[1];l.canFit({w:k.w+T.w,h:k.h})||(l.lock(),l=t._createAtlas(),i.push(l)),h.canvas&&(t._copyTextureToNewAtlas(x,h,l),o.set(x,l))}}}catch(D){m.e(D)}finally{m.f()}h.dispose()};for(u.s();!(c=u.n()).done;)f()}catch(v){u.e(v)}finally{u.f()}this.atlases=i,this.styleKeyToAtlas=o,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(t,n,i){var o=n.getOffsets(t),l=Gt(o,2),u=l[0],c=l[1];if(c.w===0)i.draw(t,u,function(p){p.drawImage(n.canvas,u.x,u.y,u.w,u.h,0,0,u.w,u.h)});else{var f=this._getScratchCanvas();f.clear(),f.context.drawImage(n.canvas,u.x,u.y,u.w,u.h,0,0,u.w,u.h),f.context.drawImage(n.canvas,c.x,c.y,c.w,c.h,u.w,0,c.w,c.h);var v=u.w+c.w,h=u.h;i.draw(t,{w:v,h},function(p){p.drawImage(f,0,0,v,h,0,0,v,h)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])})();function ZT(r,e){return r.intersection?r.intersection(e):new Set(ru(r).filter(function(t){return e.has(t)}))}var JT=(function(){function r(e,t){Pa(this,r),this.r=e,this.globalOptions=t,this.atlasSize=t.webglTexSize,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return Da(r,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(t,n){var i=this.globalOptions,o=i.webglTexSize,l=i.createTextureCanvas,u=n.texRows,c=this._cacheScratchCanvas(l),f=new QT(this.r,o,u,c);this.collections.set(t,f)}},{key:"addRenderType",value:function(t,n){var i=n.collection;if(!this.collections.has(i))throw new Error("invalid atlas collection name '".concat(i,"'"));var o=this.collections.get(i),l=je({type:t,atlasCollection:o},n);this.renderTypes.set(t,l)}},{key:"getRenderTypeOpts",value:function(t){return this.renderTypes.get(t)}},{key:"getAtlasCollection",value:function(t){return this.collections.get(t)}},{key:"_cacheScratchCanvas",value:function(t){var n=-1,i=-1,o=null;return function(l,u,c,f){return f?((!o||u!=n||c!=i)&&(n=u,i=c,o=t(l,u,c)),o):t(l,u,c)}}},{key:"_key",value:function(t,n){return"".concat(t,"-").concat(n)}},{key:"invalidate",value:function(t){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.forceRedraw,l=o===void 0?!1:o,u=i.filterEle,c=u===void 0?function(){return!0}:u,f=i.filterType,v=f===void 0?function(){return!0}:f,h=!1,p=!1,y=Vr(t),m;try{for(y.s();!(m=y.n()).done;){var E=m.value;if(c(E)){var x=Vr(this.renderTypes.values()),S;try{var b=function(){var T=S.value,D=T.type;if(v(D)){var R=n.collections.get(T.collection),P=T.getKey(E),B=Array.isArray(P)?P:[P];if(l)B.forEach(function(O){return R.markKeyForGC(O)}),p=!0;else{var L=T.getID?T.getID(E):E.id(),M=n._key(D,L),z=n.typeAndIdToKey.get(M);z!==void 0&&!qT(B,z)&&(h=!0,n.typeAndIdToKey.delete(M),z.forEach(function(O){return R.markKeyForGC(O)}))}}};for(x.s();!(S=x.n()).done;)b()}catch(k){x.e(k)}finally{x.f()}}}}catch(k){y.e(k)}finally{y.f()}return p&&(this.gc(),h=!1),h}},{key:"gc",value:function(){var t=Vr(this.collections.values()),n;try{for(t.s();!(n=t.n()).done;){var i=n.value;i.gc()}}catch(o){t.e(o)}finally{t.f()}}},{key:"getOrCreateAtlas",value:function(t,n,i,o){var l=this.renderTypes.get(n),u=this.collections.get(l.collection),c=!1,f=u.draw(o,i,function(p){l.drawClipped?(p.save(),p.beginPath(),p.rect(0,0,i.w,i.h),p.clip(),l.drawElement(p,t,i,!0,!0),p.restore()):l.drawElement(p,t,i,!0,!0),c=!0});if(c){var v=l.getID?l.getID(t):t.id(),h=this._key(n,v);this.typeAndIdToKey.has(h)?this.typeAndIdToKey.get(h).push(o):this.typeAndIdToKey.set(h,[o])}return f}},{key:"getAtlasInfo",value:function(t,n){var i=this,o=this.renderTypes.get(n),l=o.getKey(t),u=Array.isArray(l)?l:[l];return u.map(function(c){var f=o.getBoundingBox(t,c),v=i.getOrCreateAtlas(t,n,f,c),h=v.getOffsets(c),p=Gt(h,2),y=p[0],m=p[1];return{atlas:v,tex:y,tex1:y,tex2:m,bb:f}})}},{key:"getDebugInfo",value:function(){var t=[],n=Vr(this.collections),i;try{for(n.s();!(i=n.n()).done;){var o=Gt(i.value,2),l=o[0],u=o[1],c=u.getCounts(),f=c.keyCount,v=c.atlasCount;t.push({type:l,keyCount:f,atlasCount:v})}}catch(h){n.e(h)}finally{n.f()}return t}}])})(),eP=(function(){function r(e){Pa(this,r),this.globalOptions=e,this.atlasSize=e.webglTexSize,this.maxAtlasesPerBatch=e.webglTexPerBatch,this.batchAtlases=[]}return Da(r,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(t,n){return n})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(t){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(t):!0}},{key:"getAtlasIndexForBatch",value:function(t){var n=this.batchAtlases.indexOf(t);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(t),n=this.batchAtlases.length-1}return n}}])})(),tP=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,rP=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,nP=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,aP=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,ts={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},hu={IGNORE:1,USE_BB:2},Yd=0,e0=1,t0=2,Xd=3,Vi=4,Wl=5,Ko=6,Yo=7,iP=(function(){function r(e,t,n){Pa(this,r),this.r=e,this.gl=t,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=OT,this.atlasManager=new JT(e,n),this.batchManager=new eP(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(ts.SCREEN),this.pickingProgram=this._createShaderProgram(ts.PICKING),this.vao=this._createVAO()}return Da(r,[{key:"addAtlasCollection",value:function(t,n){this.atlasManager.addAtlasCollection(t,n)}},{key:"addTextureAtlasRenderType",value:function(t,n){this.atlasManager.addRenderType(t,n)}},{key:"addSimpleShapeRenderType",value:function(t,n){this.simpleShapeOptions.set(t,n)}},{key:"invalidate",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.type,o=this.atlasManager;return i?o.invalidate(t,{filterType:function(u){return u===i},forceRedraw:!0}):o.invalidate(t)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(t){var n=this.gl,i=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(Yd,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(Vi," || aVertType == ").concat(Yo,` 
             || aVertType == `).concat(Wl," || aVertType == ").concat(Ko,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(e0,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(t0,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(Xd,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),o=this.batchManager.getIndexArray(),l=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(o.map(function(f){return"uniform sampler2D uTexture".concat(f,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(tP,`
      `).concat(rP,`
      `).concat(nP,`
      `).concat(aP,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(Yd,`) {
          // look up the texel from the texture unit
          `).concat(o.map(function(f){return"if(vAtlasId == ".concat(f,") outColor = texture(uTexture").concat(f,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(Xd,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(Vi,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(Vi," || vVertType == ").concat(Yo,` 
          || vVertType == `).concat(Wl," || vVertType == ").concat(Ko,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(Vi,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(Yo,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(Yo,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(t.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),u=zT(n,i,l);u.aPosition=n.getAttribLocation(u,"aPosition"),u.aIndex=n.getAttribLocation(u,"aIndex"),u.aVertType=n.getAttribLocation(u,"aVertType"),u.aTransform=n.getAttribLocation(u,"aTransform"),u.aAtlasId=n.getAttribLocation(u,"aAtlasId"),u.aTex=n.getAttribLocation(u,"aTex"),u.aPointAPointB=n.getAttribLocation(u,"aPointAPointB"),u.aPointCPointD=n.getAttribLocation(u,"aPointCPointD"),u.aLineWidth=n.getAttribLocation(u,"aLineWidth"),u.aColor=n.getAttribLocation(u,"aColor"),u.aCornerRadius=n.getAttribLocation(u,"aCornerRadius"),u.aBorderColor=n.getAttribLocation(u,"aBorderColor"),u.uPanZoomMatrix=n.getUniformLocation(u,"uPanZoomMatrix"),u.uAtlasSize=n.getUniformLocation(u,"uAtlasSize"),u.uBGColor=n.getUniformLocation(u,"uBGColor"),u.uZoom=n.getUniformLocation(u,"uZoom"),u.uTextures=[];for(var c=0;c<this.batchManager.getMaxAtlasesPerBatch();c++)u.uTextures.push(n.getUniformLocation(u,"uTexture".concat(c)));return u}},{key:"_createVAO",value:function(){var t=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=t.length/2;var n=this.maxInstances,i=this.gl,o=this.program,l=i.createVertexArray();return i.bindVertexArray(l),HT(i,"vec2",o.aPosition,t),this.transformBuffer=jT(i,n,o.aTransform),this.indexBuffer=En(i,n,"vec4",o.aIndex),this.vertTypeBuffer=En(i,n,"int",o.aVertType),this.atlasIdBuffer=En(i,n,"int",o.aAtlasId),this.texBuffer=En(i,n,"vec4",o.aTex),this.pointAPointBBuffer=En(i,n,"vec4",o.aPointAPointB),this.pointCPointDBuffer=En(i,n,"vec4",o.aPointCPointD),this.lineWidthBuffer=En(i,n,"vec2",o.aLineWidth),this.colorBuffer=En(i,n,"vec4",o.aColor),this.cornerRadiusBuffer=En(i,n,"vec4",o.aCornerRadius),this.borderColorBuffer=En(i,n,"vec4",o.aBorderColor),i.bindVertexArray(null),l}},{key:"buffers",get:function(){var t=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return pa(n,"Buffer")}).map(function(n){return t[n]})),this._buffers}},{key:"startFrame",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ts.SCREEN;this.panZoomMatrix=t,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(t,n){return t.visible()?n&&n.isVisible?n.isVisible(t):!0:!1}},{key:"drawTexture",value:function(t,n,i){var o=this.atlasManager,l=this.batchManager,u=o.getRenderTypeOpts(i);if(this._isVisible(t,u)&&!(t.isEdge()&&!this._isValidEdge(t))){if(this.renderTarget.picking&&u.getTexPickingMode){var c=u.getTexPickingMode(t);if(c===hu.IGNORE)return;if(c==hu.USE_BB){this.drawPickingRectangle(t,n,i);return}}var f=o.getAtlasInfo(t,i),v=Vr(f),h;try{for(v.s();!(h=v.n()).done;){var p=h.value,y=p.atlas,m=p.tex1,E=p.tex2;l.canAddToCurrentBatch(y)||this.endBatch();for(var x=l.getAtlasIndexForBatch(y),S=0,b=[[m,!0],[E,!1]];S<b.length;S++){var k=Gt(b[S],2),T=k[0],D=k[1];if(T.w!=0){var R=this.instanceCount;this.vertTypeBuffer.getView(R)[0]=Yd;var P=this.indexBuffer.getView(R);Fi(n,P);var B=this.atlasIdBuffer.getView(R);B[0]=x;var L=this.texBuffer.getView(R);L[0]=T.x,L[1]=T.y,L[2]=T.w,L[3]=T.h;var M=this.transformBuffer.getMatrixView(R);this.setTransformMatrix(t,M,u,p,D),this.instanceCount++,D||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(z){v.e(z)}finally{v.f()}}}},{key:"setTransformMatrix",value:function(t,n,i,o){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,u=0;if(i.shapeProps&&i.shapeProps.padding&&(u=t.pstyle(i.shapeProps.padding).pfValue),o){var c=o.bb,f=o.tex1,v=o.tex2,h=f.w/(f.w+v.w);l||(h=1-h);var p=this._getAdjustedBB(c,u,l,h);this._applyTransformMatrix(n,p,i,t)}else{var y=i.getBoundingBox(t),m=this._getAdjustedBB(y,u,!0,1);this._applyTransformMatrix(n,m,i,t)}}},{key:"_applyTransformMatrix",value:function(t,n,i,o){var l,u;Zy(t);var c=i.getRotation?i.getRotation(o):0;if(c!==0){var f=i.getRotationPoint(o),v=f.x,h=f.y;tu(t,t,[v,h]),Jy(t,t,c);var p=i.getRotationOffset(o);l=p.x+(n.xOffset||0),u=p.y+(n.yOffset||0)}else l=n.x1,u=n.y1;tu(t,t,[l,u]),mv(t,t,[n.w,n.h])}},{key:"_getAdjustedBB",value:function(t,n,i,o){var l=t.x1,u=t.y1,c=t.w,f=t.h,v=t.yOffset;n&&(l-=n,u-=n,c+=2*n,f+=2*n);var h=0,p=c*o;return i&&o<1?c=p:!i&&o<1&&(h=c-p,l+=h,c=p),{x1:l,y1:u,w:c,h:f,xOffset:h,yOffset:v}}},{key:"drawPickingRectangle",value:function(t,n,i){var o=this.atlasManager.getRenderTypeOpts(i),l=this.instanceCount;this.vertTypeBuffer.getView(l)[0]=Vi;var u=this.indexBuffer.getView(l);Fi(n,u);var c=this.colorBuffer.getView(l);Ka([0,0,0],1,c);var f=this.transformBuffer.getMatrixView(l);this.setTransformMatrix(t,f,o),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(t,n,i){var o=this.simpleShapeOptions.get(i);if(this._isVisible(t,o)){var l=o.shapeProps,u=this._getVertTypeForShape(t,l.shape);if(u===void 0||o.isSimple&&!o.isSimple(t)){this.drawTexture(t,n,i);return}var c=this.instanceCount;if(this.vertTypeBuffer.getView(c)[0]=u,u===Wl||u===Ko){var f=o.getBoundingBox(t),v=this._getCornerRadius(t,l.radius,f),h=this.cornerRadiusBuffer.getView(c);h[0]=v,h[1]=v,h[2]=v,h[3]=v,u===Ko&&(h[0]=0,h[2]=0)}var p=this.indexBuffer.getView(c);Fi(n,p);var y=t.pstyle(l.color).value,m=t.pstyle(l.opacity).value,E=this.colorBuffer.getView(c);Ka(y,m,E);var x=this.lineWidthBuffer.getView(c);if(x[0]=0,x[1]=0,l.border){var S=t.pstyle("border-width").value;if(S>0){var b=t.pstyle("border-color").value,k=t.pstyle("border-opacity").value,T=this.borderColorBuffer.getView(c);Ka(b,k,T);var D=t.pstyle("border-position").value;if(D==="inside")x[0]=0,x[1]=-S;else if(D==="outside")x[0]=S,x[1]=0;else{var R=S/2;x[0]=R,x[1]=-R}}}var P=this.transformBuffer.getMatrixView(c);this.setTransformMatrix(t,P,o),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(t,n){var i=t.pstyle(n).value;switch(i){case"rectangle":return Vi;case"ellipse":return Yo;case"roundrectangle":case"round-rectangle":return Wl;case"bottom-round-rectangle":return Ko;default:return}}},{key:"_getCornerRadius",value:function(t,n,i){var o=i.w,l=i.h;if(t.pstyle(n).value==="auto")return Ea(o,l);var u=t.pstyle(n).pfValue,c=o/2,f=l/2;return Math.min(u,f,c)}},{key:"drawEdgeArrow",value:function(t,n,i){if(t.visible()){var o=t._private.rscratch,l,u,c;if(i==="source"?(l=o.arrowStartX,u=o.arrowStartY,c=o.srcArrowAngle):(l=o.arrowEndX,u=o.arrowEndY,c=o.tgtArrowAngle),!(isNaN(l)||l==null||isNaN(u)||u==null||isNaN(c)||c==null)){var f=t.pstyle(i+"-arrow-shape").value;if(f!=="none"){var v=t.pstyle(i+"-arrow-color").value,h=t.pstyle("opacity").value,p=t.pstyle("line-opacity").value,y=h*p,m=t.pstyle("width").pfValue,E=t.pstyle("arrow-scale").value,x=this.r.getArrowWidth(m,E),S=this.instanceCount,b=this.transformBuffer.getMatrixView(S);Zy(b),tu(b,b,[l,u]),mv(b,b,[x,x]),Jy(b,b,c),this.vertTypeBuffer.getView(S)[0]=Xd;var k=this.indexBuffer.getView(S);Fi(n,k);var T=this.colorBuffer.getView(S);Ka(v,y,T),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(t,n){if(t.visible()){var i=this._getEdgePoints(t);if(i){var o=t.pstyle("opacity").value,l=t.pstyle("line-opacity").value,u=t.pstyle("width").pfValue,c=t.pstyle("line-color").value,f=o*l;if(i.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),i.length==4){var v=this.instanceCount;this.vertTypeBuffer.getView(v)[0]=e0;var h=this.indexBuffer.getView(v);Fi(n,h);var p=this.colorBuffer.getView(v);Ka(c,f,p);var y=this.lineWidthBuffer.getView(v);y[0]=u;var m=this.pointAPointBBuffer.getView(v);m[0]=i[0],m[1]=i[1],m[2]=i[2],m[3]=i[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var E=0;E<i.length-2;E+=2){var x=this.instanceCount;this.vertTypeBuffer.getView(x)[0]=t0;var S=this.indexBuffer.getView(x);Fi(n,S);var b=this.colorBuffer.getView(x);Ka(c,f,b);var k=this.lineWidthBuffer.getView(x);k[0]=u;var T=i[E-2],D=i[E-1],R=i[E],P=i[E+1],B=i[E+2],L=i[E+3],M=i[E+4],z=i[E+5];E==0&&(T=2*R-B+.001,D=2*P-L+.001),E==i.length-4&&(M=2*B-R+.001,z=2*L-P+.001);var O=this.pointAPointBBuffer.getView(x);O[0]=T,O[1]=D,O[2]=R,O[3]=P;var _=this.pointCPointDBuffer.getView(x);_[0]=B,_[1]=L,_[2]=M,_[3]=z,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(t){var n=t._private.rscratch;return!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))}},{key:"_getEdgePoints",value:function(t){var n=t._private.rscratch;if(this._isValidEdge(t)){var i=n.allpts;if(i.length==4)return i;var o=this._getNumSegments(t);return this._getCurveSegmentPoints(i,o)}}},{key:"_getNumSegments",value:function(t){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(t,n){if(t.length==4)return t;for(var i=Array((n+1)*2),o=0;o<=n;o++)if(o==0)i[0]=t[0],i[1]=t[1];else if(o==n)i[o*2]=t[t.length-2],i[o*2+1]=t[t.length-1];else{var l=o/n;this._setCurvePoint(t,l,i,o*2)}return i}},{key:"_setCurvePoint",value:function(t,n,i,o){if(t.length<=2)i[o]=t[0],i[o+1]=t[1];else{for(var l=Array(t.length-2),u=0;u<l.length;u+=2){var c=(1-n)*t[u]+n*t[u+2],f=(1-n)*t[u+1]+n*t[u+3];l[u]=c,l[u+1]=f}return this._setCurvePoint(l,n,i,o)}}},{key:"endBatch",value:function(){var t=this.gl,n=this.vao,i=this.vertexCount,o=this.instanceCount;if(o!==0){var l=this.renderTarget.picking?this.pickingProgram:this.program;t.useProgram(l),t.bindVertexArray(n);var u=Vr(this.buffers),c;try{for(u.s();!(c=u.n()).done;){var f=c.value;f.bufferSubData(o)}}catch(m){u.e(m)}finally{u.f()}for(var v=this.batchManager.getAtlases(),h=0;h<v.length;h++)v[h].bufferIfNeeded(t);for(var p=0;p<v.length;p++)t.activeTexture(t.TEXTURE0+p),t.bindTexture(t.TEXTURE_2D,v[p].texture),t.uniform1i(l.uTextures[p],p);t.uniform1f(l.uZoom,_T(this.r)),t.uniformMatrix3fv(l.uPanZoomMatrix,!1,this.panZoomMatrix),t.uniform1i(l.uAtlasSize,this.batchManager.getAtlasSize());var y=Ka(this.bgColor,1);t.uniform4fv(l.uBGColor,y),t.drawArraysInstanced(t.TRIANGLES,0,i,o),t.bindVertexArray(null),t.bindTexture(t.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:o,atlasCount:v.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var t=this.atlasManager.getDebugInfo(),n=t.reduce(function(l,u){return l+u.atlasCount},0),i=this.batchDebugInfo,o=i.reduce(function(l,u){return l+u.count},0);return{atlasInfo:t,totalAtlases:n,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:i.length,batchInfo:i,totalInstances:o}}}])})(),W1={};W1.initWebgl=function(r,e){var t=this,n=t.data.contexts[t.WEBGL];r.bgColor=oP(t),r.webglTexSize=Math.min(r.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),r.webglTexRows=Math.min(r.webglTexRows,54),r.webglTexRowsNodes=Math.min(r.webglTexRowsNodes,54),r.webglBatchSize=Math.min(r.webglBatchSize,16384),r.webglTexPerBatch=Math.min(r.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),t.webglDebug=r.webglDebug,t.webglDebugShowAtlases=r.webglDebugShowAtlases,t.pickingFrameBuffer=GT(n),t.pickingFrameBuffer.needsDraw=!0,t.drawing=new iP(t,n,r);var i=function(h){return function(p){return t.getTextAngle(p,h)}},o=function(h){return function(p){var y=p.pstyle(h);return y&&y.value}},l=function(h){return function(p){return p.pstyle("".concat(h,"-opacity")).value>0}},u=function(h){var p=h.pstyle("text-events").strValue==="yes";return p?hu.USE_BB:hu.IGNORE},c=function(h){var p=h.position(),y=p.x,m=p.y,E=h.outerWidth(),x=h.outerHeight();return{w:E,h:x,x1:y-E/2,y1:m-x/2}};t.drawing.addAtlasCollection("node",{texRows:r.webglTexRowsNodes}),t.drawing.addAtlasCollection("label",{texRows:r.webglTexRows}),t.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement}),t.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:c,isSimple:VT,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),t.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:c,isVisible:l("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),t.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:c,isVisible:l("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),t.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:u,getKey:Qd(e.getLabelKey,null),getBoundingBox:Zd(e.getLabelBox,null),drawClipped:!0,drawElement:e.drawLabel,getRotation:i(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:o("label")}),t.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:u,getKey:Qd(e.getSourceLabelKey,"source"),getBoundingBox:Zd(e.getSourceLabelBox,"source"),drawClipped:!0,drawElement:e.drawSourceLabel,getRotation:i("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:o("source-label")}),t.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:u,getKey:Qd(e.getTargetLabelKey,"target"),getBoundingBox:Zd(e.getTargetLabelBox,"target"),drawClipped:!0,drawElement:e.drawTargetLabel,getRotation:i("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:o("target-label")});var f=ms(function(){console.log("garbage collect flag set"),t.data.gc=!0},1e4);t.onUpdateEleCalcs(function(v,h){var p=!1;h&&h.length>0&&(p|=t.drawing.invalidate(h)),p&&f()}),sP(t)};function oP(r){var e=r.cy.container(),t=e&&e.style&&e.style.backgroundColor||"white";return g0(t)}function $1(r,e){var t=r._private.rscratch;return _r(t,"labelWrapCachedLines",e)||[]}var Qd=function(e,t){return function(n){var i=e(n),o=$1(n,t);return o.length>1?o.map(function(l,u){return"".concat(i,"_").concat(u)}):i}},Zd=function(e,t){return function(n,i){var o=e(n);if(typeof i=="string"){var l=i.indexOf("_");if(l>0){var u=Number(i.substring(l+1)),c=$1(n,t),f=o.h/c.length,v=f*u,h=o.y1+v;return{x1:o.x1,w:o.w,y1:h,h:f,yOffset:v}}}return o}};function sP(r){{var e=r.render;r.render=function(o){o=o||{};var l=r.cy;r.webgl&&(l.zoom()>I1?(lP(r),e.call(r,o)):(uP(r),H1(r,o,ts.SCREEN)))}}{var t=r.matchCanvasSize;r.matchCanvasSize=function(o){t.call(r,o),r.pickingFrameBuffer.setFramebufferAttachmentSizes(r.canvasWidth,r.canvasHeight),r.pickingFrameBuffer.needsDraw=!0}}r.findNearestElements=function(o,l,u,c){return pP(r,o,l)};{var n=r.invalidateCachedZSortedEles;r.invalidateCachedZSortedEles=function(){n.call(r),r.pickingFrameBuffer.needsDraw=!0}}{var i=r.notify;r.notify=function(o,l){i.call(r,o,l),o==="viewport"||o==="bounds"?r.pickingFrameBuffer.needsDraw=!0:o==="background"&&r.drawing.invalidate(l,{type:"node-body"})}}}function lP(r){var e=r.data.contexts[r.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function uP(r){var e=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,r.canvasWidth,r.canvasHeight),n.restore()};e(r.data.contexts[r.NODE]),e(r.data.contexts[r.DRAG])}function cP(r){var e=r.canvasWidth,t=r.canvasHeight,n=jv(r),i=n.pan,o=n.zoom,l=Kd();tu(l,l,[i.x,i.y]),mv(l,l,[o,o]);var u=Kd();YT(u,e,t);var c=Kd();return KT(c,u,l),c}function U1(r,e){var t=r.canvasWidth,n=r.canvasHeight,i=jv(r),o=i.pan,l=i.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t,n),e.translate(o.x,o.y),e.scale(l,l)}function fP(r,e){r.drawSelectionRectangle(e,function(t){return U1(r,t)})}function dP(r){var e=r.data.contexts[r.NODE];e.save(),U1(r,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function vP(r){var e=function(i,o,l){for(var u=i.atlasManager.getAtlasCollection(o),c=r.data.contexts[r.NODE],f=u.atlases,v=0;v<f.length;v++){var h=f[v],p=h.canvas;if(p){var y=p.width,m=p.height,E=y*v,x=p.height*l,S=.4;c.save(),c.scale(S,S),c.drawImage(p,E,x),c.strokeStyle="black",c.rect(E,x,y,m),c.stroke(),c.restore()}}},t=0;e(r.drawing,"node",t++),e(r.drawing,"label",t++)}function hP(r,e,t,n,i){var o,l,u,c,f=jv(r),v=f.pan,h=f.zoom;{var p=FT(r,v,h,e,t),y=Gt(p,2),m=y[0],E=y[1],x=6;o=m-x/2,l=E-x/2,u=x,c=x}if(u===0||c===0)return[];var S=r.data.contexts[r.WEBGL];S.bindFramebuffer(S.FRAMEBUFFER,r.pickingFrameBuffer),r.pickingFrameBuffer.needsDraw&&(S.viewport(0,0,S.canvas.width,S.canvas.height),H1(r,null,ts.PICKING),r.pickingFrameBuffer.needsDraw=!1);var b=u*c,k=new Uint8Array(b*4);S.readPixels(o,l,u,c,S.RGBA,S.UNSIGNED_BYTE,k),S.bindFramebuffer(S.FRAMEBUFFER,null);for(var T=new Set,D=0;D<b;D++){var R=k.slice(D*4,D*4+4),P=WT(R)-1;P>=0&&T.add(P)}return T}function pP(r,e,t){var n=hP(r,e,t),i=r.getCachedZSortedEles(),o,l,u=Vr(n),c;try{for(u.s();!(c=u.n()).done;){var f=c.value,v=i[f];if(!o&&v.isNode()&&(o=v),!l&&v.isEdge()&&(l=v),o&&l)break}}catch(h){u.e(h)}finally{u.f()}return[o,l].filter(Boolean)}function Jd(r,e,t){var n=r.drawing;e+=1,t.isNode()?(n.drawNode(t,e,"node-underlay"),n.drawNode(t,e,"node-body"),n.drawTexture(t,e,"label"),n.drawNode(t,e,"node-overlay")):(n.drawEdgeLine(t,e),n.drawEdgeArrow(t,e,"source"),n.drawEdgeArrow(t,e,"target"),n.drawTexture(t,e,"label"),n.drawTexture(t,e,"edge-source-label"),n.drawTexture(t,e,"edge-target-label"))}function H1(r,e,t){var n;r.webglDebug&&(n=performance.now());var i=r.drawing,o=0;if(t.screen&&r.data.canvasNeedsRedraw[r.SELECT_BOX]&&fP(r,e),r.data.canvasNeedsRedraw[r.NODE]||t.picking){var l=r.data.contexts[r.WEBGL];t.screen?(l.clearColor(0,0,0,0),l.enable(l.BLEND),l.blendFunc(l.ONE,l.ONE_MINUS_SRC_ALPHA)):l.disable(l.BLEND),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT),l.viewport(0,0,l.canvas.width,l.canvas.height);var u=cP(r),c=r.getCachedZSortedEles();if(o=c.length,i.startFrame(u,t),t.screen){for(var f=0;f<c.nondrag.length;f++)Jd(r,f,c.nondrag[f]);for(var v=0;v<c.drag.length;v++)Jd(r,v,c.drag[v])}else if(t.picking)for(var h=0;h<c.length;h++)Jd(r,h,c[h]);i.endFrame(),t.screen&&r.webglDebugShowAtlases&&(dP(r),vP(r)),r.data.canvasNeedsRedraw[r.NODE]=!1,r.data.canvasNeedsRedraw[r.DRAG]=!1}if(r.webglDebug){var p=performance.now(),y=!1,m=Math.ceil(p-n),E=i.getDebugInfo(),x=["".concat(o," elements"),"".concat(E.totalInstances," instances"),"".concat(E.batchCount," batches"),"".concat(E.totalAtlases," atlases"),"".concat(E.wrappedCount," wrapped textures"),"".concat(E.simpleCount," simple shapes")].join(", ");if(y)console.log("WebGL (".concat(t.name,") - time ").concat(m,"ms, ").concat(x));else{console.log("WebGL (".concat(t.name,") - frame time ").concat(m,"ms")),console.log("Totals:"),console.log("  ".concat(x)),console.log("Texture Atlases Used:");var S=E.atlasInfo,b=Vr(S),k;try{for(b.s();!(k=b.n()).done;){var T=k.value;console.log("  ".concat(T.type,": ").concat(T.keyCount," keys, ").concat(T.atlasCount," atlases"))}}catch(D){b.e(D)}finally{b.f()}console.log("")}}r.data.gc&&(console.log("Garbage Collect!"),r.data.gc=!1,i.gc())}var Aa={};Aa.drawPolygonPath=function(r,e,t,n,i,o){var l=n/2,u=i/2;r.beginPath&&r.beginPath(),r.moveTo(e+l*o[0],t+u*o[1]);for(var c=1;c<o.length/2;c++)r.lineTo(e+l*o[c*2],t+u*o[c*2+1]);r.closePath()};Aa.drawRoundPolygonPath=function(r,e,t,n,i,o,l){l.forEach(function(u){return T1(r,u)}),r.closePath()};Aa.drawRoundRectanglePath=function(r,e,t,n,i,o){var l=n/2,u=i/2,c=o==="auto"?Ea(n,i):Math.min(o,u,l);r.beginPath&&r.beginPath(),r.moveTo(e,t-u),r.arcTo(e+l,t-u,e+l,t,c),r.arcTo(e+l,t+u,e,t+u,c),r.arcTo(e-l,t+u,e-l,t,c),r.arcTo(e-l,t-u,e,t-u,c),r.lineTo(e,t-u),r.closePath()};Aa.drawBottomRoundRectanglePath=function(r,e,t,n,i,o){var l=n/2,u=i/2,c=o==="auto"?Ea(n,i):o;r.beginPath&&r.beginPath(),r.moveTo(e,t-u),r.lineTo(e+l,t-u),r.lineTo(e+l,t),r.arcTo(e+l,t+u,e,t+u,c),r.arcTo(e-l,t+u,e-l,t,c),r.lineTo(e-l,t-u),r.lineTo(e,t-u),r.closePath()};Aa.drawCutRectanglePath=function(r,e,t,n,i,o,l){var u=n/2,c=i/2,f=l==="auto"?Nv():l;r.beginPath&&r.beginPath(),r.moveTo(e-u+f,t-c),r.lineTo(e+u-f,t-c),r.lineTo(e+u,t-c+f),r.lineTo(e+u,t+c-f),r.lineTo(e+u-f,t+c),r.lineTo(e-u+f,t+c),r.lineTo(e-u,t+c-f),r.lineTo(e-u,t-c+f),r.closePath()};Aa.drawBarrelPath=function(r,e,t,n,i){var o=n/2,l=i/2,u=e-o,c=e+o,f=t-l,v=t+l,h=nv(n,i),p=h.widthOffset,y=h.heightOffset,m=h.ctrlPtOffsetPct*p;r.beginPath&&r.beginPath(),r.moveTo(u,f+y),r.lineTo(u,v-y),r.quadraticCurveTo(u+m,v,u+p,v),r.lineTo(c-p,v),r.quadraticCurveTo(c-m,v,c,v-y),r.lineTo(c,f+y),r.quadraticCurveTo(c-m,f,c-p,f),r.lineTo(u+p,f),r.quadraticCurveTo(u+m,f,u,f+y),r.closePath()};var r0=Math.sin(0),n0=Math.cos(0),yv={},wv={},j1=Math.PI/40;for(var qi=0*Math.PI;qi<2*Math.PI;qi+=j1)yv[qi]=Math.sin(qi),wv[qi]=Math.cos(qi);Aa.drawEllipsePath=function(r,e,t,n,i){if(r.beginPath&&r.beginPath(),r.ellipse)r.ellipse(e,t,n/2,i/2,0,0,2*Math.PI);else for(var o,l,u=n/2,c=i/2,f=0*Math.PI;f<2*Math.PI;f+=j1)o=e-u*yv[f]*r0+u*wv[f]*n0,l=t+c*wv[f]*r0+c*yv[f]*n0,f===0?r.moveTo(o,l):r.lineTo(o,l);r.closePath()};var Ss={};Ss.createBuffer=function(r,e){var t=document.createElement("canvas");return t.width=r,t.height=e,[t,t.getContext("2d")]};Ss.bufferCanvasImage=function(r){var e=this.cy,t=e.mutableElements(),n=t.boundingBox(),i=this.findContainerClientCoords(),o=r.full?Math.ceil(n.w):i[2],l=r.full?Math.ceil(n.h):i[3],u=Ee(r.maxWidth)||Ee(r.maxHeight),c=this.getPixelRatio(),f=1;if(r.scale!==void 0)o*=r.scale,l*=r.scale,f=r.scale;else if(u){var v=1/0,h=1/0;Ee(r.maxWidth)&&(v=f*r.maxWidth/o),Ee(r.maxHeight)&&(h=f*r.maxHeight/l),f=Math.min(v,h),o*=f,l*=f}u||(o*=c,l*=c,f*=c);var p=document.createElement("canvas");p.width=o,p.height=l,p.style.width=o+"px",p.style.height=l+"px";var y=p.getContext("2d");if(o>0&&l>0){y.clearRect(0,0,o,l),y.globalCompositeOperation="source-over";var m=this.getCachedZSortedEles();if(r.full)y.translate(-n.x1*f,-n.y1*f),y.scale(f,f),this.drawElements(y,m),y.scale(1/f,1/f),y.translate(n.x1*f,n.y1*f);else{var E=e.pan(),x={x:E.x*f,y:E.y*f};f*=e.zoom(),y.translate(x.x,x.y),y.scale(f,f),this.drawElements(y,m),y.scale(1/f,1/f),y.translate(-x.x,-x.y)}r.bg&&(y.globalCompositeOperation="destination-over",y.fillStyle=r.bg,y.rect(0,0,o,l),y.fill())}return p};function gP(r,e){for(var t=atob(r),n=new ArrayBuffer(t.length),i=new Uint8Array(n),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return new Blob([n],{type:e})}function a0(r){var e=r.indexOf(",");return r.substr(e+1)}function G1(r,e,t){var n=function(){return e.toDataURL(t,r.quality)};switch(r.output){case"blob-promise":return new eo(function(i,o){try{e.toBlob(function(l){l!=null?i(l):o(new Error("`canvas.toBlob()` sent a null value in its callback"))},t,r.quality)}catch(l){o(l)}});case"blob":return gP(a0(n()),t);case"base64":return a0(n());case"base64uri":default:return n()}}Ss.png=function(r){return G1(r,this.bufferCanvasImage(r),"image/png")};Ss.jpg=function(r){return G1(r,this.bufferCanvasImage(r),"image/jpeg")};var K1={};K1.nodeShapeImpl=function(r,e,t,n,i,o,l,u){switch(r){case"ellipse":return this.drawEllipsePath(e,t,n,i,o);case"polygon":return this.drawPolygonPath(e,t,n,i,o,l);case"round-polygon":return this.drawRoundPolygonPath(e,t,n,i,o,l,u);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,t,n,i,o,u);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,t,n,i,o,l,u);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,t,n,i,o,u);case"barrel":return this.drawBarrelPath(e,t,n,i,o)}};var mP=Y1,tt=Y1.prototype;tt.CANVAS_LAYERS=3;tt.SELECT_BOX=0;tt.DRAG=1;tt.NODE=2;tt.WEBGL=3;tt.CANVAS_TYPES=["2d","2d","2d","webgl2"];tt.BUFFER_COUNT=3;tt.TEXTURE_BUFFER=0;tt.MOTIONBLUR_BUFFER_NODE=1;tt.MOTIONBLUR_BUFFER_DRAG=2;function Y1(r){var e=this,t=e.cy.window(),n=t.document;r.webgl&&(tt.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(tt.CANVAS_LAYERS),contexts:new Array(tt.CANVAS_LAYERS),canvasNeedsRedraw:new Array(tt.CANVAS_LAYERS),bufferCanvases:new Array(tt.BUFFER_COUNT),bufferContexts:new Array(tt.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",o="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var l=e.data.canvasContainer.style;e.data.canvasContainer.style[i]=o,l.position="relative",l.zIndex="0",l.overflow="hidden";var u=r.cy.container();u.appendChild(e.data.canvasContainer),u.style[i]=o;var c={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};fE()&&(c["-ms-touch-action"]="none",c["touch-action"]="none");for(var f=0;f<tt.CANVAS_LAYERS;f++){var v=e.data.canvases[f]=n.createElement("canvas"),h=tt.CANVAS_TYPES[f];e.data.contexts[f]=v.getContext(h),e.data.contexts[f]||Bt("Could not create canvas of type "+h),Object.keys(c).forEach(function(le){v.style[le]=c[le]}),v.style.position="absolute",v.setAttribute("data-id","layer"+f),v.style.zIndex=String(tt.CANVAS_LAYERS-f),e.data.canvasContainer.appendChild(v),e.data.canvasNeedsRedraw[f]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[tt.NODE].setAttribute("data-id","layer"+tt.NODE+"-node"),e.data.canvases[tt.SELECT_BOX].setAttribute("data-id","layer"+tt.SELECT_BOX+"-selectbox"),e.data.canvases[tt.DRAG].setAttribute("data-id","layer"+tt.DRAG+"-drag"),e.data.canvases[tt.WEBGL]&&e.data.canvases[tt.WEBGL].setAttribute("data-id","layer"+tt.WEBGL+"-webgl");for(var f=0;f<tt.BUFFER_COUNT;f++)e.data.bufferCanvases[f]=n.createElement("canvas"),e.data.bufferContexts[f]=e.data.bufferCanvases[f].getContext("2d"),e.data.bufferCanvases[f].style.position="absolute",e.data.bufferCanvases[f].setAttribute("data-id","buffer"+f),e.data.bufferCanvases[f].style.zIndex=String(-f-1),e.data.bufferCanvases[f].style.visibility="hidden";e.pathsEnabled=!0;var p=Br(),y=function(Q){return{x:(Q.x1+Q.x2)/2,y:(Q.y1+Q.y2)/2}},m=function(Q){return{x:-Q.w/2,y:-Q.h/2}},E=function(Q){var Z=Q[0]._private,ie=Z.oldBackgroundTimestamp===Z.backgroundTimestamp;return!ie},x=function(Q){return Q[0]._private.nodeKey},S=function(Q){return Q[0]._private.labelStyleKey},b=function(Q){return Q[0]._private.sourceLabelStyleKey},k=function(Q){return Q[0]._private.targetLabelStyleKey},T=function(Q,Z,ie,de,be){return e.drawElement(Q,Z,ie,!1,!1,be)},D=function(Q,Z,ie,de,be){return e.drawElementText(Q,Z,ie,de,"main",be)},R=function(Q,Z,ie,de,be){return e.drawElementText(Q,Z,ie,de,"source",be)},P=function(Q,Z,ie,de,be){return e.drawElementText(Q,Z,ie,de,"target",be)},B=function(Q){return Q.boundingBox(),Q[0]._private.bodyBounds},L=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.main||p},M=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.source||p},z=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.target||p},O=function(Q,Z){return Z},_=function(Q){return y(B(Q))},W=function(Q,Z,ie){var de=Q?Q+"-":"";return{x:Z.x+ie.pstyle(de+"text-margin-x").pfValue,y:Z.y+ie.pstyle(de+"text-margin-y").pfValue}},U=function(Q,Z,ie){var de=Q[0]._private.rscratch;return{x:de[Z],y:de[ie]}},H=function(Q){return W("",U(Q,"labelX","labelY"),Q)},q=function(Q){return W("source",U(Q,"sourceLabelX","sourceLabelY"),Q)},V=function(Q){return W("target",U(Q,"targetLabelX","targetLabelY"),Q)},G=function(Q){return m(B(Q))},j=function(Q){return m(M(Q))},N=function(Q){return m(z(Q))},F=function(Q){var Z=L(Q),ie=m(L(Q));if(Q.isNode()){switch(Q.pstyle("text-halign").value){case"left":ie.x=-Z.w-(Z.leftPad||0);break;case"right":ie.x=-(Z.rightPad||0);break}switch(Q.pstyle("text-valign").value){case"top":ie.y=-Z.h-(Z.topPad||0);break;case"bottom":ie.y=-(Z.botPad||0);break}}return ie},ee=e.data.eleTxrCache=new Zo(e,{getKey:x,doesEleInvalidateKey:E,drawElement:T,getBoundingBox:B,getRotationPoint:_,getRotationOffset:G,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),ae=e.data.lblTxrCache=new Zo(e,{getKey:S,drawElement:D,getBoundingBox:L,getRotationPoint:H,getRotationOffset:F,isVisible:O}),ne=e.data.slbTxrCache=new Zo(e,{getKey:b,drawElement:R,getBoundingBox:M,getRotationPoint:q,getRotationOffset:j,isVisible:O}),se=e.data.tlbTxrCache=new Zo(e,{getKey:k,drawElement:P,getBoundingBox:z,getRotationPoint:V,getRotationOffset:N,isVisible:O}),fe=e.data.lyrTxrCache=new z1(e);e.onUpdateEleCalcs(function(Q,Z){ee.invalidateElements(Z),ae.invalidateElements(Z),ne.invalidateElements(Z),se.invalidateElements(Z),fe.invalidateElements(Z);for(var ie=0;ie<Z.length;ie++){var de=Z[ie]._private;de.oldBackgroundTimestamp=de.backgroundTimestamp}});var ge=function(Q){for(var Z=0;Z<Q.length;Z++)fe.enqueueElementRefinement(Q[Z].ele)};ee.onDequeue(ge),ae.onDequeue(ge),ne.onDequeue(ge),se.onDequeue(ge),r.webgl&&e.initWebgl(r,{getStyleKey:x,getLabelKey:S,getSourceLabelKey:b,getTargetLabelKey:k,drawElement:T,drawLabel:D,drawSourceLabel:R,drawTargetLabel:P,getElementBox:B,getLabelBox:L,getSourceLabelBox:M,getTargetLabelBox:z,getElementRotationPoint:_,getElementRotationOffset:G,getLabelRotationPoint:H,getSourceLabelRotationPoint:q,getTargetLabelRotationPoint:V,getLabelRotationOffset:F,getSourceLabelRotationOffset:j,getTargetLabelRotationOffset:N})}tt.redrawHint=function(r,e){var t=this;switch(r){case"eles":t.data.canvasNeedsRedraw[tt.NODE]=e;break;case"drag":t.data.canvasNeedsRedraw[tt.DRAG]=e;break;case"select":t.data.canvasNeedsRedraw[tt.SELECT_BOX]=e;break;case"gc":t.data.gc=!0;break}};var yP=typeof Path2D<"u";tt.path2dEnabled=function(r){if(r===void 0)return this.pathsEnabled;this.pathsEnabled=!!r};tt.usePaths=function(){return yP&&this.pathsEnabled};tt.setImgSmoothing=function(r,e){r.imageSmoothingEnabled!=null?r.imageSmoothingEnabled=e:(r.webkitImageSmoothingEnabled=e,r.mozImageSmoothingEnabled=e,r.msImageSmoothingEnabled=e)};tt.getImgSmoothing=function(r){return r.imageSmoothingEnabled!=null?r.imageSmoothingEnabled:r.webkitImageSmoothingEnabled||r.mozImageSmoothingEnabled||r.msImageSmoothingEnabled};tt.makeOffscreenCanvas=function(r,e){var t;if((typeof OffscreenCanvas>"u"?"undefined":Jt(OffscreenCanvas))!=="undefined")t=new OffscreenCanvas(r,e);else{var n=this.cy.window(),i=n.document;t=i.createElement("canvas"),t.width=r,t.height=e}return t};[O1,Dn,Un,Hv,si,Ba,Ar,W1,Aa,Ss,K1].forEach(function(r){je(tt,r)});var wP=[{name:"null",impl:S1},{name:"base",impl:M1},{name:"canvas",impl:mP}],xP=[{type:"layout",extensions:Hk},{type:"renderer",extensions:wP}],X1={},Q1={};function Z1(r,e,t){var n=t,i=function(B){pt("Can not register `"+e+"` for `"+r+"` since `"+B+"` already exists in the prototype and can not be overridden")};if(r==="core"){if(cs.prototype[e])return i(e);cs.prototype[e]=t}else if(r==="collection"){if(vr.prototype[e])return i(e);vr.prototype[e]=t}else if(r==="layout"){for(var o=function(B){this.options=B,t.call(this,B),ft(this._private)||(this._private={}),this._private.cy=B.cy,this._private.listeners=[],this.createEmitter()},l=o.prototype=Object.create(t.prototype),u=[],c=0;c<u.length;c++){var f=u[c];l[f]=l[f]||function(){return this}}l.start&&!l.run?l.run=function(){return this.start(),this}:!l.start&&l.run&&(l.start=function(){return this.run(),this});var v=t.prototype.stop;l.stop=function(){var P=this.options;if(P&&P.animate){var B=this.animations;if(B)for(var L=0;L<B.length;L++)B[L].stop()}return v?v.call(this):this.emit("layoutstop"),this},l.destroy||(l.destroy=function(){return this}),l.cy=function(){return this._private.cy};var h=function(B){return B._private.cy},p={addEventFields:function(B,L){L.layout=B,L.cy=h(B),L.target=B},bubble:function(){return!0},parent:function(B){return h(B)}};je(l,{createEmitter:function(){return this._private.emitter=new Pu(p,this),this},emitter:function(){return this._private.emitter},on:function(B,L){return this.emitter().on(B,L),this},one:function(B,L){return this.emitter().one(B,L),this},once:function(B,L){return this.emitter().one(B,L),this},removeListener:function(B,L){return this.emitter().removeListener(B,L),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(B,L){return this.emitter().emit(B,L),this}}),ht.eventAliasesOn(l),n=o}else if(r==="renderer"&&e!=="null"&&e!=="base"){var y=J1("renderer","base"),m=y.prototype,E=t,x=t.prototype,S=function(){y.apply(this,arguments),E.apply(this,arguments)},b=S.prototype;for(var k in m){var T=m[k],D=x[k]!=null;if(D)return i(k);b[k]=T}for(var R in x)b[R]=x[R];m.clientFunctions.forEach(function(P){b[P]=b[P]||function(){Bt("Renderer does not implement `renderer."+P+"()` on its prototype")}}),n=S}else if(r==="__proto__"||r==="constructor"||r==="prototype")return Bt(r+" is an illegal type to be registered, possibly lead to prototype pollutions");return m0({map:X1,keys:[r,e],value:n})}function J1(r,e){return y0({map:X1,keys:[r,e]})}function bP(r,e,t,n,i){return m0({map:Q1,keys:[r,e,t,n],value:i})}function EP(r,e,t,n){return y0({map:Q1,keys:[r,e,t,n]})}var xv=function(){if(arguments.length===2)return J1.apply(null,arguments);if(arguments.length===3)return Z1.apply(null,arguments);if(arguments.length===4)return EP.apply(null,arguments);if(arguments.length===5)return bP.apply(null,arguments);Bt("Invalid extension access syntax")};cs.prototype.extension=xv;xP.forEach(function(r){r.extensions.forEach(function(e){Z1(r.type,e.name,e.impl)})});var pu=function(){if(!(this instanceof pu))return new pu;this.length=0},ii=pu.prototype;ii.instanceString=function(){return"stylesheet"};ii.selector=function(r){var e=this.length++;return this[e]={selector:r,properties:[]},this};ii.css=function(r,e){var t=this.length-1;if(qe(r))this[t].properties.push({name:r,value:e});else if(ft(r))for(var n=r,i=Object.keys(n),o=0;o<i.length;o++){var l=i[o],u=n[l];if(u!=null){var c=sr.properties[l]||sr.properties[mu(l)];if(c!=null){var f=c.name,v=u;this[t].properties.push({name:f,value:v})}}}return this};ii.style=ii.css;ii.generateStyle=function(r){var e=new sr(r);return this.appendToStyle(e)};ii.appendToStyle=function(r){for(var e=0;e<this.length;e++){var t=this[e],n=t.selector,i=t.properties;r.selector(n);for(var o=0;o<i.length;o++){var l=i[o];r.css(l.name,l.value)}}return r};var SP="3.33.1",Ta=function(e){if(e===void 0&&(e={}),ft(e))return new cs(e);if(qe(e))return xv.apply(xv,arguments)};Ta.use=function(r){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Ta),r.apply(null,e),this};Ta.warnings=function(r){return k0(r)};Ta.version=SP;Ta.stylesheet=Ta.Stylesheet=pu;const i0=["#E53935","#43A047","#1E88E5","#FB8C00","#8E24AA","#00ACC1","#D81B60","#FFB300","#546E7A","#F06292"];function CP(r){const e=r.nodes.map(n=>({data:{id:n.id,label:n.label||n.id},position:n.x!==void 0&&n.y!==void 0?{x:n.x,y:n.y}:void 0})),t=r.edges.map(n=>({data:{id:n.id,source:n.source,target:n.target,weight:n.weight}}));return[...e,...t]}const kP=[{selector:"node",style:{"background-color":"#424242",label:"data(label)","text-valign":"center","text-halign":"center",color:"#ffffff","font-size":"14px",width:50,height:50,"border-width":2,"border-color":"#212121"}},{selector:"node:selected",style:{"border-color":"#2196F3","border-width":4}},{selector:"node.highlighted",style:{"border-color":"#FFC107","border-width":4}},{selector:"edge",style:{width:3,"line-color":"#757575","target-arrow-color":"#757575","target-arrow-shape":"none","curve-style":"bezier"}},{selector:"edge:selected",style:{"line-color":"#2196F3",width:5}},{selector:"edge.highlighted",style:{"line-color":"#FFC107",width:5}},{selector:"edge[?directed]",style:{"target-arrow-shape":"triangle"}}];function TP(r,e={}){const t=it.useRef(null),n=jt(h=>h.graph),i=ei(h=>h.currentStep()),o=vn(h=>h.editMode),l=it.useRef(e);l.current=e,it.useEffect(()=>{if(!r.current||t.current)return;const h=Ta({container:r.current,style:kP,layout:{name:"preset"},minZoom:.2,maxZoom:3,wheelSensitivity:.3});return t.current=h,h.on("tap","node",p=>{var m,E;const y=p.target;(E=(m=l.current).onNodeClick)==null||E.call(m,y.id())}),h.on("tap","edge",p=>{var m,E;const y=p.target;(E=(m=l.current).onEdgeClick)==null||E.call(m,y.id())}),h.on("tap",p=>{var y,m;if(p.target===h){const E=p.position;(m=(y=l.current).onCanvasClick)==null||m.call(y,E)}}),h.on("dragfree","node",p=>{var E,x;const y=p.target,m=y.position();(x=(E=l.current).onNodeDrag)==null||x.call(E,y.id(),m)}),()=>{h.destroy(),t.current=null}},[r]),it.useEffect(()=>{const h=t.current;h&&h.batch(()=>{h.elements().remove(),h.add(CP(n)),!n.nodes.some(y=>y.x!==void 0)&&n.nodes.length>0&&h.layout({name:"cose",animate:!1,randomize:!0,nodeRepulsion:()=>8e3,idealEdgeLength:()=>100}).run(),n.directed&&h.edges().addClass("directed")})},[n]),it.useEffect(()=>{const h=t.current;h&&(h.elements().removeClass("highlighted"),h.nodes().style({"background-color":"#424242","border-color":"#212121","border-width":2}),h.edges().style({"line-color":"#757575",width:3}),i&&h.batch(()=>{i.highlightNodes.forEach(p=>{h.getElementById(p).addClass("highlighted")}),i.highlightEdges.forEach(p=>{h.getElementById(p).addClass("highlighted")}),i.nodeStyles.forEach((p,y)=>{const m=h.getElementById(y);m.length>0&&(p.backgroundColor&&m.style("background-color",p.backgroundColor),p.borderColor&&m.style("border-color",p.borderColor),p.borderWidth&&m.style("border-width",p.borderWidth))}),i.edgeStyles.forEach((p,y)=>{const m=h.getElementById(y);m.length>0&&(p.lineColor&&m.style("line-color",p.lineColor),p.lineWidth&&m.style("width",p.lineWidth))})}))},[i]),it.useEffect(()=>{if(!t.current||!r.current)return;const p=r.current;switch(o){case"addNode":p.style.cursor="crosshair";break;case"addEdge":p.style.cursor="pointer";break;case"delete":p.style.cursor="not-allowed";break;default:p.style.cursor="default"}},[o,r]);const u=it.useCallback(()=>{var h;(h=t.current)==null||h.fit(void 0,50)},[]),c=it.useCallback(()=>{var h;(h=t.current)==null||h.center()},[]),f=it.useCallback(h=>{var p;(p=t.current)==null||p.zoom(h)},[]),v=it.useCallback(h=>{const p=t.current;p&&p.batch(()=>{h.forEach((y,m)=>{const E=p.getElementById(m);E.length>0&&E.style("background-color",i0[y%i0.length])})})},[]);return{cy:t.current,fit:u,center:c,zoom:f,applyColorPalette:v}}const PP="_result_v5lda_1",DP="_success_v5lda_14",RP="_failed_v5lda_18",BP="_label_v5lda_22",AP="_value_v5lda_32",NP="_detail_v5lda_46",Sn={result:PP,success:DP,failed:RP,label:BP,value:AP,detail:NP};function MP(){var l,u,c;const{steps:r,currentStepIndex:e,algorithm:t}=ei(),n=r[e],i=((l=n==null?void 0:n.state)==null?void 0:l.phase)==="complete",o=((u=n==null?void 0:n.state)==null?void 0:u.phase)==="failed";if(!n||!i&&!o)return null;if((t==null?void 0:t.category)==="coloring"){const f=(c=n.state)==null?void 0:c.colorsUsed;if(o)return X.jsxs("div",{className:`${Sn.result} ${Sn.failed}`,children:[X.jsx("div",{className:Sn.label,children:"Result"}),X.jsx("div",{className:Sn.value,children:"Not Colorable"}),X.jsx("div",{className:Sn.detail,children:"Graph cannot be colored with the specified number of colors"})]});if(f!==void 0)return X.jsxs("div",{className:`${Sn.result} ${Sn.success}`,children:[X.jsx("div",{className:Sn.label,children:"Chromatic Number"}),X.jsx("div",{className:Sn.value,children:f}),X.jsxs("div",{className:Sn.detail,children:[f===1&&"Graph has no edges (independent set)",f===2&&"Graph is bipartite",f===3&&"Graph is 3-colorable",f>3&&`Graph requires at least ${f} colors`]})]})}return null}const LP="_container_1d1gs_1",IP="_canvas_1d1gs_10",zP="_controls_1d1gs_16",OP="_hint_1d1gs_42",$l={container:LP,canvas:IP,controls:zP,hint:OP};function _P(){const r=it.useRef(null),e=jt(b=>b.addNode),t=jt(b=>b.addEdge),n=jt(b=>b.removeNode),i=jt(b=>b.removeEdge),o=jt(b=>b.updateNode),l=jt(b=>b.selectNode),u=jt(b=>b.selectEdge),c=jt(b=>b.clearSelection),f=vn(b=>b.editMode),v=vn(b=>b.edgeSourceNode),h=vn(b=>b.setEdgeSourceNode),p=it.useCallback(b=>{switch(f){case"select":l(b);break;case"delete":n(b);break;case"addEdge":v?v!==b&&(t(v,b),h(null)):h(b);break}},[f,v,l,n,t,h]),y=it.useCallback(b=>{switch(f){case"select":u(b);break;case"delete":i(b);break}},[f,u,i]),m=it.useCallback(b=>{switch(f){case"select":c();break;case"addNode":e({x:b.x,y:b.y});break;case"addEdge":h(null);break}},[f,c,e,h]),E=it.useCallback((b,k)=>{o(b,{x:k.x,y:k.y})},[o]),{fit:x,center:S}=TP(r,{onNodeClick:p,onEdgeClick:y,onCanvasClick:m,onNodeDrag:E});return X.jsxs("div",{className:$l.container,children:[X.jsx("div",{ref:r,className:$l.canvas}),X.jsx(MP,{}),X.jsxs("div",{className:$l.controls,children:[X.jsx("button",{onClick:x,className:"btn-secondary",title:"Fit to view",children:"Fit"}),X.jsx("button",{onClick:S,className:"btn-secondary",title:"Center view",children:"Center"})]}),f==="addEdge"&&v&&X.jsx("div",{className:$l.hint,children:"Click another node to create edge, or click canvas to cancel"})]})}const FP="_container_1kvv3_1",VP="_controls_1kvv3_10",qP="_playbackButtons_1kvv3_16",WP="_controlButton_1kvv3_22",$P="_playPause_1kvv3_46",UP="_speedControl_1kvv3_59",HP="_stopButton_1kvv3_85",jP="_progress_1kvv3_102",GP="_progressBar_1kvv3_109",KP="_stepInfo_1kvv3_115",YP="_stepNumber_1kvv3_123",XP="_stepDescription_1kvv3_128",ir={container:FP,controls:VP,playbackButtons:qP,controlButton:WP,playPause:$P,speedControl:UP,stopButton:HP,progress:jP,progressBar:GP,stepInfo:KP,stepNumber:YP,stepDescription:XP};function QP(){return X.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:X.jsx("path",{d:"M3 3v10h1.5V3H3zm3.5 5l6 4.5V3.5l-6 4.5z"})})}function ZP(){return X.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:X.jsx("path",{d:"M11 3.5L5 8l6 4.5v-9z"})})}function JP(){return X.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"currentColor",children:X.jsx("path",{d:"M4 3v12l10-6L4 3z"})})}function eD(){return X.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"currentColor",children:X.jsx("path",{d:"M5 3h3v12H5V3zm5 0h3v12h-3V3z"})})}function tD(){return X.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:X.jsx("path",{d:"M5 3.5v9L11 8 5 3.5z"})})}function rD(){return X.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:X.jsx("path",{d:"M12 3v10h-1.5V3H12zM3.5 3.5v9l6-4.5-6-4.5z"})})}function nD(){const{steps:r,currentStepIndex:e,status:t,speed:n,setSpeed:i,stepForward:o,stepBackward:l,goToStart:u,goToEnd:c,currentStep:f,progress:v}=ei(),{play:h,pause:p,stop:y,isRunning:m,hasSteps:E}=s0(),x=f();return E?X.jsxs("div",{className:ir.container,children:[X.jsxs("div",{className:ir.controls,children:[X.jsxs("div",{className:ir.playbackButtons,children:[X.jsx("button",{className:ir.controlButton,onClick:u,disabled:e<=0,title:"Go to start",children:X.jsx(QP,{})}),X.jsx("button",{className:ir.controlButton,onClick:l,disabled:e<=0,title:"Step backward",children:X.jsx(ZP,{})}),m?X.jsx("button",{className:`${ir.controlButton} ${ir.playPause}`,onClick:p,title:"Pause",children:X.jsx(eD,{})}):X.jsx("button",{className:`${ir.controlButton} ${ir.playPause}`,onClick:h,disabled:t==="complete"&&e>=r.length-1,title:"Play",children:X.jsx(JP,{})}),X.jsx("button",{className:ir.controlButton,onClick:o,disabled:e>=r.length-1,title:"Step forward",children:X.jsx(tD,{})}),X.jsx("button",{className:ir.controlButton,onClick:c,disabled:e>=r.length-1,title:"Go to end",children:X.jsx(rD,{})})]}),X.jsxs("div",{className:ir.speedControl,children:[X.jsx("label",{children:"Speed"}),X.jsx("input",{type:"range",min:50,max:2e3,step:50,value:2050-n,onChange:S=>i(2050-parseInt(S.target.value))}),X.jsxs("span",{children:[n,"ms"]})]}),X.jsx("button",{className:ir.stopButton,onClick:y,title:"Stop",children:"Stop"})]}),X.jsx("div",{className:ir.progress,children:X.jsx("div",{className:ir.progressBar,style:{width:`${v()}%`}})}),X.jsxs("div",{className:ir.stepInfo,children:[X.jsxs("span",{className:ir.stepNumber,children:["Step ",e+1," / ",r.length]}),x&&X.jsx("span",{className:ir.stepDescription,children:x.description})]})]}):null}const Gv=gu((r,e)=>({leftAlgorithm:null,rightAlgorithm:null,leftSteps:[],rightSteps:[],leftStepIndex:-1,rightStepIndex:-1,raceStatus:"idle",winner:null,speed:200,startNode:"",endNode:"",selectLeft:t=>r({leftAlgorithm:t}),selectRight:t=>r({rightAlgorithm:t}),setStartNode:t=>r({startNode:t}),setEndNode:t=>r({endNode:t}),setSpeed:t=>r({speed:Math.max(50,Math.min(2e3,t))}),runRace:t=>{const{leftAlgorithm:n,rightAlgorithm:i,startNode:o,endNode:l}=e();if(!n||!i||!o||!l||o===l)return;const u={startNode:o,endNode:l},c=n.run(t,u),f=[];let v=c.next();for(;!v.done;)f.push(v.value),v=c.next();const h=i.run(t,u),p=[];for(v=h.next();!v.done;)p.push(v.value),v=h.next();r({leftSteps:f,rightSteps:p,leftStepIndex:f.length>0?0:-1,rightStepIndex:p.length>0?0:-1,raceStatus:"paused",winner:null})},stepBoth:()=>{const{leftStepIndex:t,rightStepIndex:n,leftSteps:i,rightSteps:o}=e(),l=t>=i.length-1,u=n>=o.length-1;if(l&&u){const p=i.length,y=o.length;let m="tie";return p<y?m="left":y<p&&(m="right"),r({raceStatus:"complete",winner:m}),!1}r({leftStepIndex:l?t:t+1,rightStepIndex:u?n:n+1});const c=l?t:t+1,f=u?n:n+1,v=c>=i.length-1,h=f>=o.length-1;if(v&&h){const p=i.length,y=o.length;let m="tie";return p<y?m="left":y<p&&(m="right"),r({raceStatus:"complete",winner:m}),!1}return!0},play:()=>{const{leftSteps:t,rightSteps:n,leftStepIndex:i,rightStepIndex:o}=e();if(t.length===0&&n.length===0)return;const l=i>=t.length-1,u=o>=n.length-1;l&&u&&r({leftStepIndex:0,rightStepIndex:0,winner:null}),r({raceStatus:"running"})},pause:()=>r({raceStatus:"paused"}),reset:()=>r({leftSteps:[],rightSteps:[],leftStepIndex:-1,rightStepIndex:-1,raceStatus:"idle",winner:null}),leftCurrentStep:()=>{const{leftSteps:t,leftStepIndex:n}=e();return n>=0?t[n]:null},rightCurrentStep:()=>{const{rightSteps:t,rightStepIndex:n}=e();return n>=0?t[n]:null},canStart:()=>{const{leftAlgorithm:t,rightAlgorithm:n,startNode:i,endNode:o}=e();return!!(t&&n&&i&&o&&i!==o)}}));function aD(r){const e=r.nodes.map(n=>({data:{id:n.id,label:n.label||n.id},position:n.x!==void 0&&n.y!==void 0?{x:n.x,y:n.y}:void 0})),t=r.edges.map(n=>({data:{id:n.id,source:n.source,target:n.target,weight:n.weight}}));return[...e,...t]}const iD=[{selector:"node",style:{"background-color":"#424242",label:"data(label)","text-valign":"center","text-halign":"center",color:"#ffffff","font-size":"12px",width:40,height:40,"border-width":2,"border-color":"#212121"}},{selector:"edge",style:{width:2,"line-color":"#757575","target-arrow-color":"#757575","target-arrow-shape":"none","curve-style":"bezier"}}];function o0({step:r,label:e}){const t=it.useRef(null),n=it.useRef(null),i=jt(o=>o.graph);return it.useEffect(()=>{if(!t.current||n.current)return;const o=Ta({container:t.current,style:iD,layout:{name:"preset"},minZoom:.2,maxZoom:3,wheelSensitivity:.3,userPanningEnabled:!0,userZoomingEnabled:!0,boxSelectionEnabled:!1,autoungrabify:!0});return n.current=o,()=>{o.destroy(),n.current=null}},[]),it.useEffect(()=>{const o=n.current;o&&(o.batch(()=>{o.elements().remove(),o.add(aD(i)),!i.nodes.some(u=>u.x!==void 0)&&i.nodes.length>0&&o.layout({name:"cose",animate:!1,randomize:!0,nodeRepulsion:()=>8e3,idealEdgeLength:()=>80}).run()}),o.fit(void 0,20))},[i]),it.useEffect(()=>{const o=n.current;o&&(o.nodes().style({"background-color":"#424242","border-color":"#212121","border-width":2}),o.edges().style({"line-color":"#757575",width:2}),r&&o.batch(()=>{r.nodeStyles.forEach((l,u)=>{const c=o.getElementById(u);c.length>0&&(l.backgroundColor&&c.style("background-color",l.backgroundColor),l.borderColor&&c.style("border-color",l.borderColor),l.borderWidth&&c.style("border-width",l.borderWidth))}),r.edgeStyles.forEach((l,u)=>{const c=o.getElementById(u);c.length>0&&(l.lineColor&&c.style("line-color",l.lineColor),l.lineWidth&&c.style("width",l.lineWidth))})}))},[r]),X.jsxs("div",{style:{display:"flex",flexDirection:"column",flex:1,minWidth:0},children:[X.jsx("div",{style:{padding:"8px 12px",fontFamily:"var(--font-mono)",fontSize:"13px",fontWeight:600,color:"var(--text-secondary)",borderBottom:"1px solid var(--border-color)",textTransform:"uppercase",letterSpacing:"0.05em"},children:e}),X.jsx("div",{ref:t,style:{flex:1,minHeight:300,backgroundColor:"var(--bg-primary)"}}),r&&X.jsxs("div",{style:{padding:"8px 12px",fontFamily:"var(--font-mono)",fontSize:"12px",color:"var(--text-secondary)",borderTop:"1px solid var(--border-color)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:["Step ",r.stepNumber+1,": ",r.description]})]})}function oD(){const r=jt(B=>B.graph),{leftAlgorithm:e,rightAlgorithm:t,raceStatus:n,speed:i,startNode:o,endNode:l,leftSteps:u,rightSteps:c,leftStepIndex:f,rightStepIndex:v,selectLeft:h,selectRight:p,setStartNode:y,setEndNode:m,setSpeed:E,runRace:x,play:S,pause:b,reset:k}=Gv(),T=l0.filter(B=>B.category==="pathfinding"),D=e&&t&&o&&l&&o!==l,R=u.length>0||c.length>0,P=()=>{D&&x(r)};return X.jsxs("div",{style:{padding:"16px 20px",borderTop:"1px solid var(--border-color)",display:"flex",flexDirection:"column",gap:"12px",backgroundColor:"var(--bg-secondary)"},children:[X.jsxs("div",{style:{display:"flex",gap:"16px"},children:[X.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[X.jsx("label",{style:{fontFamily:"var(--font-mono)",fontSize:"11px",fontWeight:600,color:"var(--text-tertiary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Left Algorithm"}),X.jsxs("select",{value:(e==null?void 0:e.id)||"",onChange:B=>h(T.find(L=>L.id===B.target.value)||null),disabled:n==="running",style:{padding:"8px",fontFamily:"var(--font-mono)",fontSize:"13px",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px"},children:[X.jsx("option",{value:"",children:"Select..."}),T.map(B=>X.jsx("option",{value:B.id,children:B.name},B.id))]})]}),X.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[X.jsx("label",{style:{fontFamily:"var(--font-mono)",fontSize:"11px",fontWeight:600,color:"var(--text-tertiary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Right Algorithm"}),X.jsxs("select",{value:(t==null?void 0:t.id)||"",onChange:B=>p(T.find(L=>L.id===B.target.value)||null),disabled:n==="running",style:{padding:"8px",fontFamily:"var(--font-mono)",fontSize:"13px",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px"},children:[X.jsx("option",{value:"",children:"Select..."}),T.map(B=>X.jsx("option",{value:B.id,children:B.name},B.id))]})]})]}),X.jsxs("div",{style:{display:"flex",gap:"16px"},children:[X.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[X.jsx("label",{style:{fontFamily:"var(--font-mono)",fontSize:"11px",fontWeight:600,color:"var(--text-tertiary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Start Node"}),X.jsxs("select",{value:o,onChange:B=>y(B.target.value),disabled:n==="running",style:{padding:"8px",fontFamily:"var(--font-mono)",fontSize:"13px",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px"},children:[X.jsx("option",{value:"",children:"Select..."}),r.nodes.map(B=>X.jsx("option",{value:B.id,disabled:B.id===l,children:B.label||B.id},B.id))]})]}),X.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[X.jsx("label",{style:{fontFamily:"var(--font-mono)",fontSize:"11px",fontWeight:600,color:"var(--text-tertiary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"End Node"}),X.jsxs("select",{value:l,onChange:B=>m(B.target.value),disabled:n==="running",style:{padding:"8px",fontFamily:"var(--font-mono)",fontSize:"13px",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px"},children:[X.jsx("option",{value:"",children:"Select..."}),r.nodes.map(B=>X.jsx("option",{value:B.id,disabled:B.id===o,children:B.label||B.id},B.id))]})]})]}),X.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[X.jsx("label",{style:{fontFamily:"var(--font-mono)",fontSize:"11px",fontWeight:600,color:"var(--text-tertiary)",textTransform:"uppercase",letterSpacing:"0.05em",whiteSpace:"nowrap"},children:"Speed"}),X.jsx("input",{type:"range",min:50,max:2e3,value:i,onChange:B=>E(Number(B.target.value)),style:{flex:1}}),X.jsxs("span",{style:{fontFamily:"var(--font-mono)",fontSize:"12px",color:"var(--text-secondary)",minWidth:"50px",textAlign:"right"},children:[i,"ms"]})]}),X.jsx("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:n==="idle"?X.jsx("button",{onClick:P,disabled:!D,style:{flex:1,padding:"10px",fontFamily:"var(--font-mono)",fontSize:"13px",fontWeight:600,backgroundColor:D?"var(--text-primary)":"var(--bg-primary)",color:D?"var(--bg-primary)":"var(--text-tertiary)",border:"1px solid var(--border-color)",borderRadius:"4px",cursor:D?"pointer":"not-allowed"},children:"Start Race"}):X.jsxs(X.Fragment,{children:[n==="running"?X.jsx("button",{onClick:b,style:{flex:1,padding:"10px",fontFamily:"var(--font-mono)",fontSize:"13px",fontWeight:600,backgroundColor:"var(--text-primary)",color:"var(--bg-primary)",border:"1px solid var(--text-primary)",borderRadius:"4px",cursor:"pointer"},children:"Pause"}):X.jsx("button",{onClick:S,disabled:n==="complete",style:{flex:1,padding:"10px",fontFamily:"var(--font-mono)",fontSize:"13px",fontWeight:600,backgroundColor:n!=="complete"?"var(--text-primary)":"var(--bg-primary)",color:n!=="complete"?"var(--bg-primary)":"var(--text-tertiary)",border:"1px solid var(--border-color)",borderRadius:"4px",cursor:n!=="complete"?"pointer":"not-allowed"},children:"Play"}),X.jsx("button",{onClick:k,style:{padding:"10px 16px",fontFamily:"var(--font-mono)",fontSize:"13px",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",cursor:"pointer"},children:"Reset"})]})}),R&&X.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontFamily:"var(--font-mono)",fontSize:"12px",color:"var(--text-secondary)"},children:[X.jsxs("span",{children:["Left: step ",f+1,"/",u.length]}),X.jsxs("span",{children:["Right: step ",v+1,"/",c.length]})]})]})}function sD(){const{raceStatus:r,winner:e,leftAlgorithm:t,rightAlgorithm:n,leftSteps:i,rightSteps:o}=Gv();if(r!=="complete"||!e)return null;const l=e==="left"?t==null?void 0:t.name:e==="right"?n==null?void 0:n.name:null;return X.jsxs("div",{style:{padding:"12px 20px",backgroundColor:e==="tie"?"var(--bg-secondary)":"#1B5E20",borderTop:"1px solid var(--border-color)",display:"flex",justifyContent:"center",alignItems:"center",gap:"16px",fontFamily:"var(--font-mono)"},children:[X.jsx("span",{style:{fontSize:"14px",fontWeight:600,color:"#ffffff"},children:e==="tie"?"Tie! Both algorithms finished in the same number of steps.":`${l} wins!`}),X.jsxs("span",{style:{fontSize:"12px",color:"rgba(255,255,255,0.7)"},children:[t==null?void 0:t.name,": ",i.length," steps | ",n==null?void 0:n.name,": ",o.length," steps"]})]})}const lD="_container_7hl3f_1",uD="_canvases_7hl3f_8",cD="_divider_7hl3f_14",fD="_emptyState_7hl3f_19",Ul={container:lD,canvases:uD,divider:cD,emptyState:fD};function dD(){const r=jt(v=>v.graph),{raceStatus:e,speed:t,leftAlgorithm:n,rightAlgorithm:i,leftCurrentStep:o,rightCurrentStep:l,stepBoth:u}=Gv(),c=it.useRef(null);it.useEffect(()=>(e==="running"?c.current=window.setInterval(()=>{!u()&&c.current&&(clearInterval(c.current),c.current=null)},t):c.current&&(clearInterval(c.current),c.current=null),()=>{c.current&&(clearInterval(c.current),c.current=null)}),[e,t,u]);const f=r.nodes.length>=2;return X.jsx("div",{className:Ul.container,children:f?X.jsxs(X.Fragment,{children:[X.jsxs("div",{className:Ul.canvases,children:[X.jsx(o0,{step:o(),label:(n==null?void 0:n.name)||"Left Algorithm"}),X.jsx("div",{className:Ul.divider}),X.jsx(o0,{step:l(),label:(i==null?void 0:i.name)||"Right Algorithm"})]}),X.jsx(sD,{}),X.jsx(oD,{})]}):X.jsxs("div",{className:Ul.emptyState,children:["Add at least 2 nodes in Sandbox mode first,",X.jsx("br",{}),"then switch to Race mode to compare algorithms."]})})}const vD="_app_12pxf_1",hD="_main_12pxf_7",pD="_content_12pxf_13",ev={app:vD,main:hD,content:pD};function gD(){const r=vn(e=>e.appMode);return X.jsxs("div",{className:ev.app,children:[X.jsx(ib,{}),X.jsx("div",{className:ev.main,children:r==="race"?X.jsx(dD,{}):X.jsxs(X.Fragment,{children:[X.jsx(Gb,{}),X.jsxs("div",{className:ev.content,children:[X.jsx(_P,{}),X.jsx(nD,{})]})]})})]})}Ux.createRoot(document.getElementById("root")).render(X.jsx(it.StrictMode,{children:X.jsx(gD,{})}));
